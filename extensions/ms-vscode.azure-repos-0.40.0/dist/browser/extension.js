var os=Object.defineProperty;var a=(Ia,ha)=>os(Ia,"name",{value:ha,configurable:!0});(()=>{var Ia={850:(Ve,d,y)=>{"use strict";y.r(d),y.d(d,{AppInsightsCore:()=>ht,BaseCore:()=>an,BaseTelemetryPlugin:()=>wr.i,CoreUtils:()=>ae.Tr,DiagnosticLogger:()=>Ie.AQ,ESPromise:()=>ir,ESPromiseScheduler:()=>kn,EventHelper:()=>lr.zB,EventLatency:()=>k,EventPersistence:()=>p,EventPropertyType:()=>v,EventsDiscardedReason:()=>zn.h,FullVersionString:()=>ae.vs,InternalAppInsightsCore:()=>Ce.F,InternalBaseCore:()=>Mt.A,LoggingSeverity:()=>g.X,MinChannelPriorty:()=>Wn,NotificationManager:()=>An.f,PerfEvent:()=>Re.zn,PerfManager:()=>Re.Jk,ProcessTelemetryContext:()=>Vn.Vi,TraceLevel:()=>B,Undefined:()=>Jn.jA,Utils:()=>ae.cQ,ValueKind:()=>$,ValueSanitizer:()=>ar,Version:()=>ae.Gf,_ExtendedInternalMessageId:()=>W,_InternalLogMessage:()=>Ie.lQ,_InternalMessageId:()=>g.v,__getRegisteredEvents:()=>Sn.um,_logInternalMessage:()=>Ie.L4,_throwInternal:()=>Ie.kP,_warnToConsole:()=>Ie.jV,addEventHandler:()=>Sn.Ib,addEventListeners:()=>Sn.yw,addPageHideEventListener:()=>Sn.TJ,addPageShowEventListener:()=>Sn.nD,addPageUnloadEventListener:()=>Sn.c9,areCookiesSupported:()=>Mr.p7,arrForEach:()=>b.tO,arrIndexOf:()=>b.UA,arrMap:()=>b.Mr,arrReduce:()=>b.Xz,attachEvent:()=>Sn.pZ,cookieAvailable:()=>Mr.p7,createCookieMgr:()=>Mr.Nz,createEnumStyle:()=>h.By,createGuid:()=>ae.cm,createProcessTelemetryContext:()=>Vn.CD,createTraceParent:()=>yr.SU,createUniqueNamespace:()=>Kr.J,createUnloadHandlerContainer:()=>jr.Y,dateNow:()=>b.m6,deleteCookie:()=>ae.kT,detachEvent:()=>Sn.pD,disableCookies:()=>ae.oF,disallowsSameSiteNone:()=>Mr.UY,doPerf:()=>Re.Lm,dumpObj:()=>q.eU,eventOff:()=>Sn.QY,eventOn:()=>Sn.XO,extend:()=>ae.l7,findW3cTraceParent:()=>yr.lq,formatTraceParent:()=>yr.aR,generateW3CId:()=>lr.DO,getCommonSchemaMetaData:()=>ae.Vv,getConsole:()=>q.dr,getCookie:()=>ae.ej,getCookieValue:()=>ae.Do,getCrypto:()=>q.MX,getDocument:()=>q.Me,getExceptionName:()=>b.jj,getFieldValueType:()=>ae.Sy,getGlobal:()=>ur.Rd,getGlobalInst:()=>q.a8,getHistory:()=>q.s1,getIEVersion:()=>q.sA,getISOString:()=>b.Y6,getJSON:()=>q.xA,getLocation:()=>q.k$,getMsCrypto:()=>q.gz,getNavigator:()=>q.jW,getPerformance:()=>q.r,getSetValue:()=>b.qK,getTenantId:()=>ae.jM,getTime:()=>ae.hK,getWindow:()=>q.Jj,hasDocument:()=>q.Nv,hasHistory:()=>q.fE,hasJSON:()=>q.nS,hasNavigator:()=>q.d6,hasOwnProperty:()=>b.nr,hasWindow:()=>q.Ym,isArray:()=>b.kJ,isArrayValid:()=>ae.JT,isBeaconsSupported:()=>q.MF,isBoolean:()=>b.jn,isChromium:()=>ae.mJ,isDate:()=>b.J_,isDocumentObjectAvailable:()=>ae.x9,isError:()=>b.VZ,isFetchSupported:()=>q.JO,isFunction:()=>b.mf,isIE:()=>q.w1,isLatency:()=>ae.r7,isNotTruthy:()=>b.F,isNullOrUndefined:()=>b.le,isNumber:()=>b.hj,isObject:()=>b.Kn,isReactNative:()=>q.b$,isSampledFlag:()=>yr.Pn,isString:()=>b.HD,isTruthy:()=>b.fQ,isTypeof:()=>b.Ym,isUint8ArrayAvailable:()=>ae.IZ,isUndefined:()=>b.o8,isValidSpanId:()=>yr.Lc,isValidTraceId:()=>yr.jN,isValidTraceParent:()=>yr.J6,isValueAssigned:()=>ae.Sn,isValueKind:()=>ae.oS,isWindowObjectAvailable:()=>ae.dH,isXhrSupported:()=>q.Z3,mergeEvtNamespace:()=>Sn.jU,newGuid:()=>lr.GW,newId:()=>Fr.pZ,normalizeJsName:()=>b.Gf,objCreate:()=>ur.pu,objDefineAccessors:()=>b.l_,objForEachKey:()=>b.rW,objFreeze:()=>b.FL,objKeys:()=>b.FY,objSeal:()=>b.Xi,openXhr:()=>ae.ot,optimizeObject:()=>b.Ax,parseTraceParent:()=>yr.j_,perfNow:()=>lr.Jj,proxyAssign:()=>b.cf,proxyFunctionAs:()=>b.Oi,proxyFunctions:()=>b.Vb,random32:()=>Fr._l,randomValue:()=>Fr.az,removeEventHandler:()=>Sn.C1,removeEventListeners:()=>Sn.nJ,removePageHideEventListener:()=>Sn.C9,removePageShowEventListener:()=>Sn.Yl,removePageUnloadEventListener:()=>Sn.JA,safeGetCookieMgr:()=>Mr.JP,safeGetLogger:()=>Ie.vH,sanitizeProperty:()=>ae.yj,setCookie:()=>ae.d8,setEnableEnvMocks:()=>q.dI,setProcessTelemetryTimings:()=>ae.if,setValue:()=>b.sO,strContains:()=>b._Q,strEndsWith:()=>b.Id,strFunction:()=>Jn.cb,strObject:()=>Jn.fK,strPrototype:()=>Jn.hB,strStartsWith:()=>b.xe,strTrim:()=>b.nd,strUndefined:()=>Jn.jA,throwError:()=>b._y,toISOString:()=>b.Y6,useXDomainRequest:()=>q.cp});var w=y(1088),h=y(4873),b=y(6708),g=y(7310),$=(0,h.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),k=(0,h.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),v=(0,h.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),p=(0,h.By)({Normal:1,Critical:2}),B=(0,h.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),W=(0,b.FL)((0,w.uc)((0,w.uc)({},g.v),(0,h.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})));/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var P,F="undefined",L="constructor",X="prototype",J="function",ce="_dynInstFuncs",D="_isDynProxy",M="_dynClass",I="_dynCls$",m="_dynInstChk",R=m,T="_dfOpts",G="_unknown_",K="__proto__",Y="_dyn"+K,re="__dynProto$Gbl",ve="_dynInstProto",V="useBaseInst",fe="setInstFuncs",N=Object,Ne=N.getPrototypeOf,ue=N.getOwnPropertyNames;function ee(){var A;return typeof globalThis!==F&&(A=globalThis),!A&&typeof self!==F&&(A=self),!A&&typeof window!==F&&(A=window),!A&&typeof y.g!==F&&(A=y.g),A||{}}a(ee,"_getGlobal");var z=ee(),se=z[re]||(z[re]={o:(P={},P[fe]=!0,P[V]=!0,P),n:1e3});function Ee(A,de){return A&&N[X].hasOwnProperty.call(A,de)}a(Ee,"_hasOwnProperty");function Le(A){return A&&(A===N[X]||A===Array[X])}a(Le,"_isObjectOrArrayPrototype");function te(A){return Le(A)||A===Function[X]}a(te,"_isObjectArrayOrFunctionPrototype");function Be(A){var de;if(A){if(Ne)return Ne(A);var Se=A[K]||A[X]||(A[L]?A[L][X]:null);de=A[Y]||Se,Ee(A,Y)||(delete A[ve],de=A[Y]=A[ve]||A[Y],A[ve]=Se)}return de}a(Be,"_getObjProto");function Ke(A,de){var Se=[];if(ue)Se=ue(A);else for(var Oe in A)typeof Oe=="string"&&Ee(A,Oe)&&Se.push(Oe);if(Se&&Se.length>0)for(var Qe=0;Qe<Se.length;Qe++)de(Se[Qe])}a(Ke,"_forEachProp");function Je(A,de,Se){return de!==L&&typeof A[de]===J&&(Se||Ee(A,de))}a(Je,"_isDynamicCandidate");function U(A){throw new TypeError("DynamicProto: "+A)}a(U,"_throwTypeError");function j(A){var de={};return Ke(A,function(Se){!de[Se]&&Je(A,Se,!1)&&(de[Se]=A[Se])}),de}a(j,"_getInstanceFuncs");function Z(A,de){for(var Se=A.length-1;Se>=0;Se--)if(A[Se]===de)return!0;return!1}a(Z,"_hasVisited");function he(A,de,Se,Oe){function Qe(_t,$t,lt){var Lt=$t[lt];if(Lt[D]&&Oe){var Et=_t[ce]||{};Et[R]!==!1&&(Lt=(Et[$t[M]]||{})[lt]||Lt)}return function(){return Lt.apply(_t,arguments)}}a(Qe,"_instFuncProxy");var je={};Ke(Se,function(_t){je[_t]=Qe(de,Se,_t)});for(var tt=Be(A),dt=[];tt&&!te(tt)&&!Z(dt,tt);)Ke(tt,function(_t){!je[_t]&&Je(tt,_t,!Ne)&&(je[_t]=Qe(de,tt,_t))}),dt.push(tt),tt=Be(tt);return je}a(he,"_getBaseFuncs");function De(A,de,Se,Oe){var Qe=null;if(A&&Ee(Se,M)){var je=A[ce]||{};if(Qe=(je[Se[M]]||{})[de],Qe||U("Missing ["+de+"] "+J),!Qe[m]&&je[R]!==!1){for(var tt=!Ee(A,de),dt=Be(A),_t=[];tt&&dt&&!te(dt)&&!Z(_t,dt);){var $t=dt[de];if($t){tt=$t===Oe;break}_t.push(dt),dt=Be(dt)}try{tt&&(A[de]=Qe),Qe[m]=1}catch(lt){je[R]=!1}}}return Qe}a(De,"_getInstFunc");function be(A,de,Se){var Oe=de[A];return Oe===Se&&(Oe=Be(de)[A]),typeof Oe!==J&&U("["+A+"] is not a "+J),Oe}a(be,"_getProtoFunc");function le(A,de,Se,Oe,Qe){function je(_t,$t){var lt=a(function(){var Lt=De(this,$t,_t,lt)||be($t,_t,lt);return Lt.apply(this,arguments)},"dynProtoProxy");return lt[D]=1,lt}if(a(je,"_createDynamicPrototype"),!Le(A)){var tt=Se[ce]=Se[ce]||{},dt=tt[de]=tt[de]||{};tt[R]!==!1&&(tt[R]=!!Qe),Ke(Se,function(_t){Je(Se,_t,!1)&&Se[_t]!==Oe[_t]&&(dt[_t]=Se[_t],delete Se[_t],(!Ee(A,_t)||A[_t]&&!A[_t][D])&&(A[_t]=je(A,_t)))})}}a(le,"_populatePrototype");function ye(A,de){if(Ne){for(var Se=[],Oe=Be(de);Oe&&!te(Oe)&&!Z(Se,Oe);){if(Oe===A)return!0;Se.push(Oe),Oe=Be(Oe)}return!1}return!0}a(ye,"_checkPrototype");function Ae(A,de){return Ee(A,X)?A.name||de||G:((A||{})[L]||{}).name||de||G}a(Ae,"_getObjName");function He(A,de,Se,Oe){Ee(A,X)||U("theClass is an invalid class definition.");var Qe=A[X];ye(Qe,de)||U("["+Ae(A)+"] not in hierarchy of ["+Ae(de)+"]");var je=null;Ee(Qe,M)?je=Qe[M]:(je=I+Ae(A,"_")+"$"+se.n,se.n++,Qe[M]=je);var tt=He[T],dt=!!tt[V];dt&&Oe&&Oe[V]!==void 0&&(dt=!!Oe[V]);var _t=j(de),$t=he(Qe,de,_t,dt);Se(de,$t);var lt=!!Ne&&!!tt[fe];lt&&Oe&&(lt=!!Oe[fe]),le(Qe,je,de,_t,lt!==!1)}a(He,"dynamicProto"),He[T]=se.o;var Ie=y(5018),Re=y(9288),q=y(7630),Ce=y(5121),ie=y(7984),ae=y(3599),$e=function(A){(0,w.ne)(de,A);function de(){var Se=A.call(this)||this;return Se.pluginVersionStringArr=[],He(de,Se,function(Oe,Qe){(!Oe.logger||!Oe.logger.queue)&&(Oe.logger=new Ie.AQ({loggingLevelConsole:1})),Oe.initialize=function(je,tt,dt,_t){(0,Re.Lm)(Oe,function(){return"AppInsightsCore.initialize"},function(){var $t=Oe.pluginVersionStringArr;if(je){je.endpointUrl||(je.endpointUrl=ie.YT);var lt=je.propertyStorageOverride;lt&&(!lt.getProperty||!lt.setProperty)&&(0,b._y)("Invalid property storage override passed."),je.channels&&(0,b.tO)(je.channels,function(wt){wt&&(0,b.tO)(wt,function(yt){if(yt.identifier&&yt.version){var Rn=yt.identifier+"="+yt.version;$t.push(Rn)}})})}Oe.getWParam=function(){return typeof document!="undefined"||!!je.enableWParam?0:-1},tt&&(0,b.tO)(tt,function(wt){if(wt&&wt.identifier&&wt.version){var yt=wt.identifier+"="+wt.version;$t.push(yt)}}),Oe.pluginVersionString=$t.join(";"),Oe.pluginVersionStringArr=$t;try{Qe.initialize(je,tt,dt,_t),Oe.pollInternalLogs("InternalLog")}catch(wt){var Lt=Oe.logger,Et=(0,q.eU)(wt);Et.indexOf("channels")!==-1&&(Et+=`
 - Channels must be provided through config.channels only!`),(0,Ie.kP)(Lt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Et)}},function(){return{config:je,extensions:tt,logger:dt,notificationManager:_t}})},Oe.track=function(je){(0,Re.Lm)(Oe,function(){return"AppInsightsCore.track"},function(){var tt=je;if(tt){tt.timings=tt.timings||{},tt.timings.trackStart=(0,ae.hK)(),(0,ae.r7)(tt.latency)||(tt.latency=1);var dt=tt.ext=tt.ext||{};dt.sdk=dt.sdk||{},dt.sdk.ver=ae.vs;var _t=tt.baseData=tt.baseData||{};_t[ie.o6]=_t[ie.o6]||{};var $t=_t[ie.o6];$t[ie.p8]=$t[ie.p8]||Oe.pluginVersionString||ie.qS}Qe.track(tt)},function(){return{item:je}},!je.sync)}}),Se}return a(de,"AppInsightsCore"),de.__ieDyn=1,de}(Ce.F);const ht=$e;var Mt=y(6900),mn=function(A){(0,w.ne)(de,A);function de(){var Se=A.call(this)||this;return He(de,Se,function(Oe,Qe){Oe.initialize=function(je,tt,dt,_t){je&&!je.endpointUrl&&(je.endpointUrl=ie.YT),Oe.getWParam=function(){return ae.x9||!!je.enableWParam?0:-1};try{Qe.initialize(je,tt,dt,_t)}catch($t){(0,Ie.kP)(Oe.logger,1,514,"Initialization Failed: "+(0,q.eU)($t)+`
 - Note: Channels must be provided through config.channels only`)}},Oe.track=function(je){var tt=je;if(tt){var dt=tt.ext=tt.ext||{};dt.sdk=dt.sdk||{},dt.sdk.ver=ae.vs}Qe.track(tt)}}),Se}return a(de,"BaseCore"),de.__ieDyn=1,de}(Mt.A);const an=mn;var jn=b.mf;function Un(A,de,Se){return function(Oe){A[de]=Oe,Se()}}a(Un,"_createPromiseAllOnResolvedFunction");var bn=function(){function A(de){var Se=0,Oe=null,Qe=[];He(A,this,function($t){$t.then=function(lt,Lt){return new A(function(Et,wt){je(lt,Lt,Et,wt)})},$t.catch=function(lt){return $t.then(null,lt)}});function je($t,lt,Lt,Et){Qe.push(function(){var wt;try{Se===1?wt=jn($t)?$t(Oe):Oe:wt=jn(lt)?lt(Oe):Oe,wt instanceof A?wt.then(Lt,Et):Se===2&&!jn(lt)?Et(wt):Lt(wt)}catch(yt){Et(yt);return}}),Se!==0&&tt()}a(je,"_enqueue");function tt(){if(Qe.length>0){var $t=Qe.slice();Qe=[],setTimeout(function(){for(var lt=0,Lt=$t.length;lt<Lt;++lt)try{$t[lt]()}catch(Et){}},0)}}a(tt,"_processQueue");function dt($t){Se===0&&(Oe=$t,Se=1,tt())}a(dt,"_resolve");function _t($t){Se===0&&(Oe=$t,Se=2,tt())}a(_t,"_reject"),a(function(){if(!jn(de))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{de(dt,_t)}catch(lt){_t(lt)}},"_initialize")()}return a(A,"ESPromise"),A.resolve=function(de){return de instanceof A?de:de&&jn(de.then)?new A(function(Se,Oe){try{de.then(Se,Oe)}catch(Qe){Oe(Qe)}}):new A(function(Se){Se(de)})},A.reject=function(de){return new A(function(Se,Oe){Oe(de)})},A.all=function(de){if(!(!de||!de.length))return new A(function(Se,Oe){try{for(var Qe=[],je=0,tt=0;tt<de.length;tt++){var dt=de[tt];dt&&jn(dt.then)?(je++,dt.then(Un(Qe,tt,function(){--je==0&&Se(Qe)}),Oe)):Qe[tt]=dt}je===0&&setTimeout(function(){Se(Qe)},0)}catch(_t){Oe(_t)}})},A.race=function(de){return new A(function(Se,Oe){if(!(!de||!de.length))try{for(var Qe=a(function(tt){var dt=de[tt];dt&&jn(dt.then)?dt.then(Se,Oe):setTimeout(function(){Se(dt)},0)},"_loop_1"),je=0;je<de.length;je++)Qe(je)}catch(tt){Oe(tt)}})},A}();const ir=bn;var ur=y(2091),Or=6e5,rt=0,Rt=[],kt=[],Bt=[];function Gt(){return new Date().getTime()}a(Gt,"_getTime");var gn=function(){function A(de,Se){var Oe=0,Qe=(de||"<unnamed>")+"."+rt;rt++,He(A,this,function(dt){var _t=null,$t=0;dt.scheduleEvent=function(Lt,Et,wt){var yt=Qe+"."+$t;$t++,Et&&(yt+="-("+Et+")");var Rn=yt+"{"+Oe+"}";Oe++;var sn={evt:null,tm:Gt(),id:Rn,isRunning:!1,isAborted:!1};return _t?sn.evt=nr(sn,_t):sn.evt=Qn(sn),_t=sn,_t.evt._schId=Rn,sn.evt;function cr(Nt){for(var In=Gt(),wn=In-Or,fn=Nt.length,Nn=0;Nn<fn;){var fr=Nt[Nn];if(fr&&fr.tm<wn){var mr=null;fr.abort?(mr="Aborting ["+fr.id+"] due to Excessive runtime ("+(In-fr.tm)+" ms)",fr.abort(mr)):mr="Removing ["+fr.id+"] due to Excessive runtime ("+(In-fr.tm)+" ms)",tt(mr),Nt.splice(Nn,1),fn--}else Nn++}}a(cr,"_abortAndRemoveOldEvents");function Bn(Nt,In){var wn=!1,fn=lt(Rt,Nt);if(fn||(fn=lt(Bt,Nt),wn=!0),fn){fn.to&&(clearTimeout(fn.to),fn.to=null);var Nn=Gt()-fn.tm;In?wn?tt("Timed out event ["+Nt+"] finally complete -- "+Nn+" ms"):je("Promise ["+Nt+"] Complete -- "+Nn+" ms"):(Bt.push(fn),tt("Event ["+Nt+"] Timed out and removed -- "+Nn+" ms"))}else je("Failed to remove ["+Nt+"] from running queue");_t&&_t.id===Nt&&(_t=null),cr(Rt),cr(kt),cr(Bt)}a(Bn,"_cleanup");function tr(Nt,In){return function(wn){return Bn(Nt,!0),In&&In(wn),wn}}a(tr,"_removeScheduledEvent");function Lr(Nt,In,wn,fn){In.then(function(Nn){return Nn instanceof ir?(je("Event ["+Nt+"] returned a promise -- waiting"),Lr(Nt,Nn,wn,fn),Nn):tr(Nt,wn)(Nn)},tr(Nt,fn))}a(Lr,"_waitForFinalResult");function Nr(Nt,In){var wn=Nt.id;return new ir(function(fn,Nn){je("Event ["+wn+"] Starting -- waited for "+(Nt.wTm||"--")+" ms"),Nt.isRunning=!0,Nt.abort=function(mr){Nt.abort=null,Nt.isAborted=!0,Bn(wn,!1),Nn(new Error(mr))};var fr=In(wn);fr instanceof ir?(wt&&(Nt.to=setTimeout(function(){Bn(wn,!1),Nn(new Error("Timed out after ["+wt+"] ms"))},wt)),Lr(wn,fr,function(mr){je("Event ["+wn+"] Resolving after "+(Gt()-Nt.tm)+" ms"),fn(mr)},Nn)):(je("Promise ["+wn+"] Auto completed as the start action did not return a promise"),fn())})}a(Nr,"_createScheduledEvent");function Qn(Nt){var In=Gt();return Nt.wTm=In-Nt.tm,Nt.tm=In,Nt.isAborted?ir.reject(new Error("["+yt+"] was aborted")):(Rt.push(Nt),Nr(Nt,Lt))}a(Qn,"_startWaitingEvent");function nr(Nt,In){var wn=new ir(function(fn,Nn){var fr=Gt()-In.tm,mr=In.id;je("["+yt+"] is waiting for ["+mr+":"+fr+" ms] to complete before starting -- ["+kt.length+"] waiting and ["+Rt.length+"] running"),Nt.abort=function(xr){Nt.abort=null,lt(kt,yt),Nt.isAborted=!0,Nn(new Error(xr))},In.evt.then(function(xr){lt(kt,yt),Qn(Nt).then(fn,Nn)},function(xr){lt(kt,yt),Qn(Nt).then(fn,Nn)})});return kt.push(Nt),wn}a(nr,"_waitForPreviousEvent")};function lt(Lt,Et){for(var wt=0;wt<Lt.length;wt++)if(Lt[wt].id===Et)return Lt.splice(wt,1)[0];return null}a(lt,"_removeQueuedEvent")});function je(dt){var _t=(0,ur.Rd)();_t&&_t.QUnit&&console&&console.log("ESPromiseScheduler["+Qe+"] "+dt)}a(je,"_debugLog");function tt(dt){(0,Ie.jV)(Se,"ESPromiseScheduler["+Qe+"] "+dt)}a(tt,"_warnLog")}return a(A,"ESPromiseScheduler"),A.incomplete=function(){return Rt},A.waitingToStart=function(){return kt},A}();const kn=gn;var ar=function(){function A(de){var Se=this,Oe={},Qe=[],je=[];de&&je.push(de);function tt(lt,Lt){var Et,wt=Oe[lt];if(wt&&(Et=wt[Lt]),!Et&&Et!==null){if((0,b.HD)(lt)&&(0,b.HD)(Lt))if(je.length>0){for(var yt=0;yt<je.length;yt++)if(je[yt].handleField(lt,Lt)){Et={canHandle:!0,fieldHandler:je[yt]};break}}else Qe.length===0&&(Et={canHandle:!0});if(!Et&&Et!==null){Et=null;for(var yt=0;yt<Qe.length;yt++)if(Qe[yt].handleField(lt,Lt)){Et={canHandle:!0,handler:Qe[yt],fieldHandler:null};break}}wt||(wt=Oe[lt]={}),wt[Lt]=Et}return Et}a(tt,"_getFieldSanitizer"),Se.addSanitizer=function(lt){lt&&(Qe.push(lt),Oe={})},Se.addFieldSanitizer=function(lt){lt&&(je.push(lt),Oe={})},Se.handleField=function(lt,Lt){var Et=tt(lt,Lt);return Et?Et.canHandle:!1},Se.value=function(lt,Lt,Et,wt){var yt=tt(lt,Lt);if(yt&&yt.canHandle){if(!yt||!yt.canHandle)return null;if(yt.handler)return yt.handler.value(lt,Lt,Et,wt);if(!(0,b.HD)(Lt)||(0,b.le)(Et)||Et===ie.qS)return null;var Rn=null,sn=(0,ae.Sy)(Et);if((sn&8192)==8192){var cr=sn&~8192;if(Rn=Et,!(0,ae.Sn)(Rn.value)||cr!==1&&cr!==2&&cr!==3&&(cr&4096)!=4096)return null}else sn===1||sn===2||sn===3||(sn&4096)==4096?Rn=_t(lt,Lt,Et):sn===4&&(Rn=_t(lt,Lt,wt?JSON.stringify(Et):Et));if(Rn)return dt(yt,lt,Lt,sn,Rn,wt)}return null},Se.property=function(lt,Lt,Et,wt){var yt=tt(lt,Lt);if(!yt||!yt.canHandle||!(0,b.HD)(Lt)||(0,b.le)(Et)||!(0,ae.Sn)(Et.value))return null;var Rn=(0,ae.Sy)(Et.value);return Rn===0?null:dt(yt,lt,Lt,Rn,Et,wt)};function dt(lt,Lt,Et,wt,yt,Rn){if(lt.handler)return lt.handler.property(Lt,Et,yt,Rn);if(!(0,b.le)(yt.kind)){if((wt&4096)==4096||!(0,ae.oS)(yt.kind))return null;yt.value=yt.value.toString()}return $t(lt.fieldHandler,Lt,Et,wt,yt)}a(dt,"_handleProperty");function _t(lt,Lt,Et){return(0,ae.Sn)(Et)?{value:Et}:null}a(_t,"_convertToProperty");function $t(lt,Lt,Et,wt,yt){if(yt&&lt){var Rn=lt.getSanitizer(Lt,Et,wt,yt.kind,yt.propertyType);if(Rn)if(wt===4){var sn={},cr=yt.value;(0,b.rW)(cr,function(tr,Lr){var Nr=Lt+"."+Et;if((0,ae.Sn)(Lr)){var Qn=_t(Nr,tr,Lr);Qn=$t(lt,Nr,tr,(0,ae.Sy)(Lr),Qn),Qn&&(sn[tr]=Qn.value)}}),yt.value=sn}else{var Bn={path:Lt,name:Et,type:wt,prop:yt,sanitizer:Se};yt=Rn.call(Se,Bn)}}return yt}a($t,"_callFieldSanitizer")}return a(A,"ValueSanitizer"),A.getFieldType=ae.Sy,A}(),Wn=100,An=y(1880),wr=y(4063),Vn=y(1589),zn=y(5928),lr=y(5843),Sn=y(4869),Fr=y(4878),Jn=y(4392),Mr=y(3242),Kr=y(5883),jr=y(310),yr=y(4206)},7984:(Ve,d,y)=>{"use strict";y.d(d,{YT:()=>h,o6:()=>k,p8:()=>$,qS:()=>w});var w="",h="https://browser.events.data.microsoft.com/OneCollector/1.0/",b="pluginVersionString",g=b+"Arr",$="version",k="properties"},3599:(Ve,d,y)=>{"use strict";y.d(d,{Do:()=>N,Gf:()=>P,IZ:()=>T,JT:()=>Le,Sn:()=>m,Sy:()=>Be,Tr:()=>Je,Vv:()=>Y,cQ:()=>Ke,cm:()=>Ne,d8:()=>ve,dH:()=>I,ej:()=>fe,hK:()=>ee,if:()=>te,jM:()=>R,kT:()=>V,l7:()=>ue,mJ:()=>U,oF:()=>re,oS:()=>z,ot:()=>j,r7:()=>G,vs:()=>F,x9:()=>M,yj:()=>K});var w=y(7630),h=y(6708),b=y(3242),g=y(5843),$=y(4392),k=y(4869),v=y(4878),p=y(2091),B=y(7984),W,P="3.2.10",F="1DS-Web-JS-"+P,L="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",X="withCredentials",J="timeout",ce=(W={},W[0]=0,W[2]=6,W[1]=1,W[3]=7,W[4096|2]=6,W[4096|1]=1,W[4096|3]=7,W),D=null,M=Boolean((0,w.Me)()),I=Boolean((0,w.Jj)());function m(Z){return!(Z===B.qS||(0,h.le)(Z))}a(m,"isValueAssigned");function R(Z){if(Z){var he=Z.indexOf("-");if(he>-1)return Z.substring(0,he)}return B.qS}a(R,"getTenantId");function T(){return D===null&&(D=!(0,h.o8)(Uint8Array)&&!Ee()&&!(0,w.b$)()),D}a(T,"isUint8ArrayAvailable");function G(Z){return!!(Z&&(0,h.hj)(Z)&&Z>=1&&Z<=4)}a(G,"isLatency");function K(Z,he,De){if(!he&&!m(he)||typeof Z!="string")return null;var be=typeof he;if(be==="string"||be==="number"||be==="boolean"||(0,h.kJ)(he))he={value:he};else if(be==="object"&&!$.CY.call(he,"value"))he={value:De?JSON.stringify(he):he};else if((0,h.le)(he.value)||he.value===B.qS||!(0,h.HD)(he.value)&&!(0,h.hj)(he.value)&&!(0,h.jn)(he.value)&&!(0,h.kJ)(he.value))return null;if((0,h.kJ)(he.value)&&!Le(he.value))return null;if(!(0,h.le)(he.kind)){if((0,h.kJ)(he.value)||!z(he.kind))return null;he.value=he.value.toString()}return he}a(K,"sanitizeProperty");function Y(Z,he,De){var be=-1;if(!(0,h.o8)(Z))if(he>0&&(he===32?be=1<<13:he<=13&&(be=he<<5)),se(De))be===-1&&(be=0),be|=De;else{var le=ce[Be(Z)]||-1;be!==-1&&le!==-1?be|=le:le===6&&(be=le)}return be}a(Y,"getCommonSchemaMetaData");function re(){(0,b.JP)(null).setEnabled(!1)}a(re,"disableCookies");function ve(Z,he,De){(0,b.p7)(null)&&(0,b.JP)(null).set(Z,he,De*86400,null,"/")}a(ve,"setCookie");function V(Z){(0,b.p7)(null)&&(0,b.JP)(null).del(Z)}a(V,"deleteCookie");function fe(Z){return(0,b.p7)(null)?N((0,b.JP)(null),Z):B.qS}a(fe,"getCookie");function N(Z,he,De){De===void 0&&(De=!0);var be;return Z&&(be=Z.get(he),De&&be&&decodeURIComponent&&(be=decodeURIComponent(be))),be||B.qS}a(N,"getCookieValue");function Ne(Z){Z===void 0&&(Z="D");var he=(0,g.GW)();return Z==="B"?he="{"+he+"}":Z==="P"?he="("+he+")":Z==="N"&&(he=he.replace(/-/g,B.qS)),he}a(Ne,"createGuid");function ue(Z,he,De,be,le){var ye={},Ae=!1,He=0,Ie=arguments.length,Re=Object[$.hB],q=arguments;for(Re.toString.call(q[0])==="[object Boolean]"&&(Ae=q[0],He++);He<Ie;He++){var Z=q[He];(0,h.rW)(Z,function(ie,ae){Ae&&ae&&(0,h.Kn)(ae)?(0,h.kJ)(ae)?(ye[ie]=ye[ie]||[],(0,h.tO)(ae,function($e,ht){$e&&(0,h.Kn)($e)?ye[ie][ht]=ue(!0,ye[ie][ht],$e):ye[ie][ht]=$e})):ye[ie]=ue(!0,ye[ie],ae):ye[ie]=ae})}return ye}a(ue,"extend");var ee=g.Jj;function z(Z){return Z===0||Z>0&&Z<=13||Z===32}a(z,"isValueKind");function se(Z){return Z>=0&&Z<=9}a(se,"isDataType");function Ee(){var Z=(0,w.jW)();if(!(0,h.o8)(Z)&&Z.userAgent){var he=Z.userAgent.toLowerCase();if((he.indexOf("safari")>=0||he.indexOf("firefox")>=0)&&he.indexOf("chrome")<0)return!0}return!1}a(Ee,"isSafariOrFirefox");function Le(Z){return Z.length>0}a(Le,"isArrayValid");function te(Z,he){var De=Z;De.timings=De.timings||{},De.timings.processTelemetryStart=De.timings.processTelemetryStart||{},De.timings.processTelemetryStart[he]=ee()}a(te,"setProcessTelemetryTimings");function Be(Z){var he=0;if(Z!=null){var De=typeof Z;De==="string"?he=1:De==="number"?he=2:De==="boolean"?he=3:De===$.fK&&(he=4,(0,h.kJ)(Z)?(he=4096,Z.length>0&&(he|=Be(Z[0]))):$.CY.call(Z,"value")&&(he=8192|Be(Z.value)))}return he}a(Be,"getFieldValueType");var Ke={Version:P,FullVersionString:F,strUndefined:$.jA,strObject:$.fK,Undefined:$.jA,arrForEach:h.tO,arrIndexOf:h.UA,arrMap:h.Mr,arrReduce:h.Xz,objKeys:h.FY,toISOString:h.Y6,isReactNative:w.b$,isString:h.HD,isNumber:h.hj,isBoolean:h.jn,isFunction:h.mf,isArray:h.kJ,isObject:h.Kn,strTrim:h.nd,isDocumentObjectAvailable:M,isWindowObjectAvailable:I,isValueAssigned:m,getTenantId:R,isBeaconsSupported:w.MF,isUint8ArrayAvailable:T,isLatency:G,sanitizeProperty:K,getISOString:h.Y6,useXDomainRequest:w.cp,getCommonSchemaMetaData:Y,cookieAvailable:b.p7,disallowsSameSiteNone:b.UY,setCookie:ve,deleteCookie:V,getCookie:fe,createGuid:Ne,extend:ue,getTime:ee,isValueKind:z,isArrayValid:Le,objDefineAccessors:h.l_,addPageUnloadEventListener:k.c9,setProcessTelemetryTimings:te,addEventHandler:k.Ib,getFieldValueType:Be,strEndsWith:h.Id,objForEachKey:h.rW},Je={_canUseCookies:void 0,isTypeof:h.Ym,isUndefined:h.o8,isNullOrUndefined:h.le,hasOwnProperty:h.nr,isFunction:h.mf,isObject:h.Kn,isDate:h.J_,isArray:h.kJ,isError:h.VZ,isString:h.HD,isNumber:h.hj,isBoolean:h.jn,toISOString:h.Y6,arrForEach:h.tO,arrIndexOf:h.UA,arrMap:h.Mr,arrReduce:h.Xz,strTrim:h.nd,objCreate:p.pu,objKeys:h.FY,objDefineAccessors:h.l_,addEventHandler:k.Ib,dateNow:h.m6,isIE:w.w1,disableCookies:re,newGuid:g.GW,perfNow:g.Jj,newId:v.pZ,randomValue:v.az,random32:v._l,mwcRandomSeed:v.CN,mwcRandom32:v.F6,generateW3CId:g.DO};function U(){return!!(0,w.a8)("chrome")}a(U,"isChromium");function j(Z,he,De,be,le,ye){be===void 0&&(be=!1),le===void 0&&(le=!1);function Ae(Ie,Re,q){try{Ie[Re]=q}catch(Ce){}}a(Ae,"_wrapSetXhrProp");var He=new XMLHttpRequest;return be&&Ae(He,L,be),De&&Ae(He,X,De),He.open(Z,he,!le),De&&Ae(He,X,De),!le&&ye&&Ae(He,J,ye),He}a(j,"openXhr")},5229:(Ve,d,y)=>{"use strict";y.r(d),y.d(d,{BE_PROFILE:()=>q,NRT_PROFILE:()=>Re,PostChannel:()=>ui,RT_PROFILE:()=>Ie});var w=y(1088);/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var h,b="undefined",g="constructor",$="prototype",k="function",v="_dynInstFuncs",p="_isDynProxy",B="_dynClass",W="_dynCls$",P="_dynInstChk",F=P,L="_dfOpts",X="_unknown_",J="__proto__",ce="_dyn"+J,D="__dynProto$Gbl",M="_dynInstProto",I="useBaseInst",m="setInstFuncs",R=Object,T=R.getPrototypeOf,G=R.getOwnPropertyNames;function K(){var Pe;return typeof globalThis!==b&&(Pe=globalThis),!Pe&&typeof self!==b&&(Pe=self),!Pe&&typeof window!==b&&(Pe=window),!Pe&&typeof y.g!==b&&(Pe=y.g),Pe||{}}a(K,"_getGlobal");var Y=K(),re=Y[D]||(Y[D]={o:(h={},h[m]=!0,h[I]=!0,h),n:1e3});function ve(Pe,Ge){return Pe&&R[$].hasOwnProperty.call(Pe,Ge)}a(ve,"_hasOwnProperty");function V(Pe){return Pe&&(Pe===R[$]||Pe===Array[$])}a(V,"_isObjectOrArrayPrototype");function fe(Pe){return V(Pe)||Pe===Function[$]}a(fe,"_isObjectArrayOrFunctionPrototype");function N(Pe){var Ge;if(Pe){if(T)return T(Pe);var st=Pe[J]||Pe[$]||(Pe[g]?Pe[g][$]:null);Ge=Pe[ce]||st,ve(Pe,ce)||(delete Pe[M],Ge=Pe[ce]=Pe[M]||Pe[ce],Pe[M]=st)}return Ge}a(N,"_getObjProto");function Ne(Pe,Ge){var st=[];if(G)st=G(Pe);else for(var Ze in Pe)typeof Ze=="string"&&ve(Pe,Ze)&&st.push(Ze);if(st&&st.length>0)for(var Tt=0;Tt<st.length;Tt++)Ge(st[Tt])}a(Ne,"_forEachProp");function ue(Pe,Ge,st){return Ge!==g&&typeof Pe[Ge]===k&&(st||ve(Pe,Ge))}a(ue,"_isDynamicCandidate");function ee(Pe){throw new TypeError("DynamicProto: "+Pe)}a(ee,"_throwTypeError");function z(Pe){var Ge={};return Ne(Pe,function(st){!Ge[st]&&ue(Pe,st,!1)&&(Ge[st]=Pe[st])}),Ge}a(z,"_getInstanceFuncs");function se(Pe,Ge){for(var st=Pe.length-1;st>=0;st--)if(Pe[st]===Ge)return!0;return!1}a(se,"_hasVisited");function Ee(Pe,Ge,st,Ze){function Tt(Pt,en,on){var $n=en[on];if($n[p]&&Ze){var On=Pt[v]||{};On[F]!==!1&&($n=(On[en[B]]||{})[on]||$n)}return function(){return $n.apply(Pt,arguments)}}a(Tt,"_instFuncProxy");var Ft={};Ne(st,function(Pt){Ft[Pt]=Tt(Ge,st,Pt)});for(var at=N(Pe),Ht=[];at&&!fe(at)&&!se(Ht,at);)Ne(at,function(Pt){!Ft[Pt]&&ue(at,Pt,!T)&&(Ft[Pt]=Tt(Ge,at,Pt))}),Ht.push(at),at=N(at);return Ft}a(Ee,"_getBaseFuncs");function Le(Pe,Ge,st,Ze){var Tt=null;if(Pe&&ve(st,B)){var Ft=Pe[v]||{};if(Tt=(Ft[st[B]]||{})[Ge],Tt||ee("Missing ["+Ge+"] "+k),!Tt[P]&&Ft[F]!==!1){for(var at=!ve(Pe,Ge),Ht=N(Pe),Pt=[];at&&Ht&&!fe(Ht)&&!se(Pt,Ht);){var en=Ht[Ge];if(en){at=en===Ze;break}Pt.push(Ht),Ht=N(Ht)}try{at&&(Pe[Ge]=Tt),Tt[P]=1}catch(on){Ft[F]=!1}}}return Tt}a(Le,"_getInstFunc");function te(Pe,Ge,st){var Ze=Ge[Pe];return Ze===st&&(Ze=N(Ge)[Pe]),typeof Ze!==k&&ee("["+Pe+"] is not a "+k),Ze}a(te,"_getProtoFunc");function Be(Pe,Ge,st,Ze,Tt){function Ft(Pt,en){var on=a(function(){var $n=Le(this,en,Pt,on)||te(en,Pt,on);return $n.apply(this,arguments)},"dynProtoProxy");return on[p]=1,on}if(a(Ft,"_createDynamicPrototype"),!V(Pe)){var at=st[v]=st[v]||{},Ht=at[Ge]=at[Ge]||{};at[F]!==!1&&(at[F]=!!Tt),Ne(st,function(Pt){ue(st,Pt,!1)&&st[Pt]!==Ze[Pt]&&(Ht[Pt]=st[Pt],delete st[Pt],(!ve(Pe,Pt)||Pe[Pt]&&!Pe[Pt][p])&&(Pe[Pt]=Ft(Pe,Pt)))})}}a(Be,"_populatePrototype");function Ke(Pe,Ge){if(T){for(var st=[],Ze=N(Ge);Ze&&!fe(Ze)&&!se(st,Ze);){if(Ze===Pe)return!0;st.push(Ze),Ze=N(Ze)}return!1}return!0}a(Ke,"_checkPrototype");function Je(Pe,Ge){return ve(Pe,$)?Pe.name||Ge||X:((Pe||{})[g]||{}).name||Ge||X}a(Je,"_getObjName");function U(Pe,Ge,st,Ze){ve(Pe,$)||ee("theClass is an invalid class definition.");var Tt=Pe[$];Ke(Tt,Ge)||ee("["+Je(Pe)+"] not in hierarchy of ["+Je(Ge)+"]");var Ft=null;ve(Tt,B)?Ft=Tt[B]:(Ft=W+Je(Pe,"_")+"$"+re.n,re.n++,Tt[B]=Ft);var at=U[L],Ht=!!at[I];Ht&&Ze&&Ze[I]!==void 0&&(Ht=!!Ze[I]);var Pt=z(Ge),en=Ee(Tt,Ge,Pt,Ht);st(Ge,en);var on=!!T&&!!at[m];on&&Ze&&(on=!!Ze[m]),Be(Tt,Ft,Ge,Pt,on!==!1)}a(U,"dynamicProto"),U[L]=re.o;var j=y(9288),Z=y(4869),he=y(5883),De=y(3599),be=y(6708),le=y(7630),ye=y(5928),Ae=y(5018),He=y(4063),Ie="REAL_TIME",Re="NEAR_REAL_TIME",q="BEST_EFFORT",Ce="",ie="POST",ae="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",$e="drop",ht="send",Mt="requeue",mn="rspFail",an="oth",jn="no-cache, no-store",Un="application/x-json-stream",bn="cache-control",ir="content-type",ur="kill-tokens",Or="kill-duration",rt="kill-duration-seconds",Rt="time-delta-millis",kt="client-version",Bt="client-id",Gt="time-delta-to-apply-millis",gn="upload-time",kn="apikey",ar="AuthMsaDeviceTicket",Wn="AuthXToken",An="sdk-version",wr="NoResponseBody",Vn="msfpc",zn="trace",lr="user";function Sn(Pe){var Ge=(Pe.ext||{}).intweb;return Ge&&(0,De.Sn)(Ge[Vn])?Ge[Vn]:null}a(Sn,"_getEventMsfpc");function Fr(Pe){for(var Ge=null,st=0;Ge===null&&st<Pe.length;st++)Ge=Sn(Pe[st]);return Ge}a(Fr,"_getMsfpc");var Jn=function(){function Pe(Ge,st){var Ze=st?[].concat(st):[],Tt=this,Ft=Fr(Ze);Tt.iKey=function(){return Ge},Tt.Msfpc=function(){return Ft||Ce},Tt.count=function(){return Ze.length},Tt.events=function(){return Ze},Tt.addEvent=function(at){return at?(Ze.push(at),Ft||(Ft=Sn(at)),!0):!1},Tt.split=function(at,Ht){var Pt;if(at<Ze.length){var en=Ze.length-at;(0,be.le)(Ht)||(en=Ht<en?Ht:en),Pt=Ze.splice(at,en),Ft=Fr(Ze)}return new Pe(Ge,Pt)}}return a(Pe,"EventBatch"),Pe.create=function(Ge,st){return new Pe(Ge,st)},Pe}(),Mr=function(){function Pe(){var Ge=!0,st=!0,Ze=!0,Tt="use-collector-delta",Ft=!1;U(Pe,this,function(at){at.allowRequestSending=function(){return Ge},at.firstRequestSent=function(){Ze&&(Ze=!1,Ft||(Ge=!1))},at.shouldAddClockSkewHeaders=function(){return st},at.getClockSkewHeaderValue=function(){return Tt},at.setClockSkew=function(Ht){Ft||(Ht?(Tt=Ht,st=!0,Ft=!0):st=!1,Ge=!0)}})}return a(Pe,"ClockSkewManager"),Pe.__ieDyn=1,Pe}();const Kr=Mr;var jr=1e3,yr=function(){function Pe(){var Ge={};function st(Ze){var Tt=[];return Ze&&(0,be.tO)(Ze,function(Ft){Tt.push((0,be.nd)(Ft))}),Tt}a(st,"_normalizeTenants"),U(Pe,this,function(Ze){Ze.setKillSwitchTenants=function(Tt,Ft){if(Tt&&Ft)try{var at=st(Tt.split(","));if(Ft==="this-request-only")return at;for(var Ht=parseInt(Ft,10)*jr,Pt=0;Pt<at.length;++Pt)Ge[at[Pt]]=(0,be.m6)()+Ht}catch(en){return[]}return[]},Ze.isTenantKilled=function(Tt){var Ft=Ge,at=(0,be.nd)(Tt);return Ft[at]!==void 0&&Ft[at]>(0,be.m6)()?!0:(delete Ft[at],!1)}})}return a(Pe,"KillSwitch"),Pe.__ieDyn=1,Pe}();const A=yr;var de=y(4392),Se=.8,Oe=1.2,Qe=3e3,je=6e5;function tt(Pe){return!(Pe>=300&&Pe<500&&Pe!=408&&Pe!=429||Pe==501||Pe==505)}a(tt,"retryPolicyShouldRetryForStatus");function dt(Pe){var Ge=0,st=Qe*Se,Ze=Qe*Oe,Tt=Math.floor(Math.random()*(Ze-st))+st;return Ge=Math.pow(2,Pe)*Tt,Math.min(Ge,je)}a(dt,"retryPolicyGetMillisToBackoffForRetry");var _t=20,$t=3984588,lt=65e3,Lt=2e6,Et=Math.min(Lt,lt),wt="metadata",yt="f",Rn=/\./,sn=function(){function Pe(Ge,st,Ze,Tt){var Ft="data",at="baseData",Ht="ext",Pt=!!Tt,en=!0,on=st,$n={};U(Pe,this,function(On){On.createPayload=function(It,Wt,tn,nn,O,Q){return{apiKeys:[],payloadBlob:Ce,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:It,isTeardown:Wt,isSync:tn,isBeacon:nn,sendType:Q,sendReason:O}},On.appendPayload=function(It,Wt,tn){var nn=It&&Wt&&!It.overflow;return nn&&(0,j.Lm)(Ge,function(){return"Serializer:appendPayload"},function(){for(var O=Wt.events(),Q=It.payloadBlob,xe=It.numEvents,qe=!1,bt=[],Ct=[],Vt=It.isBeacon,qt=Vt?lt:$t,zt=Vt?Et:Lt,Zt=0,Jt=0;Zt<O.length;){var Ot=O[Zt];if(Ot){if(xe>=tn){It.overflow=Wt.split(Zt);break}var ut=On.getEventBlob(Ot);if(ut&&ut.length<=zt){var dn=ut.length,hn=Q.length;if(hn+dn>qt){It.overflow=Wt.split(Zt);break}Q&&(Q+=`
`),Q+=ut,Jt++,Jt>_t&&(Q.substr(0,1),Jt=0),qe=!0,xe++}else ut?bt.push(Ot):Ct.push(Ot),O.splice(Zt,1),Zt--}Zt++}if(bt&&bt.length>0&&It.sizeExceed.push(Jn.create(Wt.iKey(),bt)),Ct&&Ct.length>0&&It.failedEvts.push(Jn.create(Wt.iKey(),Ct)),qe){It.batches.push(Wt),It.payloadBlob=Q,It.numEvents=xe;var En=Wt.iKey();(0,be.UA)(It.apiKeys,En)===-1&&It.apiKeys.push(En)}},function(){return{payload:It,theBatch:{iKey:Wt.iKey(),evts:Wt.events()},max:tn}}),nn},On.getEventBlob=function(It){try{return(0,j.Lm)(Ge,function(){return"Serializer.getEventBlob"},function(){var Wt={};Wt.name=It.name,Wt.time=It.time,Wt.ver=It.ver,Wt.iKey="o:"+(0,De.jM)(It.iKey);var tn={},nn=It[Ht];nn&&(Wt[Ht]=tn,(0,be.rW)(nn,function(xe,qe){var bt=tn[xe]={};yn(qe,bt,"ext."+xe,!0,null,null,!0)}));var O=Wt[Ft]={};O.baseType=It.baseType;var Q=O[at]={};return yn(It.baseData,Q,at,!1,[at],function(xe,qe,bt){cr(tn,xe,qe,bt)},en),yn(It.data,O,Ft,!1,[],function(xe,qe,bt){cr(tn,xe,qe,bt)},en),JSON.stringify(Wt)},function(){return{item:It}})}catch(Wt){return null}};function sr(It,Wt){var tn=$n[It];return tn===void 0&&(It.length>=7&&(tn=(0,be.xe)(It,"ext.metadata")||(0,be.xe)(It,"ext.web")),$n[It]=tn),tn}a(sr,"_isReservedField");function yn(It,Wt,tn,nn,O,Q,xe){(0,be.rW)(It,function(qe,bt){var Ct=null;if(bt||(0,De.Sn)(bt)){var Vt=tn,qt=qe,zt=O,Zt=Wt;if(Pt&&!nn&&Rn.test(qe)){var Jt=qe.split("."),Ot=Jt.length;if(Ot>1){zt&&(zt=zt.slice());for(var ut=0;ut<Ot-1;ut++){var dn=Jt[ut];Zt=Zt[dn]=Zt[dn]||{},Vt+="."+dn,zt&&zt.push(dn)}qt=Jt[Ot-1]}}var hn=nn&&sr(Vt,qt);if(!hn&&on&&on.handleField(Vt,qt)?Ct=on.value(Vt,qt,bt,Ze):Ct=(0,De.yj)(qt,bt,Ze),Ct){var En=Ct.value;if(Zt[qt]=En,Q&&Q(zt,qt,Ct),xe&&typeof En=="object"&&!(0,be.kJ)(En)){var Hn=zt;Hn&&(Hn=Hn.slice(),Hn.push(qt)),yn(bt,En,Vt+"."+qt,nn,Hn,Q,xe)}}}})}a(yn,"_processPathKeys")})}return a(Pe,"Serializer"),Pe.__ieDyn=1,Pe}();function cr(Pe,Ge,st,Ze){if(Ze&&Pe){var Tt=(0,De.Vv)(Ze.value,Ze.kind,Ze.propertyType);if(Tt>-1){var Ft=Pe[wt];Ft||(Ft=Pe[wt]={f:{}});var at=Ft[yt];if(at||(at=Ft[yt]={}),Ge)for(var Ht=0;Ht<Ge.length;Ht++){var Pt=Ge[Ht];at[Pt]||(at[Pt]={f:{}});var en=at[Pt][yt];en||(en=at[Pt][yt]={}),at=en}at=at[st]={},(0,be.kJ)(Ze.value)?at.a={t:Tt}:at.t=Tt}}}a(cr,"_addJSONPropertyMetaData");var Bn,tr="sendAttempt",Lr="&"+wr+"=true",Nr=(Bn={},Bn[1]=Mt,Bn[100]=Mt,Bn[200]="sent",Bn[8004]=$e,Bn[8003]=$e,Bn),Qn={},nr={};function Nt(Pe,Ge,st){Qn[Pe]=Ge,st!==!1&&(nr[Ge]=Pe)}a(Nt,"_addCollectorHeaderQsMapping"),Nt(ar,ar,!1),Nt(kt,kt),Nt(Bt,"Client-Id"),Nt(kn,kn),Nt(Gt,Gt),Nt(gn,gn),Nt(Wn,Wn);function In(Pe){try{return Pe.responseText}catch(Ge){}return Ce}a(In,"_getResponseText");function wn(Pe,Ge){var st=!1;if(Pe&&Ge){var Ze=(0,be.FY)(Pe);if(Ze&&Ze.length>0)for(var Tt=Ge.toLowerCase(),Ft=0;Ft<Ze.length;Ft++){var at=Ze[Ft];if(at&&(0,be.nr)(Ge,at)&&at.toLowerCase()===Tt){st=!0;break}}}return st}a(wn,"_hasHeader");function fn(Pe,Ge,st,Ze){Ge&&st&&st.length>0&&(Ze&&Qn[Ge]?(Pe.hdrs[Qn[Ge]]=st,Pe.useHdrs=!0):Pe.url+="&"+Ge+"="+st)}a(fn,"_addRequestDetails");function Nn(Pe,Ge){return Ge&&((0,be.hj)(Ge)?Pe=[Ge].concat(Pe):(0,be.kJ)(Ge)&&(Pe=Ge.concat(Pe))),Pe}a(Nn,"_prependTransports");var fr=function(){function Pe(Ge,st,Ze,Tt,Ft){this._responseHandlers=[];var at="?cors=true&"+ir.toLowerCase()+"="+Un,Ht=new A,Pt=!1,en=new Kr,on=!1,$n=0,On,sr,yn,It,Wt=!0,tn=[],nn={},O=[],Q=null,xe=!1,qe,bt=!1,Ct=!1,Vt,qt,zt,Zt,Jt;U(Pe,this,function(Ot){var ut=!0;Ot.initialize=function(ge,Ye,Xe,it,pt){var vt;pt||(pt={}),at=ge+at,Ct=(0,be.o8)(pt.avoidOptions)?!0:!pt.avoidOptions,It=Ye,qe=Ye.getCookieMgr(),xe=!It.config.disableEventTimings;var jt=!!It.config.enableCompoundKey;On=Xe,sr=On.diagLog();var pe=pt.valueSanitizer,ke=pt.stringifyObjects;(0,be.o8)(pt.enableCompoundKey)||(jt=!!pt.enableCompoundKey),Vt=pt.xhrTimeout,qt=!!pt.disableXhrSync,zt=!!pt.disableFetchKeepAlive,Jt=pt.addNoResponse!==!1,on=!(0,le.b$)(),Q=new sn(It,pe,ke,jt),(0,be.le)(pt.useSendBeacon)||(on=!!pt.useSendBeacon);var Ue=it,nt=pt.alwaysUseXhrOverride?it:null,Dt=pt.alwaysUseXhrOverride?it:null,Ut=[3,2];if(!it){Wt=!1;var rn=(0,le.k$)();rn&&rn.protocol&&rn.protocol.toLowerCase()==="file:"&&(ut=!1);var cn=[];(0,le.b$)()?(cn=[2,1],Ut=[2,1,3]):cn=[1,2,3],cn=Nn(cn,pt.transports),it=dn(cn,!1),it||(0,Ae.jV)(sr,"No available transport to send events"),Ue=dn(cn,!0)}nt||(Ut=Nn(Ut,pt.unloadTransports),nt=dn(Ut,!0)),Zt=!Wt&&(on&&(0,le.MF)()||!zt&&(0,le.JO)(!0)),yn=(vt={},vt[0]=it,vt[1]=Ue||dn([1,2,3],!0),vt[2]=nt||Ue||dn([1],!0),vt[3]=Dt||dn([2,3],!0)||Ue||dn([1],!0),vt)};function dn(ge,Ye){for(var Xe=0,it=null,pt=0;it==null&&pt<ge.length;)Xe=ge[pt],Xe===1?(0,le.cp)()?it=hn:(0,le.Z3)()&&(it=Hn):Xe===2&&(0,le.JO)(Ye)&&(!Ye||Ye&&!zt)?it=En:on&&Xe===3&&(0,le.MF)()&&(it=Cr),pt++;return it?{_transport:Xe,_isSync:Ye,sendPOST:it}:null}a(dn,"_getSenderInterface"),Ot._getDbgPlgTargets=function(){return[yn[0],Ht,Q,yn]};function hn(ge,Ye,Xe){var it=new XDomainRequest;it.open(ie,ge.urlString),ge.timeout&&(it.timeout=ge.timeout),it.onload=function(){var pt=In(it);xt(Ye,200,{},pt),zr(pt)},it.onerror=function(){xt(Ye,400,{})},it.ontimeout=function(){xt(Ye,500,{})},it.onprogress=function(){},Xe?it.send(ge.data):Ft.set(function(){it.send(ge.data)},0)}a(hn,"_xdrSendPost");function En(ge,Ye,Xe){var it,pt=ge.urlString,vt=!1,jt=!1,pe=(it={body:ge.data,method:ie},it[ae]=!0,it);Xe&&(pe.keepalive=!0,ge._sendReason===2&&(vt=!0,Jt&&(pt+=Lr))),ut&&(pe.credentials="include"),ge.headers&&(0,be.FY)(ge.headers).length>0&&(pe.headers=ge.headers),fetch(pt,pe).then(function(ke){var Ue={},nt=Ce,Dt=ke.headers;Dt&&Dt.forEach(function(Ut,rn){Ue[rn]=Ut}),ke.body&&ke.text().then(function(Ut){nt=Ut}),jt||(jt=!0,xt(Ye,ke.status,Ue,nt),zr(nt))}).catch(function(ke){jt||(jt=!0,xt(Ye,0,{}))}),vt&&!jt&&(jt=!0,xt(Ye,200,{})),!jt&&ge.timeout>0&&Ft.set(function(){jt||(jt=!0,xt(Ye,500,{}))},ge.timeout)}a(En,"_fetchSendPost");function Hn(ge,Ye,Xe){var it=ge.urlString;function pt(ke,Ue,nt){if(!ke[nt]&&Ue&&Ue.getResponseHeader){var Dt=Ue.getResponseHeader(nt);Dt&&(ke[nt]=(0,be.nd)(Dt))}return ke}a(pt,"_appendHeader");function vt(ke){var Ue={};return ke.getAllResponseHeaders?Ue=di(ke.getAllResponseHeaders()):(Ue=pt(Ue,ke,Rt),Ue=pt(Ue,ke,Or),Ue=pt(Ue,ke,rt)),Ue}a(vt,"_getAllResponseHeaders");function jt(ke,Ue){xt(Ye,ke.status,vt(ke),Ue)}a(jt,"xhrComplete"),Xe&&ge.disableXhrSync&&(Xe=!1);var pe=(0,De.ot)(ie,it,ut,!0,Xe,ge.timeout);(0,be.rW)(ge.headers,function(ke,Ue){pe.setRequestHeader(ke,Ue)}),pe.onload=function(){var ke=In(pe);jt(pe,ke),zr(ke)},pe.onerror=function(){jt(pe)},pe.ontimeout=function(){jt(pe)},pe.send(ge.data)}a(Hn,"_xhrSendPost");function xt(ge,Ye,Xe,it){try{ge(Ye,Xe,it)}catch(pt){(0,Ae.kP)(sr,2,518,(0,le.eU)(pt))}}a(xt,"_doOnComplete");function Cr(ge,Ye,Xe){var it=ge,pt=200,vt=it._thePayload,jt=ge.urlString+(Jt?Lr:Ce);try{var pe=(0,le.jW)();if(!pe.sendBeacon(jt,ge.data))if(vt){var ke=[];(0,be.tO)(vt.batches,function(Ue){if(ke&&Ue&&Ue.count()>0){for(var nt=Ue.events(),Dt=0;Dt<nt.length;Dt++)if(!pe.sendBeacon(jt,Q.getEventBlob(nt[Dt]))){ke.push(Ue.split(Dt));break}}else ke.push(Ue.split(0))}),qn(ke,8003,vt.sendType,!0)}else pt=0}catch(Ue){(0,Ae.jV)(sr,"Failed to send telemetry using sendBeacon API. Ex:"+(0,le.eU)(Ue)),pt=0}finally{xt(Ye,pt,{},Ce)}}a(Cr,"_beaconSendPost");function Xn(ge){return ge===2||ge===3}a(Xn,"_isBeaconPayload");function _n(ge){return bt&&Xn(ge)&&(ge=2),ge}a(_n,"_adjustSendType"),Ot.addQueryStringParameter=function(ge,Ye){for(var Xe=0;Xe<tn.length;Xe++)if(tn[Xe].name===ge){tn[Xe].value=Ye;return}tn.push({name:ge,value:Ye})},Ot.addHeader=function(ge,Ye){nn[ge]=Ye},Ot.canSendRequest=function(){return Gr()&&en.allowRequestSending()},Ot.sendQueuedRequests=function(ge,Ye){(0,be.o8)(ge)&&(ge=0),bt&&(ge=_n(ge),Ye=2),Tr(O,ge,0)&&Vr(Dr(),0,!1,ge,Ye||0)},Ot.isCompletelyIdle=function(){return!Pt&&$n===0&&O.length===0},Ot.setUnloading=function(ge){bt=ge},Ot.addBatch=function(ge){if(ge&&ge.count()>0){if(Ht.isTenantKilled(ge.iKey()))return!1;O.push(ge)}return!0},Ot.teardown=function(){O.length>0&&Vr(Dr(),0,!0,2,2)},Ot.pause=function(){Pt=!0},Ot.resume=function(){Pt=!1,Ot.sendQueuedRequests(0,4)},Ot.sendSynchronousBatch=function(ge,Ye,Xe){ge&&ge.count()>0&&((0,be.le)(Ye)&&(Ye=1),bt&&(Ye=_n(Ye),Xe=2),Vr([ge],0,!1,Ye,Xe||0))};function Gr(){return!Pt&&$n<st}a(Gr,"_hasIdleConnection");function Dr(){var ge=O;return O=[],ge}a(Dr,"_clearQueue");function Tr(ge,Ye,Xe){var it=!1;return ge&&ge.length>0&&!Pt&&yn[Ye]&&Q&&(it=Ye!==0||Gr()&&(Xe>0||en.allowRequestSending())),it}a(Tr,"_canSendPayload");function qr(ge){var Ye={};return ge&&(0,be.tO)(ge,function(Xe,it){Ye[it]={iKey:Xe.iKey(),evts:Xe.events()}}),Ye}a(qr,"_createDebugBatches");function Vr(ge,Ye,Xe,it,pt){if(!(!ge||ge.length===0)){if(Pt){qn(ge,1,it);return}it=_n(it);try{var vt=ge,jt=it!==0;(0,j.Lm)(It,function(){return"HttpManager:_sendBatches"},function(pe){pe&&(ge=ge.slice(0));for(var ke=[],Ue=null,nt=(0,De.hK)(),Dt=yn[it]||(jt?yn[1]:yn[0]),Ut=Dt&&Dt._transport,rn=Zt&&(bt||Xn(it)||Ut===3||Dt._isSync&&Ut===2);Tr(ge,it,Ye);){var cn=ge.shift();cn&&cn.count()>0&&(Ht.isTenantKilled(cn.iKey())?ke.push(cn):(Ue=Ue||Q.createPayload(Ye,Xe,jt,rn,pt,it),Q.appendPayload(Ue,cn,Ge)?Ue.overflow!==null&&(ge=[Ue.overflow].concat(ge),Ue.overflow=null,ri(Ue,nt,(0,De.hK)(),pt),nt=(0,De.hK)(),Ue=null):(ri(Ue,nt,(0,De.hK)(),pt),nt=(0,De.hK)(),ge=[cn].concat(ge),Ue=null)))}Ue&&ri(Ue,nt,(0,De.hK)(),pt),ge.length>0&&(O=ge.concat(O)),qn(ke,8004,it)},function(){return{batches:qr(vt),retryCount:Ye,isTeardown:Xe,isSynchronous:jt,sendReason:pt,useSendBeacon:Xn(it),sendType:it}},!jt)}catch(pe){(0,Ae.kP)(sr,2,48,"Unexpected Exception sending batch: "+(0,le.eU)(pe))}}}a(Vr,"_sendBatches");function Jr(ge,Ye){var Xe={url:at,hdrs:{},useHdrs:!1};Ye?(Xe.hdrs=(0,De.l7)(Xe.hdrs,nn),Xe.useHdrs=(0,be.FY)(Xe.hdrs).length>0):(0,be.rW)(nn,function(pe,ke){nr[pe]?fn(Xe,nr[pe],ke,!1):(Xe.hdrs[pe]=ke,Xe.useHdrs=!0)}),fn(Xe,Bt,"NO_AUTH",Ye),fn(Xe,kt,De.vs,Ye);var it=Ce;(0,be.tO)(ge.apiKeys,function(pe){it.length>0&&(it+=","),it+=pe}),fn(Xe,kn,it,Ye),fn(Xe,gn,(0,be.m6)().toString(),Ye);var pt=Ur(ge);if((0,De.Sn)(pt)&&(Xe.url+="&ext.intweb.msfpc="+pt),en.shouldAddClockSkewHeaders()&&fn(Xe,Gt,en.getClockSkewHeaderValue(),Ye),It.getWParam){var vt=It.getWParam();vt>=0&&(Xe.url+="&w="+vt)}for(var jt=0;jt<tn.length;jt++)Xe.url+="&"+tn[jt].name+"="+tn[jt].value;return Xe}a(Jr,"_buildRequestDetails");function Zn(ge,Ye,Xe){ge[Ye]=ge[Ye]||{},ge[Ye][On.identifier]=Xe}a(Zn,"_setTimingValue");function ri(ge,Ye,Xe,it){if(ge&&ge.payloadBlob&&ge.payloadBlob.length>0){var pt=!!Ot.sendHook,vt=yn[ge.sendType];!Xn(ge.sendType)&&ge.isBeacon&&ge.sendReason===2&&(vt=yn[2]||yn[3]||vt);var jt=Ct;(ge.isBeacon||vt._transport===3)&&(jt=!1);var pe=Jr(ge,jt);jt=jt||pe.useHdrs;var ke=(0,De.hK)();(0,j.Lm)(It,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ue=0;Ue<ge.batches.length;Ue++)for(var nt=ge.batches[Ue],Dt=nt.events(),Ut=0;Ut<Dt.length;Ut++){var rn=Dt[Ut];if(xe){var cn=rn.timings=rn.timings||{};Zn(cn,"sendEventStart",ke),Zn(cn,"serializationStart",Ye),Zn(cn,"serializationCompleted",Xe)}rn[tr]>0?rn[tr]++:rn[tr]=1}qn(ge.batches,1e3+(it||0),ge.sendType,!0);var Ln={data:ge.payloadBlob,urlString:pe.url,headers:pe.hdrs,_thePayload:ge,_sendReason:it,timeout:Vt,disableXhrSync:qt,disableFetchKeepAlive:zt};jt&&(wn(Ln.headers,bn)||(Ln.headers[bn]=jn),wn(Ln.headers,ir)||(Ln.headers[ir]=Un));var ai=null;vt&&(ai=a(function(bi){en.firstRequestSent();var Ai=a(function(Xr,hi){Hr(Xr,hi,ge,it)},"onComplete"),rr=ge.isTeardown||ge.isSync;try{vt.sendPOST(bi,Ai,rr),Ot.sendListener&&Ot.sendListener(Ln,bi,rr,ge.isBeacon)}catch(Xr){(0,Ae.jV)(sr,"Unexpected exception sending payload. Ex:"+(0,le.eU)(Xr)),xt(Ai,0,{})}},"sender")),(0,j.Lm)(It,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(ai)if(ge.sendType===0&&$n++,pt&&!ge.isBeacon&&vt._transport!==3){var bi={data:Ln.data,urlString:Ln.urlString,headers:(0,De.l7)({},Ln.headers),timeout:Ln.timeout,disableXhrSync:Ln.disableXhrSync,disableFetchKeepAlive:Ln.disableFetchKeepAlive},Ai=!1;(0,j.Lm)(It,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Ot.sendHook(bi,function(rr){Ai=!0,!Wt&&!rr._thePayload&&(rr._thePayload=rr._thePayload||Ln._thePayload,rr._sendReason=rr._sendReason||Ln._sendReason),ai(rr)},ge.isSync||ge.isTeardown)}catch(rr){Ai||ai(Ln)}})}else ai(Ln)})},function(){return{thePayload:ge,serializationStart:Ye,serializationCompleted:Xe,sendReason:it}},ge.isSync)}ge.sizeExceed&&ge.sizeExceed.length>0&&qn(ge.sizeExceed,8003,ge.sendType),ge.failedEvts&&ge.failedEvts.length>0&&qn(ge.failedEvts,8002,ge.sendType)}a(ri,"_doPayloadSend");function ii(ge,Ye){xe&&(0,be.tO)(ge,function(Xe){var it=Xe.timings=Xe.timings||{};Zn(it,"sendEventCompleted",Ye)})}a(ii,"_addEventCompletedTimings");function Hr(ge,Ye,Xe,it){var pt=9e3,vt=null,jt=!1,pe=!1;try{var ke=!0;if(typeof ge!==de.jA){if(Ye){en.setClockSkew(Ye[Rt]);var Ue=Ye[Or]||Ye["kill-duration-seconds"];(0,be.tO)(Ht.setKillSwitchTenants(Ye[ur],Ue),function(Dt){(0,be.tO)(Xe.batches,function(Ut){if(Ut.iKey()===Dt){vt=vt||[];var rn=Ut.split(0);Xe.numEvents-=rn.count(),vt.push(rn)}})})}if(ge==200||ge==204){pt=200;return}(!tt(ge)||Xe.numEvents<=0)&&(ke=!1),pt=9e3+ge%1e3}if(ke){pt=100;var nt=Xe.retryCnt;Xe.sendType===0&&(nt<Ze?(jt=!0,fi(function(){Xe.sendType===0&&$n--,Vr(Xe.batches,nt+1,Xe.isTeardown,bt?2:Xe.sendType,5)},bt,dt(nt))):(pe=!0,bt&&(pt=8001)))}}finally{jt||(en.setClockSkew(),br(Xe,pt,it,pe)),qn(vt,8004,Xe.sendType)}}a(Hr,"_retryRequestIfNeeded");function br(ge,Ye,Xe,it){try{it&&On._backOffTransmission(),Ye===200&&(!it&&!ge.isSync&&On._clearBackOff(),Wr(ge.batches)),qn(ge.batches,Ye,ge.sendType,!0)}finally{ge.sendType===0&&($n--,Xe!==5&&Ot.sendQueuedRequests(ge.sendType,Xe))}}a(br,"_handleRequestFinished");function Wr(ge){if(xe){var Ye=(0,De.hK)();(0,be.tO)(ge,function(Xe){Xe&&Xe.count()>0&&ii(Xe.events(),Ye)})}}a(Wr,"_addCompleteTimings");function fi(ge,Ye,Xe){Ye?ge():Ft.set(ge,Xe)}a(fi,"_doAction");function di(ge){var Ye={};if((0,be.HD)(ge)){var Xe=(0,be.nd)(ge).split(/[\r\n]+/);(0,be.tO)(Xe,function(it){if(it){var pt=it.indexOf(": ");if(pt!==-1){var vt=(0,be.nd)(it.substring(0,pt)).toLowerCase(),jt=(0,be.nd)(it.substring(pt+1));Ye[vt]=jt}else Ye[(0,be.nd)(it)]=1}})}return Ye}a(di,"_convertAllHeadersToMap");function Ur(ge){for(var Ye=0;Ye<ge.batches.length;Ye++){var Xe=ge.batches[Ye].Msfpc();if(Xe)return encodeURIComponent(Xe)}return Ce}a(Ur,"_getMsfpc");function zr(ge){var Ye=Ot._responseHandlers;try{for(var Xe=0;Xe<Ye.length;Xe++)try{Ye[Xe](ge)}catch(pt){(0,Ae.kP)(sr,1,519,"Response handler failed: "+pt)}if(ge){var it=JSON.parse(ge);(0,De.Sn)(it.webResult)&&(0,De.Sn)(it.webResult[Vn])&&qe.set("MSFPC",it.webResult[Vn],365*86400)}}catch(pt){}}a(zr,"_handleCollectorResponse");function qn(ge,Ye,Xe,it){if(ge&&ge.length>0&&Tt){var pt=Tt[Qr(Ye)];if(pt){var vt=Xe!==0;(0,j.Lm)(It,function(){return"HttpManager:_sendBatchesNotification"},function(){fi(function(){try{pt.call(Tt,ge,Ye,vt,Xe)}catch(jt){(0,Ae.kP)(sr,1,74,"send request notification failed: "+jt)}},it||vt,0)},function(){return{batches:qr(ge),reason:Ye,isSync:vt,sendSync:it,sendType:Xe}},!vt)}}}a(qn,"_sendBatchesNotification");function Qr(ge){var Ye=Nr[ge];return(0,De.Sn)(Ye)||(Ye=an,ge>=9e3&&ge<=9999?Ye=mn:ge>=8e3&&ge<=8999?Ye=$e:ge>=1e3&&ge<=1999&&(Ye=ht)),Ye}a(Qr,"_getNotificationAction")})}return a(Pe,"HttpManager"),Pe.__ieDyn=1,Pe}();function mr(Pe,Ge){for(var st=[],Ze=2;Ze<arguments.length;Ze++)st[Ze-2]=arguments[Ze];return setTimeout(Pe,Ge,st)}a(mr,"defaultSetTimeout");function xr(Pe){clearTimeout(Pe)}a(xr,"defaultClearTimeout");function ei(Pe,Ge){return{set:Pe||mr,clear:Ge||xr}}a(ei,"createTimeoutWrapper");var pi=.25,ti=500,Pi=20,et=6,mi=2,Ti=4,dr=2,ni=1,Yr="eventsDiscarded",Er="overrideInstrumentationKey",Zr="maxEventRetryAttempts",_i="maxUnloadEventRetryAttempts",Bi="addUnloadCb",$r=function(Pe){(0,w.ne)(Ge,Pe);function Ge(){var st=Pe.call(this)||this;st.identifier="PostChannel",st.priority=1011,st.version="3.2.10";var Ze,Tt=!1,Ft=[],at=null,Ht=!1,Pt=0,en=500,on=0,$n=1e4,On={},sr=Ie,yn=null,It=null,Wt=0,tn=0,nn,O,Q={},xe,qe,bt=-1,Ct,Vt=!0,qt=!1,zt=et,Zt=mi,Jt,Ot;return U(Ge,st,function(ut,dn){Gr(),ut._getDbgPlgTargets=function(){return[O]},ut.initialize=function(pe,ke,Ue){(0,j.Lm)(ke,function(){return"PostChannel:initialize"},function(){var nt=ke;dn.initialize(pe,ke,Ue);try{var Dt=!!ke[Bi];Jt=(0,Z.jU)((0,he.J)(ut.identifier),ke.evtNamespace&&ke.evtNamespace());var Ut=ut._getTelCtx();pe.extensionConfig[ut.identifier]=pe.extensionConfig[ut.identifier]||{},Ze=Ut.getExtCfg(ut.identifier),Ot=ei(Ze.setTimeoutOverride,Ze.clearTimeoutOverride),Vt=!Ze.disableOptimizeObj&&(0,De.mJ)(),hn(nt),Ze.eventsLimitInMem>0&&($n=Ze.eventsLimitInMem),Ze.immediateEventLimit>0&&(en=Ze.immediateEventLimit),Ze.autoFlushEventsLimit>0&&(xe=Ze.autoFlushEventsLimit),(0,be.hj)(Ze[Zr])&&(zt=Ze[Zr]),(0,be.hj)(Ze[_i])&&(Zt=Ze[_i]),jt(),Ze.httpXHROverride&&Ze.httpXHROverride.sendPOST&&(nn=Ze.httpXHROverride),(0,De.Sn)(pe.anonCookieName)&&O.addQueryStringParameter("anoncknm",pe.anonCookieName),O.sendHook=Ze.payloadPreprocessor,O.sendListener=Ze.payloadListener;var rn=Ze.overrideEndpointUrl?Ze.overrideEndpointUrl:pe.endpointUrl;ut._notificationManager=ke.getNotifyMgr(),O.initialize(rn,ut.core,ut,nn,Ze);var cn=pe.disablePageUnloadEvents||[];(0,Z.c9)(En,cn,Jt),(0,Z.TJ)(En,cn,Jt),(0,Z.nD)(Hn,pe.disablePageShowEvents,Jt)}catch(Ln){throw ut.setInitialized(!1),Ln}},function(){return{coreConfig:pe,core:ke,extensions:Ue}})},ut.processTelemetry=function(pe,ke){(0,De.if)(pe,ut.identifier),ke=ut._getTelCtx(ke);var Ue=ke.getExtCfg(ut.identifier),nt=!!Ze.disableTelemetry;Ue&&(nt=nt||!!Ue.disableTelemetry);var Dt=pe;!nt&&!Tt&&(Ze[Er]&&(Dt.iKey=Ze[Er]),Ue&&Ue[Er]&&(Dt.iKey=Ue[Er]),xt(Dt,!0),qt?qr(2,2):_n()),ut.processNext(Dt,ke)},ut._doTeardown=function(pe,ke){qr(2,2),Tt=!0,O.teardown(),(0,Z.JA)(null,Jt),(0,Z.C9)(null,Jt),(0,Z.Yl)(null,Jt),Gr()};function hn(pe){var ke=pe.getWParam;pe.getWParam=function(){var Ue=0;return Ze.ignoreMc1Ms0CookieProcessing&&(Ue=Ue|2),Ue|ke()}}a(hn,"_hookWParam");function En(pe){var ke=pe||(0,le.Jj)().event;ke.type!=="beforeunload"&&(qt=!0,O.setUnloading(qt)),qr(2,2)}a(En,"_handleUnloadEvents");function Hn(pe){qt=!1,O.setUnloading(qt)}a(Hn,"_handleShowEvents");function xt(pe,ke){if(pe.sendAttempt||(pe.sendAttempt=0),pe.latency||(pe.latency=1),pe.ext&&pe.ext[zn]&&delete pe.ext[zn],pe.ext&&pe.ext[lr]&&pe.ext[lr].id&&delete pe.ext[lr].id,Vt&&(De.if,pe.ext=(0,be.Ax)(pe.ext),pe.baseData&&(pe.baseData=(0,be.Ax)(pe.baseData)),pe.data&&(pe.data=(0,be.Ax)(pe.data))),pe.sync){if(Wt||Ht)pe.latency=3,pe.sync=!1;else if(O){Vt&&(pe=(0,be.Ax)(pe)),O.sendSynchronousBatch(Jn.create(pe.iKey,[pe]),pe.sync===!0?1:pe.sync,3);return}}var Ue=pe.latency,nt=on,Dt=$n;Ue===4&&(nt=Pt,Dt=en);var Ut=!1;if(nt<Dt)Ut=!ri(pe,ke);else{var rn=1,cn=Pi;Ue===4&&(rn=4,cn=1),Ut=!0,ii(pe.iKey,pe.latency,rn,cn)&&(Ut=!ri(pe,ke))}Ut&&Qr(Yr,[pe],ye.h.QueueFull)}a(xt,"_addEventToQueues"),ut.setEventQueueLimits=function(pe,ke){$n=pe>0?pe:1e4,xe=ke>0?ke:0,jt();var Ue=on>pe;if(!Ue&&qe>0)for(var nt=1;!Ue&&nt<=3;nt++){var Dt=Q[nt];Dt&&Dt.batches&&(0,be.tO)(Dt.batches,function(Ut){Ut&&Ut.count()>=qe&&(Ue=!0)})}Zn(!0,Ue)},ut.pause=function(){Tr(),Ht=!0,O.pause()},ut.resume=function(){Ht=!1,O.resume(),_n()},ut.addResponseHandler=function(pe){O._responseHandlers.push(pe)},ut._loadTransmitProfiles=function(pe){di(),(0,be.rW)(pe,function(ke,Ue){var nt=Ue.length;if(nt>=2){var Dt=nt>2?Ue[2]:0;if(Ue.splice(0,nt-2),Ue[1]<0&&(Ue[0]=-1),Ue[1]>0&&Ue[0]>0){var Ut=Ue[0]/Ue[1];Ue[0]=Math.ceil(Ut)*Ue[1]}Dt>=0&&Ue[1]>=0&&Dt>Ue[1]&&(Dt=Ue[1]),Ue.push(Dt),On[ke]=Ue}})},ut.flush=function(pe,ke,Ue){if(pe===void 0&&(pe=!0),!Ht)if(Ue=Ue||1,pe)at==null?(Tr(),br(1,0,Ue),at=Dr(function(){at=null,Wr(ke,Ue)},0)):Ft.push(ke);else{var nt=Tr();Cr(1,1,Ue),ke!=null&&ke(),nt&&_n()}},ut.setMsaAuthTicket=function(pe){O.addHeader(ar,pe)},ut.hasEvents=Xn,ut._setTransmitProfile=function(pe){sr!==pe&&On[pe]!==void 0&&(Tr(),sr=pe,_n())};function Cr(pe,ke,Ue){var nt=br(pe,ke,Ue);return O.sendQueuedRequests(ke,Ue),nt}a(Cr,"_sendEventsForLatencyAndAbove");function Xn(){return on>0}a(Xn,"_hasEvents");function _n(){if(bt>=0&&br(bt,0,Ct)&&O.sendQueuedRequests(0,Ct),Pt>0&&!It&&!Ht){var pe=On[sr][2];pe>=0&&(It=Dr(function(){It=null,Cr(4,0,1),_n()},pe))}var ke=On[sr][1];!yn&&!at&&ke>=0&&!Ht&&(Xn()?yn=Dr(function(){yn=null,Cr(tn===0?3:1,0,1),tn++,tn%=2,_n()},ke):tn=0)}a(_n,"_scheduleTimer"),ut._backOffTransmission=function(){Wt<Ti&&(Wt++,Tr(),_n())},ut._clearBackOff=function(){Wt&&(Wt=0,Tr(),_n())};function Gr(){Ze=null,Tt=!1,Ft=[],at=null,Ht=!1,Pt=0,en=500,on=0,$n=1e4,On={},sr=Ie,yn=null,It=null,Wt=0,tn=0,nn=null,Q={},xe=void 0,qe=0,bt=-1,Ct=null,Vt=!0,qt=!1,zt=et,Zt=mi,Jt=null,Ot=ei(),O=new fr(ti,dr,ni,{requeue:zr,send:Ye,sent:Xe,drop:it,rspFail:pt,oth:vt},Ot),Ur(),Vr(),jt()}a(Gr,"_initDefaults");function Dr(pe,ke){ke===0&&Wt&&(ke=1);var Ue=1e3;return Wt&&(Ue=dt(Wt-1)),Ot.set(pe,ke*Ue)}a(Dr,"_createTimer");function Tr(){return yn!==null?(Ot.clear(yn),yn=null,tn=0,!0):!1}a(Tr,"_clearScheduledTimer");function qr(pe,ke){Tr(),at&&(Ot.clear(at),at=null),Ht||Cr(1,pe,ke)}a(qr,"_releaseAllQueues");function Vr(){Q[4]={batches:[],iKeyMap:{}},Q[3]={batches:[],iKeyMap:{}},Q[2]={batches:[],iKeyMap:{}},Q[1]={batches:[],iKeyMap:{}}}a(Vr,"_clearQueues");function Jr(pe,ke,Ue){var nt=Q[ke];nt||(ke=1,nt=Q[ke]);var Dt=nt.iKeyMap[pe];return!Dt&&Ue&&(Dt=Jn.create(pe),nt.batches.push(Dt),nt.iKeyMap[pe]=Dt),Dt}a(Jr,"_getEventBatch");function Zn(pe,ke){O.canSendRequest()&&!Wt&&(xe>0&&on>xe&&(ke=!0),ke&&at==null&&ut.flush(pe,null,20))}a(Zn,"_performAutoFlush");function ri(pe,ke){Vt&&(pe=(0,be.Ax)(pe));var Ue=pe.latency,nt=Jr(pe.iKey,Ue,!0);return nt.addEvent(pe)?(Ue!==4?(on++,ke&&pe.sendAttempt===0&&Zn(!pe.sync,qe>0&&nt.count()>=qe)):Pt++,!0):!1}a(ri,"_addEventToProperQueue");function ii(pe,ke,Ue,nt){for(;Ue<=ke;){var Dt=Jr(pe,ke,!0);if(Dt&&Dt.count()>0){var Ut=Dt.split(0,nt),rn=Ut.count();if(rn>0)return Ue===4?Pt-=rn:on-=rn,ge(Yr,[Ut],ye.h.QueueFull),!0}Ue++}return Hr(),!1}a(ii,"_dropEventWithLatencyOrLess");function Hr(){for(var pe=0,ke=0,Ue=a(function(Dt){var Ut=Q[Dt];Ut&&Ut.batches&&(0,be.tO)(Ut.batches,function(rn){Dt===4?pe+=rn.count():ke+=rn.count()})},"_loop_1"),nt=1;nt<=4;nt++)Ue(nt);on=ke,Pt=pe}a(Hr,"_resetQueueCounts");function br(pe,ke,Ue){var nt=!1,Dt=ke===0;return!Dt||O.canSendRequest()?(0,j.Lm)(ut.core,function(){return"PostChannel._queueBatches"},function(){for(var Ut=[],rn=4;rn>=pe;){var cn=Q[rn];cn&&cn.batches&&cn.batches.length>0&&((0,be.tO)(cn.batches,function(Ln){O.addBatch(Ln)?nt=nt||Ln&&Ln.count()>0:Ut=Ut.concat(Ln.events()),rn===4?Pt-=Ln.count():on-=Ln.count()}),cn.batches=[],cn.iKeyMap={}),rn--}Ut.length>0&&Qr(Yr,Ut,ye.h.KillSwitch),nt&&bt>=pe&&(bt=-1,Ct=0)},function(){return{latency:pe,sendType:ke,sendReason:Ue}},!Dt):(bt=bt>=0?Math.min(bt,pe):pe,Ct=Math.max(Ct,Ue)),nt}a(br,"_queueBatches");function Wr(pe,ke){Cr(1,0,ke),Hr(),fi(function(){pe&&pe(),Ft.length>0?at=Dr(function(){at=null,Wr(Ft.shift(),ke)},0):(at=null,_n())})}a(Wr,"_flushImpl");function fi(pe){O.isCompletelyIdle()?pe():at=Dr(function(){at=null,fi(pe)},pi)}a(fi,"_waitForIdleManager");function di(){Tr(),Ur(),sr=Ie,_n()}a(di,"_resetTransmitProfiles");function Ur(){On={},On[Ie]=[2,1,0],On[Re]=[6,3,0],On[q]=[18,9,0]}a(Ur,"_initializeProfiles");function zr(pe,ke){var Ue=[],nt=zt;qt&&(nt=Zt),(0,be.tO)(pe,function(Dt){Dt&&Dt.count()>0&&(0,be.tO)(Dt.events(),function(Ut){Ut&&(Ut.sync&&(Ut.latency=4,Ut.sync=!1),Ut.sendAttempt<nt?((0,De.if)(Ut,ut.identifier),xt(Ut,!1)):Ue.push(Ut))})}),Ue.length>0&&Qr(Yr,Ue,ye.h.NonRetryableStatus),qt&&qr(2,2)}a(zr,"_requeueEvents");function qn(pe,ke){var Ue=ut._notificationManager||{},nt=Ue[pe];if(nt)try{nt.apply(Ue,ke)}catch(Dt){(0,Ae.kP)(ut.diagLog(),1,74,pe+" notification failed: "+Dt)}}a(qn,"_callNotification");function Qr(pe,ke){for(var Ue=[],nt=2;nt<arguments.length;nt++)Ue[nt-2]=arguments[nt];ke&&ke.length>0&&qn(pe,[ke].concat(Ue))}a(Qr,"_notifyEvents");function ge(pe,ke){for(var Ue=[],nt=2;nt<arguments.length;nt++)Ue[nt-2]=arguments[nt];ke&&ke.length>0&&(0,be.tO)(ke,function(Dt){Dt&&Dt.count()>0&&qn(pe,[Dt.events()].concat(Ue))})}a(ge,"_notifyBatchEvents");function Ye(pe,ke,Ue){pe&&pe.length>0&&qn("eventsSendRequest",[ke>=1e3&&ke<=1999?ke-1e3:0,Ue!==!0])}a(Ye,"_sendingEvent");function Xe(pe,ke){ge("eventsSent",pe,ke),_n()}a(Xe,"_eventsSentEvent");function it(pe,ke){ge(Yr,pe,ke>=8e3&&ke<=8999?ke-8e3:ye.h.Unknown)}a(it,"_eventsDropped");function pt(pe){ge(Yr,pe,ye.h.NonRetryableStatus),_n()}a(pt,"_eventsResponseFail");function vt(pe,ke){ge(Yr,pe,ye.h.Unknown),_n()}a(vt,"_otherEvent");function jt(){!Ze||!Ze.disableAutoBatchFlushLimit?qe=Math.max(ti*(dr+1),$n/6):qe=0}a(jt,"_setAutoLimits"),(0,be.l_)(ut,"_setTimeoutOverride",function(){return Ot.set},function(pe){Ot=ei(pe,Ot.clear)}),(0,be.l_)(ut,"_clearTimeoutOverride",function(){return Ot.clear},function(pe){Ot=ei(Ot.set,pe)})}),st}return a(Ge,"PostChannel"),Ge.__ieDyn=1,Ge}(He.i);const ui=$r},4873:(Ve,d,y)=>{"use strict";y.d(d,{By:()=>h,cc:()=>g});var w=y(6708);function h($){var k={};return(0,w.rW)($,function(v,p){k[v]=p,k[p]=v}),(0,w._A)(k)}a(h,"createEnumStyle");function b($){var k={};return objForEachKey($,function(v,p){k[v]=v,k[p]=v}),deepFreeze(k)}a(b,"createEnumMap");function g($){var k={};return(0,w.rW)($,function(v,p){k[v]=p[1],k[p[0]]=p[1]}),(0,w._A)(k)}a(g,"createValueMap")},5928:(Ve,d,y)=>{"use strict";y.d(d,{h:()=>h});var w=y(4873),h=(0,w.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(Ve,d,y)=>{"use strict";y.d(d,{X:()=>M,v:()=>I});var w=y(4873),h,b="Failed",g=b+"MonitorAjax",$="Track",k="Start",v="Stop",p="Event",B="AuthContext",W="Exception",P="Local",F="Session",L="Storage",X="Browser",J="Cannot",ce="Buffer",D="InstrumentationKey",M=(0,w.By)({CRITICAL:1,WARNING:2}),I=(0,w.By)((h={},h[X+"DoesNotSupport"+P+L]=0,h[X+J+"Read"+P+L]=1,h[X+J+"Read"+F+L]=2,h[X+J+"Write"+P+L]=3,h[X+J+"Write"+F+L]=4,h[X+b+"RemovalFrom"+P+L]=5,h[X+b+"RemovalFrom"+F+L]=6,h[J+"SendEmptyTelemetry"]=7,h.ClientPerformanceMathError=8,h["ErrorParsingAI"+F+"Cookie"]=9,h.ErrorPVCalc=10,h[W+"WhileLoggingError"]=11,h[b+"AddingTelemetryTo"+ce]=12,h[g+"Abort"]=13,h[g+"Dur"]=14,h[g+"Open"]=15,h[g+"RSC"]=16,h[g+"Send"]=17,h[g+"GetCorrelationHeader"]=18,h[b+"ToAddHandlerForOnBeforeUnload"]=19,h[b+"ToSendQueuedTelemetry"]=20,h[b+"ToReportDataLoss"]=21,h["Flush"+b]=22,h.MessageLimitPerPVExceeded=23,h.MissingRequiredFieldSpecification=24,h.NavigationTimingNotSupported=25,h.OnError=26,h[F+"RenewalDateIsZero"]=27,h.SenderNotInitialized=28,h[k+$+p+b]=29,h[v+$+p+b]=30,h[k+$+b]=31,h[v+$+b]=32,h.TelemetrySampledAndNotSent=33,h[$+p+b]=34,h[$+W+b]=35,h[$+"Metric"+b]=36,h[$+"PV"+b]=37,h[$+"PV"+b+"Calc"]=38,h[$+"Trace"+b]=39,h["Transmission"+b]=40,h[b+"ToSet"+L+ce]=41,h[b+"ToRestore"+L+ce]=42,h.InvalidBackendResponse=43,h[b+"ToFixDepricatedValues"]=44,h.InvalidDurationValue=45,h.TelemetryEnvelopeInvalid=46,h.CreateEnvelopeError=47,h[J+"SerializeObject"]=48,h[J+"SerializeObjectNonSerializable"]=49,h.CircularReferenceDetected=50,h["Clear"+B+b]=51,h[W+"Truncated"]=52,h.IllegalCharsInName=53,h.ItemNotInArray=54,h.MaxAjaxPerPVExceeded=55,h.MessageTruncated=56,h.NameTooLong=57,h.SampleRateOutOfRange=58,h["Set"+B+b]=59,h["Set"+B+b+"AccountName"]=60,h.StringValueTooLong=61,h.StartCalledMoreThanOnce=62,h.StopCalledWithoutStart=63,h["TelemetryInitializer"+b]=64,h.TrackArgumentsNotSpecified=65,h.UrlTooLong=66,h[F+L+ce+"Full"]=67,h[J+"AccessCookie"]=68,h.IdTooLong=69,h.InvalidEvent=70,h[g+"SetRequestHeader"]=71,h["Send"+X+"InfoOnUserInit"]=72,h["Plugin"+W]=73,h["Notification"+W]=74,h.SnippetScriptLoadFailure=99,h["Invalid"+D]=100,h[J+"ParseAiBlobValue"]=101,h.InvalidContentBlob=102,h[$+"PageAction"+p+b]=103,h[b+"AddingCustomDefinedRequestContext"]=104,h["InMemory"+L+ce+"Full"]=105,h[D+"Deprecation"]=106,h))},5121:(Ve,d,y)=>{"use strict";y.d(d,{F:()=>W});var w=y(1088),h=y(1679),b=y(8096),g=y(6900),$=y(5018),k=y(6708),v=y(6041),p=y(1880),B=y(9288),W=function(P){(0,w.ne)(F,P);function F(){var L=P.call(this)||this;return(0,h.Z)(F,L,function(X,J){X[b.VL]=function(M,I,m,R){J[b.VL](M,I,m||new $.AQ(M),R||new p.f(M))},X.track=function(M){(0,B.Lm)(X[v.kl](),function(){return"AppInsightsCore:track"},function(){M===null&&(D(M),(0,k._y)("Invalid telemetry item")),ce(M),J.track(M)},function(){return{item:M}},!M.sync)};function ce(M){(0,k.le)(M[b.I])&&(D(M),(0,k._y)("telemetry name required"))}a(ce,"_validateTelemetryItem");function D(M){var I=X[b.tb]();I&&I[v.$F]([M],2)}a(D,"_notifyInvalidEvent")}),L}return a(F,"AppInsightsCore"),F.__ieDyn=1,F}(g.A)},6900:(Ve,d,y)=>{"use strict";y.d(d,{A:()=>ue});var w=y(1088),h=y(1679),b=y(2091),g=y(8096),$=y(6708),k=y(6041),v=y(1589),p=y(3833),B=500,W="Channel has invalid priority - ";function P(ee,z,se){z&&(0,$.kJ)(z)&&z[g.R5]>0&&(z=z.sort(function(Ee,Le){return Ee[k.yi]-Le[k.yi]}),(0,$.tO)(z,function(Ee){Ee[k.yi]<B&&(0,$._y)(W+Ee[g.pZ])}),ee[g.MW]({queue:(0,$.FL)(z),chain:(0,v.jV)(z,se[g.TC],se)}))}a(P,"_addChannelQueue");function F(ee,z){function se(){return(0,v.CD)(null,z[g.TC],z,null)}a(se,"_getTelCtx");function Ee(U,j,Z,he){var De=U?U[g.R5]+1:1;function be(){De--,De===0&&(he&&he(),he=null)}a(be,"_runChainOnComplete"),De>0&&(0,$.tO)(U,function(le){if(le&&le.queue[g.R5]>0){var ye=le.chain,Ae=j[g.zV](ye);Ae[g.Fc](be),Z(Ae)}else De--}),be()}a(Ee,"_processChannelQueue");function Le(U,j){var Z=j||{reason:0};return Ee(ee,U,function(he){he[g.uL](Z)},function(){U[g.uL](Z)}),!0}a(Le,"_doUpdate");function te(U,j){var Z=j||{reason:0,isAsync:!1};return Ee(ee,U,function(he){he[g.uL](Z)},function(){U[g.uL](Z),Ke=!1}),!0}a(te,"_doTeardown");function Be(U){var j=null;return ee&&ee[g.R5]>0&&(0,$.tO)(ee,function(Z){if(Z&&Z.queue[g.R5]>0&&((0,$.tO)(Z.queue,function(he){if(he[g.pZ]===U)return j=he,-1}),j))return-1}),j}a(Be,"_getChannel");var Ke=!1,Je={identifier:"ChannelControllerPlugin",priority:B,initialize:function(U,j,Z,he){Ke=!0,(0,$.tO)(ee,function(De){De&&De.queue[g.R5]>0&&(0,p.bP)((0,v.CD)(De.chain,U,j),Z)})},isInitialized:function(){return Ke},processTelemetry:function(U,j){Ee(ee,j||se(),function(Z){Z[g.uL](U)},function(){j[g.uL](U)})},update:Le,pause:function(){Ee(ee,se(),function(U){U.iterate(function(j){j.pause&&j.pause()})},null)},resume:function(){Ee(ee,se(),function(U){U.iterate(function(j){j.resume&&j.resume()})},null)},teardown:te,getChannel:Be,flush:function(U,j,Z,he){var De=1,be=!1,le=null;he=he||5e3;function ye(){De--,be&&De===0&&(le&&(clearTimeout(le),le=null),j&&j(be),j=null)}return a(ye,"doCallback"),Ee(ee,se(),function(Ae){Ae.iterate(function(He){if(He[g.kL]){De++;var Ie=!1;He[g.kL](U,function(){Ie=!0,ye()},Z)||Ie||(U&&le==null?le=setTimeout(function(){le=null,ye()},he):ye())}})},function(){be=!0,ye()}),!0},_setQueue:function(U){ee=U}};return Je}a(F,"createChannelControllerPlugin");function L(ee,z,se){var Ee=[];if(ee&&(0,$.tO)(ee,function(te){return P(Ee,te,se)}),z){var Le=[];(0,$.tO)(z,function(te){te[k.yi]>B&&Le[g.MW](te)}),P(Ee,Le,se)}return Ee}a(L,"createChannelQueues");var X=y(3242),J=y(5883),ce=y(7158),D=y(5018),M=y(9288),I=y(4063),m=y(7630),R=function(ee){(0,w.ne)(z,ee);function z(){var se=ee.call(this)||this;se.identifier="TelemetryInitializerPlugin",se.priority=199;var Ee,Le;te(),(0,h.Z)(z,se,function(Be,Ke){Be.addTelemetryInitializer=function(Je){var U={id:Ee++,fn:Je};Le[g.MW](U);var j={remove:function(){(0,$.tO)(Le,function(Z,he){if(Z.id===U.id)return Le[g.cb](he,1),-1})}};return j},Be[k.hL]=function(Je,U){for(var j=!1,Z=Le[g.R5],he=0;he<Z;++he){var De=Le[he];if(De)try{if(De.fn[g.ZV](null,[Je])===!1){j=!0;break}}catch(be){(0,D.kP)(U[g.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,$.jj)(be),{exception:(0,m.eU)(be)},!0)}}j||Be[g.uL](Je,U)},Be[g.F3]=function(){te()}});function te(){Ee=0,Le=[]}return a(te,"_initDefaults"),se}return a(z,"TelemetryInitializerPlugin"),z.__ieDyn=1,z}(I.i),T=y(310),G="Plugins must provide initialize method",K="_notificationManager",Y="SDK is still unloading...",re="SDK is not initialized",ve={loggingLevelConsole:1};function V(ee,z){return new M.Jk(z)}a(V,"_createPerfManager");function fe(ee,z,se){var Ee,Le=[],te={};return(0,$.tO)(se,function(Be){((0,$.le)(Be)||(0,$.le)(Be[g.VL]))&&(0,$._y)(G);var Ke=Be[k.yi],Je=Be[g.pZ];Be&&Ke&&((0,$.le)(te[Ke])?te[Ke]=Je:(0,D.jV)(ee,"Two extensions have same priority #"+Ke+" - "+te[Ke]+", "+Je)),(!Ke||Ke<z)&&Le[g.MW](Be)}),Ee={all:se},Ee[k.oV]=Le,Ee}a(fe,"_validateExtensions");function N(ee,z){var se=!1;return(0,$.tO)(z,function(Ee){if(Ee===ee)return se=!0,-1}),se}a(N,"_isPluginPresent");function Ne(){var ee;return(0,b.pu)((ee={},ee[g.g]=function(z){},ee[g.n7]=function(z){},ee[k.uC]=function(z){},ee[k.$F]=function(z,se){},ee[k.f_]=function(z,se){},ee))}a(Ne,"_createDummyNotificationManager");var ue=function(){function ee(){var z,se,Ee,Le,te,Be,Ke,Je,U,j,Z,he,De,be,le,ye,Ae,He,Ie,Re,q=0;(0,h.Z)(ee,this,function(Ce){ie(),Ce[g.yl]=function(){return se},Ce[g.VL]=function(rt,Rt,kt,Bt){be&&(0,$._y)(Y),Ce[g.yl]()&&(0,$._y)("Core should not be initialized more than once"),z=rt||{},Ce[g.TC]=z,(0,$.le)(rt[g.p$])&&(0,$._y)("Please provide instrumentation key"),Le=Bt,Ce[K]=Bt,Un(),bn(),ir(),kt&&(Ce[g.eZ]=kt);var Gt=(0,$.qK)(z,k.js,[]);U=[],U[g.MW].apply(U,(0,w.$h)((0,w.$h)([],Rt,!1),Gt,!1)),he=(0,$.qK)(z,k.Z,[]),$e(null),(!De||De[g.R5]===0)&&(0,$._y)("No "+k.Z+" available"),se=!0,Ce.releaseQueue()},Ce.getTransmissionControls=function(){var rt=[];return De&&(0,$.tO)(De,function(Rt){rt[g.MW](Rt.queue)}),(0,$.FL)(rt)},Ce.track=function(rt){rt.iKey=rt.iKey||z[g.p$],rt[g.Z_]=rt[g.Z_]||(0,$.Y6)(new Date),rt.ver=rt.ver||"4.0",!be&&Ce[g.yl]()?ae()[g.uL](rt):Ee[g.MW](rt)},Ce[g.SD]=ae,Ce[g.tb]=function(){return Le||(Le=Ne(),Ce[K]=Le),Le},Ce[g.g]=function(rt){Le&&Le[g.g](rt)},Ce[g.n7]=function(rt){Le&&Le[g.n7](rt)},Ce.getCookieMgr=function(){return Ke||(Ke=(0,X.Nz)(z,Ce[g.eZ])),Ke},Ce.setCookieMgr=function(rt){Ke=rt},Ce[k.kl]=function(){if(!te&&!Be&&(0,$.v4)(z.enablePerfMgr)){var rt=(0,$.v4)(z[k.DN]);(0,$.mf)(rt)&&(Be=rt(Ce,Ce[g.tb]()))}return te||Be||(0,M.j5)()},Ce.setPerfMgr=function(rt){te=rt},Ce.eventCnt=function(){return Ee[g.R5]},Ce.releaseQueue=function(){if(se&&Ee[g.R5]>0){var rt=Ee;Ee=[],(0,$.tO)(rt,function(Rt){ae()[g.uL](Rt)})}},Ce.pollInternalLogs=function(rt){ye=rt||null;var Rt=(0,$.v4)(z.diagnosticLogInterval);return(!Rt||!(Rt>0))&&(Rt=1e4),q&&clearInterval(q),q=setInterval(function(){an()},Rt),q},Ce[g.LS]=function(){q&&(clearInterval(q),q=0,an())},(0,$.Vb)(Ce,function(){return le},["addTelemetryInitializer"]),Ce.unload=function(rt,Rt,kt){var Bt;rt===void 0&&(rt=!0),se||(0,$._y)(re),be&&(0,$._y)(Y);var Gt=(Bt={reason:50},Bt[g.d]=rt,Bt.flushComplete=!1,Bt),gn=(0,v.Bt)(Mt(),Ce);gn[g.Fc](function(){ie(),Rt&&Rt(Gt)},Ce);function kn(ar){Gt.flushComplete=ar,be=!0,He.run(gn,Gt),Ce[g.LS](),gn[g.uL](Gt)}a(kn,"_doUnload"),jn(rt,kn,6,kt)||kn(!1)},Ce[g.TO]=ht,Ce.addPlugin=function(rt,Rt,kt,Bt){if(!rt){Bt&&Bt(!1),Or(G);return}var Gt=ht(rt[g.pZ]);if(Gt&&!Rt){Bt&&Bt(!1),Or("Plugin ["+rt[g.pZ]+"] is already loaded!");return}var gn={reason:16};function kn(An){U[g.MW](rt),gn.added=[rt],$e(gn),Bt&&Bt(!0)}if(a(kn,"_addPlugin"),Gt){var ar=[Gt.plugin],Wn={reason:2,isAsync:!!kt};mn(ar,Wn,function(An){An?(gn.removed=ar,gn.reason|=32,kn(!0)):Bt&&Bt(!1)})}else kn(!1)},Ce.evtNamespace=function(){return Ae},Ce[g.kL]=jn,Ce.getTraceCtx=function(rt){return Re||(Re=(0,p.Yn)()),Re},Ce.setTraceCtx=function(rt){Re=rt||null},(0,$.Oi)(Ce,"addUnloadCb",function(){return He},"add");function ie(){se=!1,z=(0,$.mm)(!0,{},ve),Ce[g.TC]=z,Ce[g.eZ]=new D.AQ(z),Ce[g.iC]=[],le=new R,Ee=[],Le=null,te=null,Be=null,Ke=null,Je=null,j=null,U=[],Z=null,he=null,De=null,be=!1,ye=null,Ae=(0,J.J)("AIBaseCore",!0),He=(0,T.Y)(),Re=null}a(ie,"_initDefaults");function ae(){return(0,v.CD)(Mt(),z,Ce)}a(ae,"_createTelCtx");function $e(rt){var Rt=fe(Ce[g.eZ],B,U);j=Rt[k.oV],Je=null;var kt=Rt.all;if(De=(0,$.FL)(L(he,kt,Ce)),Z){var Bt=(0,$.UA)(kt,Z);Bt!==-1&&kt[g.cb](Bt,1),Bt=(0,$.UA)(j,Z),Bt!==-1&&j[g.cb](Bt,1),Z._setQueue(De)}else Z=F(De,Ce);kt[g.MW](Z),j[g.MW](Z),Ce[g.iC]=(0,p.AA)(kt),Z[g.VL](z,Ce,kt),(0,p.bP)(ae(),kt),Ce[g.iC]=(0,$.FL)((0,p.AA)(j||[])).slice(),rt&&ur(rt)}a($e,"_initPluginChain");function ht(rt){var Rt,kt=null,Bt=null;return(0,$.tO)(Ce[g.iC],function(Gt){if(Gt[g.pZ]===rt&&Gt!==Z&&Gt!==le)return Bt=Gt,-1}),!Bt&&Z&&(Bt=Z.getChannel(rt)),Bt&&(kt=(Rt={plugin:Bt},Rt[g.$h]=function(Gt){(0,p.OY)(Bt)[k.mE]=!Gt},Rt.isEnabled=function(){var Gt=(0,p.OY)(Bt);return!Gt[g.fi]&&!Gt[k.mE]},Rt.remove=function(Gt,gn){var kn;Gt===void 0&&(Gt=!0);var ar=[Bt],Wn=(kn={reason:1},kn[g.d]=Gt,kn);mn(ar,Wn,function(An){An&&$e({reason:32,removed:ar}),gn&&gn(An)})},Rt)),kt}a(ht,"_getPlugin");function Mt(){if(!Je){var rt=(j||[]).slice();(0,$.UA)(rt,le)===-1&&rt[g.MW](le),Je=(0,v.jV)((0,p.AA)(rt),z,Ce)}return Je}a(Mt,"_getPluginChain");function mn(rt,Rt,kt){if(rt&&rt[g.R5]>0){var Bt=(0,v.jV)(rt,z,Ce),Gt=(0,v.Bt)(Bt,Ce);Gt[g.Fc](function(){var gn=!1,kn=[];(0,$.tO)(U,function(Wn,An){N(Wn,rt)?gn=!0:kn[g.MW](Wn)}),U=kn;var ar=[];he&&((0,$.tO)(he,function(Wn,An){var wr=[];(0,$.tO)(Wn,function(Vn){N(Vn,rt)?gn=!0:wr[g.MW](Vn)}),ar[g.MW](wr)}),he=ar),kt&&kt(gn)}),Gt[g.uL](Rt)}else kt(!1)}a(mn,"_removePlugins");function an(){var rt=Ce[g.eZ]?Ce[g.eZ].queue:[];rt&&((0,$.tO)(rt,function(Rt){var kt,Bt=(kt={},kt[g.I]=ye||"InternalMessageId: "+Rt[g.Gc],kt.iKey=(0,$.v4)(z[g.p$]),kt.time=(0,$.Y6)(new Date),kt.baseType=D.lQ.dataType,kt.baseData={message:Rt[g.gU]},kt);Ce.track(Bt)}),rt[g.R5]=0)}a(an,"_flushInternalLogs");function jn(rt,Rt,kt,Bt){return Z?Z[g.kL](rt,Rt,kt||6,Bt):(Rt&&Rt(!1),!0)}a(jn,"_flushChannels");function Un(){var rt=(0,$.v4)(z.disableDbgExt);rt===!0&&Ie&&(Le[g.n7](Ie),Ie=null),Le&&!Ie&&rt!==!0&&(Ie=(0,ce.p)(z),Le[g.g](Ie))}a(Un,"_initDebugListener");function bn(){var rt=(0,$.v4)(z.enablePerfMgr);!rt&&Be&&(Be=null),rt&&(0,$.qK)(z,k.DN,V)}a(bn,"_initPerfManager");function ir(){var rt=(0,$.qK)(z,k.Zh,{});rt.NotificationManager=Le}a(ir,"_initExtConfig");function ur(rt){var Rt=(0,v.xy)(Mt(),Ce);(!Ce._updateHook||Ce._updateHook(Rt,rt)!==!0)&&Rt[g.uL](rt)}a(ur,"_doUpdate");function Or(rt){var Rt=Ce[g.eZ];Rt?(0,D.kP)(Rt,2,73,rt):(0,$._y)(rt)}a(Or,"_logOrThrowError")})}return a(ee,"BaseCore"),ee.__ieDyn=1,ee}()},4063:(Ve,d,y)=>{"use strict";y.d(d,{i:()=>p});var w=y(1679),h=y(8096),b=y(6708),g=y(6041),$=y(1589),k=y(310),v="getPlugin",p=function(){function B(){var W=this,P,F,L,X,J;M(),(0,w.Z)(B,W,function(I){I[h.VL]=function(m,R,T,G){D(m,R,G),P=!0},I[h.fi]=function(m,R){var T,G=I[g.oV];if(!G||m&&G!==m[g.oV]())return;var K,Y=!1,re=m||(0,$.Bt)(null,G,L&&L[v]?L[v]():L),ve=R||(T={reason:0},T[h.d]=!1,T);function V(){if(!Y){Y=!0,X.run(re,R);var fe=J;J=[],(0,b.tO)(fe,function(N){N.rm()}),K===!0&&re[h.uL](ve),M()}}return a(V,"_unloadCallback"),!I[h.F3]||I[h.F3](re,ve,V)!==!0?V():K=!0,K},I[h.Tu]=function(m,R){var T=I[g.oV];if(!T||m&&T!==m[g.oV]())return;var G,K=!1,Y=m||(0,$.xy)(null,T,L&&L[v]?L[v]():L),re=R||{reason:0};function ve(){K||(K=!0,D(Y.getCfg(),Y.core(),Y[h.W2]()))}return a(ve,"_updateCallback"),!I._doUpdate||I._doUpdate(Y,re,ve)!==!0?ve():G=!0,G},I._addHook=function(m){m&&((0,b.kJ)(m)?J=J.concat(m):J[h.MW](m))},(0,b.Oi)(I,"_addUnloadCb",function(){return X},"add")}),W[h.mc]=function(I){return ce(I)[h.mc]()},W[h.yl]=function(){return P},W.setInitialized=function(I){P=I},W[h.Jd]=function(I){L=I},W[h.uL]=function(I,m){m?m[h.uL](I):L&&(0,b.mf)(L[g.hL])&&L[g.hL](I,null)},W._getTelCtx=ce;function ce(I){I===void 0&&(I=null);var m=I;if(!m){var R=F||(0,$.CD)(null,{},W[g.oV]);L&&L[v]?m=R[h.zV](null,L[v]):m=R[h.zV](null,L)}return m}a(ce,"_getTelCtx");function D(I,m,R){I&&(0,b.sO)(I,g.Zh,[],null,b.le),!R&&m&&(R=m[h.SD]()[h.W2]());var T=L;L&&L[v]&&(T=L[v]()),W[g.oV]=m,F=(0,$.CD)(R,I,m,T)}a(D,"_setDefaults");function M(){P=!1,W[g.oV]=null,F=null,L=null,J=[],X=(0,k.Y)()}a(M,"_initDefaults")}return a(B,"BaseTelemetryPlugin"),B.__ieDyn=1,B}()},3242:(Ve,d,y)=>{"use strict";y.d(d,{JP:()=>Y,Nz:()=>re,UY:()=>ee,kj:()=>m,p7:()=>ve});var w=y(8096),h=y(5018),b=y(7630),g=y(6708),$=y(6041),k="toGMTString",v="toUTCString",p="cookie",B="expires",W="enabled",P="isCookieUseDisabled",F="disableCookiesUsage",L="_ckMgr",X=null,J=null,ce=null,D=(0,b.Me)(),M={},I={};function m(z,se){var Ee=re[L]||I[L];return Ee||(Ee=re[L]=re(z,se),I[L]=Ee),Ee}a(m,"_gblCookieMgr");function R(z){return z?z.isEnabled():!0}a(R,"_isMgrEnabled");function T(z){var se=z[w.Lk]=z[w.Lk]||{};if((0,g.sO)(se,"domain",z.cookieDomain,g.BX,g.le),(0,g.sO)(se,"path",z.cookiePath||"/",null,g.le),(0,g.le)(se[W])){var Ee=void 0;(0,g.o8)(z[P])||(Ee=!z[P]),(0,g.o8)(z[F])||(Ee=!z[F]),se[W]=Ee}return se}a(T,"_createCookieMgrConfig");function G(z,se){return se&&z&&(0,g.kJ)(z.ignoreCookies)?z.ignoreCookies[w.ou](se)!==-1:!1}a(G,"_isIgnoredCookie");function K(z,se){return se&&z&&(0,g.kJ)(z.blockedCookies)&&z.blockedCookies[w.ou](se)!==-1?!0:G(z,se)}a(K,"_isBlockedCookie");function Y(z,se){var Ee;if(z)Ee=z.getCookieMgr();else if(se){var Le=se[w.Lk];Le[L]?Ee=Le[L]:Ee=re(se)}return Ee||(Ee=m(se,(z||{})[w.eZ])),Ee}a(Y,"safeGetCookieMgr");function re(z,se){var Ee,Le=T(z||I),te=Le.path||"/",Be=Le.domain,Ke=Le[W]!==!1,Je=(Ee={isEnabled:function(){var U=Ke&&ve(se),j=I[L];return U&&j&&Je!==j&&(U=R(j)),U}},Ee[w.$h]=function(U){Ke=U!==!1},Ee.set=function(U,j,Z,he,De){var be=!1;if(R(Je)&&!K(Le,U)){var le={},ye=(0,g.nd)(j||$.qS),Ae=ye[w.ou](";");if(Ae!==-1&&(ye=(0,g.nd)(j[w.zc](0,Ae)),le=V(j[w.zc](Ae+1))),(0,g.sO)(le,"domain",he||Be,g.fQ,g.o8),!(0,g.le)(Z)){var He=(0,b.w1)();if((0,g.o8)(le[B])){var Ie=(0,g.m6)(),Re=Ie+Z*1e3;if(Re>0){var q=new Date;q.setTime(Re),(0,g.sO)(le,B,fe(q,He?k:v)||fe(q,He?k:v)||$.qS,g.fQ)}}He||(0,g.sO)(le,"max-age",$.qS+Z,null,g.o8)}var Ce=(0,b.k$)();Ce&&Ce.protocol==="https:"&&((0,g.sO)(le,"secure",null,null,g.o8),J===null&&(J=!ee(((0,b.jW)()||{})[w.qV])),J&&(0,g.sO)(le,"SameSite","None",null,g.o8)),(0,g.sO)(le,"path",De||te,null,g.o8);var ie=Le.setCookie||ue;ie(U,N(ye,le)),be=!0}return be},Ee.get=function(U){var j=$.qS;return R(Je)&&!G(Le,U)&&(j=(Le.getCookie||Ne)(U)),j},Ee.del=function(U,j){var Z=!1;return R(Je)&&(Z=Je.purge(U,j)),Z},Ee.purge=function(U,j){var Z,he=!1;if(ve(se)){var De=(Z={},Z.path=j||"/",Z[B]="Thu, 01 Jan 1970 00:00:01 GMT",Z);(0,b.w1)()||(De["max-age"]="0");var be=Le.delCookie||ue;be(U,N($.qS,De)),he=!0}return he},Ee);return Je[L]=Je,Je}a(re,"createCookieMgr");function ve(z){if(X===null){X=!1;try{var se=D||{};X=se[p]!==void 0}catch(Ee){(0,h.kP)(z,2,68,"Cannot access document.cookie - "+(0,g.jj)(Ee),{exception:(0,b.eU)(Ee)})}}return X}a(ve,"areCookiesSupported");function V(z){var se={};if(z&&z[w.R5]){var Ee=(0,g.nd)(z)[w.w6](";");(0,g.tO)(Ee,function(Le){if(Le=(0,g.nd)(Le||$.qS),Le){var te=Le[w.ou]("=");te===-1?se[Le]=null:se[(0,g.nd)(Le[w.zc](0,te))]=(0,g.nd)(Le[w.zc](te+1))}})}return se}a(V,"_extractParts");function fe(z,se){return(0,g.mf)(z[se])?z[se]():null}a(fe,"_formatDate");function N(z,se){var Ee=z||$.qS;return(0,g.rW)(se,function(Le,te){Ee+="; "+Le+((0,g.le)(te)?$.qS:"="+te)}),Ee}a(N,"_formatCookieValue");function Ne(z){var se=$.qS;if(D){var Ee=D[p]||$.qS;ce!==Ee&&(M=V(Ee),ce=Ee),se=(0,g.nd)(M[z]||$.qS)}return se}a(Ne,"_getCookieValue");function ue(z,se){D&&(D[p]=z+"="+se)}a(ue,"_setCookieValue");function ee(z){return(0,g.HD)(z)?!!((0,g._Q)(z,"CPU iPhone OS 12")||(0,g._Q)(z,"iPad; CPU OS 12")||(0,g._Q)(z,"Macintosh; Intel Mac OS X 10_14")&&(0,g._Q)(z,"Version/")&&(0,g._Q)(z,"Safari")||(0,g._Q)(z,"Macintosh; Intel Mac OS X 10_14")&&(0,g.Id)(z,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,g._Q)(z,"Chrome/5")||(0,g._Q)(z,"Chrome/6")||(0,g._Q)(z,"UnrealEngine")&&!(0,g._Q)(z,"Chrome")||(0,g._Q)(z,"UCBrowser/12")||(0,g._Q)(z,"UCBrowser/11")):!1}a(ee,"uaDisallowsSameSiteNone")},5843:(Ve,d,y)=>{"use strict";y.d(d,{DO:()=>J,GW:()=>F,Jj:()=>L,Tr:()=>ce,d8:()=>G,ej:()=>T,kT:()=>K,oF:()=>m,vn:()=>R,zB:()=>M});var w=y(2091),h=y(8096),b=y(3242),g=y(7630),$=y(4869),k=y(6708),v=y(6041),p=y(4878),B=null,W,P=null;function F(){var Y=J();return Y[h.zc](0,8)+"-"+Y[h.zc](8,12)+"-"+Y[h.zc](12,16)+"-"+Y[h.zc](16,20)+"-"+Y[h.zc](20)}a(F,"newGuid");function L(){var Y=(0,g.r)();return Y&&Y.now?Y.now():(0,k.m6)()}a(L,"perfNow");function X(Y,re){if(Y&&re){var ve=Y[_DYN_LENGTH],V=ve-re[_DYN_LENGTH];return Y[_DYN_SUBSTRING](V>=0?V:0,ve)===re}return!1}a(X,"strEndsWith");function J(){for(var Y=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],re=v.qS,ve,V=0;V<4;V++)ve=(0,p._l)(),re+=Y[ve&15]+Y[ve>>4&15]+Y[ve>>8&15]+Y[ve>>12&15]+Y[ve>>16&15]+Y[ve>>20&15]+Y[ve>>24&15]+Y[ve>>28&15];var fe=Y[8+((0,p._l)()&3)|0];return re[h.Jn](0,8)+re[h.Jn](9,4)+"4"+re[h.Jn](13,3)+fe+re[h.Jn](16,3)+re[h.Jn](19,12)}a(J,"generateW3CId");var ce={_canUseCookies:void 0,isTypeof:k.Ym,isUndefined:k.o8,isNullOrUndefined:k.le,hasOwnProperty:k.nr,isFunction:k.mf,isObject:k.Kn,isDate:k.J_,isArray:k.kJ,isError:k.VZ,isString:k.HD,isNumber:k.hj,isBoolean:k.jn,toISOString:k.Y6,arrForEach:k.tO,arrIndexOf:k.UA,arrMap:k.Mr,arrReduce:k.Xz,strTrim:k.nd,objCreate:w.pu,objKeys:k.FY,objDefineAccessors:k.l_,addEventHandler:$.Ib,dateNow:k.m6,isIE:g.w1,disableCookies:m,newGuid:F,perfNow:L,newId:p.pZ,randomValue:p.az,random32:p._l,mwcRandomSeed:p.CN,mwcRandom32:p.F6,generateW3CId:J},D=/[xy]/g,M={Attach:$.pZ,AttachEvent:$.pZ,Detach:$.pD,DetachEvent:$.pD};function I(Y,re){var ve=(0,b.kj)(Y,re),V=ce._canUseCookies;return B===null&&(B=[],W=V,(0,k.l_)(ce,"_canUseCookies",function(){return W},function(fe){W=fe,(0,k.tO)(B,function(N){N[h.$h](fe)})})),(0,k.UA)(B,ve)===-1&&B[h.MW](ve),(0,k.jn)(V)&&ve[h.$h](V),(0,k.jn)(W)&&ve[h.$h](W),ve}a(I,"_legacyCookieMgr");function m(){I()[h.$h](!1)}a(m,"disableCookies");function R(Y){return I(null,Y).isEnabled()}a(R,"canUseCookies");function T(Y,re){return I(null,Y).get(re)}a(T,"getCookie");function G(Y,re,ve,V){I(null,Y).set(re,ve,null,V)}a(G,"setCookie");function K(Y,re){return I(null,Y).del(re)}a(K,"deleteCookie")},5883:(Ve,d,y)=>{"use strict";y.d(d,{J:()=>L,K:()=>X});var w=y(4392),h=y(8096),b=y(6708),g=y(6041),$=y(4878),k=w.RJ,v="2.8.12",p="."+(0,$.pZ)(6),B=0;function W(J,ce,D){if(k)try{return k(J,ce,{value:D,enumerable:!1,configurable:!0}),!0}catch(M){}return!1}a(W,"_createAccessor");function P(J){return J[h.xv]===1||J[h.xv]===9||!+J[h.xv]}a(P,"_canAcceptData");function F(J,ce){var D=ce[J.id];if(!D){D={};try{P(ce)&&(W(ce,J.id,D)||(ce[J.id]=D))}catch(M){}}return D}a(F,"_getCache");function L(J,ce){return ce===void 0&&(ce=!1),(0,b.Gf)(J+B+++(ce?"."+v:g.qS)+p)}a(L,"createUniqueNamespace");function X(J){var ce={id:L("_aiData-"+(J||g.qS)+"."+v),accept:function(D){return P(D)},get:function(D,M,I,m){var R=D[ce.id];return R?R[(0,b.Gf)(M)]:(m&&(R=F(ce,D),R[(0,b.Gf)(M)]=I),I)},kill:function(D,M){if(D&&D[M])try{delete D[M]}catch(I){}}};return ce}a(X,"createElmNodeData")},7158:(Ve,d,y)=>{"use strict";y.d(d,{j:()=>p,p:()=>B});var w=y(8096),h=y(7630),b=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],g=null,$;function k(W,P){return function(){var F=arguments,L=p(P);if(L){var X=L.listener;X&&X[W]&&X[W][w.ZV](X,F)}}}a(k,"_listenerProxyFunc");function v(){var W=(0,h.a8)("Microsoft");return W&&(g=W.ApplicationInsights),g}a(v,"_getExtensionNamespace");function p(W){var P=g;return!P&&W.disableDbgExt!==!0&&(P=g||v()),P?P.ChromeDbgExt:null}a(p,"getDebugExt");function B(W){if(!$){$={};for(var P=0;P<b[w.R5];P++)$[b[P]]=k(b[P],W)}return $}a(B,"getDebugListener")},5018:(Ve,d,y)=>{"use strict";y.d(d,{AQ:()=>X,L4:()=>M,jV:()=>D,kP:()=>ce,lQ:()=>F,vH:()=>L});var w=y(1679),h=y(8096),b=y(7158),g=y(7630),$=y(6708),k=y(6041),v="AI (Internal): ",p="AI: ",B="AITR_";function W(I){return I?'"'+I[h.i7](/\"/g,k.qS)+'"':k.qS}a(W,"_sanitizeDiagnosticText");function P(I,m){var R=(0,g.dr)();if(R){var T="log";R[I]&&(T=I),(0,$.mf)(R[T])&&R[T](m)}}a(P,"_logToConsole");var F=function(){function I(m,R,T,G){T===void 0&&(T=!1);var K=this;K[h.Gc]=m,K[h.gU]=(T?p:v)+m;var Y=k.qS;(0,g.nS)()&&(Y=(0,g.xA)().stringify(G));var re=(R?" message:"+W(R):k.qS)+(G?" props:"+W(Y):k.qS);K[h.gU]+=re}return a(I,"_InternalLogMessage"),I.dataType="MessageData",I}();function L(I,m){return(I||{})[h.eZ]||new X(m)}a(L,"safeGetLogger");var X=function(){function I(m){this.identifier="DiagnosticLogger",this.queue=[];var R=0,T={},G,K,Y,re;(0,w.Z)(I,this,function(ve){fe(m||{}),ve.consoleLoggingLevel=function(){return G},ve.telemetryLoggingLevel=function(){return K},ve.maxInternalMessageLimit=function(){return Y},ve[h.Fr]=function(){return re},ve.throwInternal=function(ue,ee,z,se,Ee){Ee===void 0&&(Ee=!1);var Le=new F(ee,z,Ee,se);if(re)throw(0,g.eU)(Le);var te=ue===1?k.ys:k.cL;if((0,$.o8)(Le[h.gU]))Ne("throw"+(ue===1?"Critical":"Warning"),Le);else{if(Ee){var Be=+Le[h.Gc];!T[Be]&&G>=ue&&(ve[te](Le[h.gU]),T[Be]=!0)}else G>=ue&&ve[te](Le[h.gU]);V(ue,Le)}},ve[k.cL]=function(ue){P("warn",ue),Ne("warning",ue)},ve[k.ys]=function(ue){P("error",ue),Ne("error",ue)},ve.resetInternalMessageCount=function(){R=0,T={}},ve[h.jk]=V;function V(ue,ee){if(!N()){var z=!0,se=B+ee[h.Gc];if(T[se]?z=!1:T[se]=!0,z&&(ue<=K&&(ve.queue[h.MW](ee),R++,Ne(ue===1?"error":"warn",ee)),R===Y)){var Ee="Internal events throttle limit per PageView reached for this app.",Le=new F(23,Ee,!1);ve.queue[h.MW](Le),ue===1?ve[k.ys](Ee):ve[k.cL](Ee)}}}a(V,"_logInternalMessage");function fe(ue){G=(0,$.v4)(ue.loggingLevelConsole,0),K=(0,$.v4)(ue.loggingLevelTelemetry,1),Y=(0,$.v4)(ue.maxMessageLimit,25),re=(0,$.v4)(ue.enableDebug,(0,$.v4)(ue[h.Fr],!1))}a(fe,"_setDefaultsFromConfig");function N(){return R>=Y}a(N,"_areInternalMessagesThrottled");function Ne(ue,ee){var z=(0,b.j)(m||{});z&&z[h.mc]&&z[h.mc](ue,ee)}a(Ne,"_debugExtMsg")})}return a(I,"DiagnosticLogger"),I.__ieDyn=1,I}();function J(I){return I||new X}a(J,"_getLogger");function ce(I,m,R,T,G,K){K===void 0&&(K=!1),J(I).throwInternal(m,R,T,G,K)}a(ce,"_throwInternal");function D(I,m){J(I)[k.cL](m)}a(D,"_warnToConsole");function M(I,m,R){J(I)[h.jk](m,R)}a(M,"_logInternalMessage")},7630:(Ve,d,y)=>{"use strict";y.d(d,{JO:()=>Ae,Jj:()=>N,MF:()=>ye,MX:()=>U,Me:()=>ue,Nv:()=>Ne,Ym:()=>fe,Z3:()=>Ie,a8:()=>V,b$:()=>Z,cp:()=>He,d6:()=>ee,dI:()=>ve,dr:()=>te,eU:()=>be,ed:()=>q,fE:()=>se,gz:()=>j,jW:()=>z,k$:()=>Le,nS:()=>Ke,pI:()=>Ce,r:()=>Be,s1:()=>Ee,sA:()=>De,w1:()=>he,xA:()=>Je});var w=y(4392),h=y(2091),b=y(8096),g=y(6708),$=y(6041),k="window",v="document",p="documentMode",B="navigator",W="history",P="location",F="console",L="performance",X="JSON",J="crypto",ce="msCrypto",D="ReactNative",M="msie",I="trident/",m="XMLHttpRequest",R=null,T=null,G=!1,K=null,Y=null;function re(ie,ae){var $e=!1;if(ie){try{if($e=ae in ie,!$e){var ht=ie[w.hB];ht&&($e=ae in ht)}}catch(mn){}if(!$e)try{var Mt=new ie;$e=!(0,g.o8)(Mt[ae])}catch(mn){}}return $e}a(re,"_hasProperty");function ve(ie){G=ie}a(ve,"setEnableEnvMocks");function V(ie){var ae=(0,h.Rd)();return ae&&ae[ie]?ae[ie]:ie===k&&fe()?window:null}a(V,"getGlobalInst");function fe(){return Boolean(typeof window===w.fK&&window)}a(fe,"hasWindow");function N(){return fe()?window:V(k)}a(N,"getWindow");function Ne(){return Boolean(typeof document===w.fK&&document)}a(Ne,"hasDocument");function ue(){return Ne()?document:V(v)}a(ue,"getDocument");function ee(){return Boolean(typeof navigator===w.fK&&navigator)}a(ee,"hasNavigator");function z(){return ee()?navigator:V(B)}a(z,"getNavigator");function se(){return Boolean(typeof history===w.fK&&history)}a(se,"hasHistory");function Ee(){return se()?history:V(W)}a(Ee,"getHistory");function Le(ie){if(ie&&G){var ae=V("__mockLocation");if(ae)return ae}return typeof location===w.fK&&location?location:V(P)}a(Le,"getLocation");function te(){return typeof console!==w.jA?console:V(F)}a(te,"getConsole");function Be(){return V(L)}a(Be,"getPerformance");function Ke(){return Boolean(typeof JSON===w.fK&&JSON||V(X)!==null)}a(Ke,"hasJSON");function Je(){return Ke()?JSON||V(X):null}a(Je,"getJSON");function U(){return V(J)}a(U,"getCrypto");function j(){return V(ce)}a(j,"getMsCrypto");function Z(){var ie=z();return ie&&ie.product?ie.product===D:!1}a(Z,"isReactNative");function he(){var ie=z();if(ie&&(ie[b.qV]!==T||R===null)){T=ie[b.qV];var ae=(T||$.qS)[b.T1]();R=(0,g._Q)(ae,M)||(0,g._Q)(ae,I)}return R}a(he,"isIE");function De(ie){if(ie===void 0&&(ie=null),!ie){var ae=z()||{};ie=ae?(ae[b.qV]||$.qS)[b.T1]():$.qS}var $e=(ie||$.qS)[b.T1]();if((0,g._Q)($e,M)){var ht=ue()||{};return Math.max(parseInt($e[b.w6](M)[1]),ht[p]||0)}else if((0,g._Q)($e,I)){var Mt=parseInt($e[b.w6](I)[1]);if(Mt)return Mt+4}return null}a(De,"getIEVersion");function be(ie){var ae=Object[w.hB].toString[b._S](ie),$e=$.qS;return ae==="[object Error]"?$e="{ stack: '"+ie.stack+"', message: '"+ie.message+"', name: '"+ie[b.I]+"'":Ke()&&($e=Je().stringify(ie)),ae+$e}a(be,"dumpObj");function le(ie){if(!ie||!isString(ie)){var ae=z()||{};ie=ae?(ae[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var $e=(ie||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return $e[_DYN_INDEX_OF]("safari")>=0}a(le,"isSafari");function ye(){return Y===null&&(Y=ee()&&Boolean(z().sendBeacon)),Y}a(ye,"isBeaconsSupported");function Ae(ie){var ae=!1;try{ae=!!V("fetch");var $e=V("Request");ae&&ie&&$e&&(ae=re($e,"keepalive"))}catch(ht){}return ae}a(Ae,"isFetchSupported");function He(){return K===null&&(K=typeof XDomainRequest!==w.jA,K&&Ie()&&(K=K&&!re(V(m),"withCredentials"))),K}a(He,"useXDomainRequest");function Ie(){var ie=!1;try{var ae=V(m);ie=!!ae}catch($e){}return ie}a(Ie,"isXhrSupported");function Re(ie,ae){if(ie)for(var $e=0;$e<ie[b.R5];$e++){var ht=ie[$e];if(ht[b.I]&&ht[b.I]===ae)return ht}return{}}a(Re,"_getNamedValue");function q(ie){var ae=ue();return ae&&ie?Re(ae.querySelectorAll("meta"),ie).content:null}a(q,"findMetaTag");function Ce(ie){var ae,$e=Be();if($e){var ht=$e.getEntriesByType("navigation")||[];ae=Re((ht[b.R5]>0?ht[0]:{}).serverTiming,ie).description}return ae}a(Ce,"findNamedServerTiming")},4869:(Ve,d,y)=>{"use strict";y.d(d,{C1:()=>te,C9:()=>he,Ib:()=>Le,JA:()=>j,QY:()=>z,TJ:()=>Z,XO:()=>ee,Yl:()=>be,c9:()=>U,jU:()=>ue,nD:()=>De,nJ:()=>Je,pD:()=>Ee,pZ:()=>se,um:()=>re,yw:()=>Ke});var w=y(8096),h=y(5883),b=y(7630),g=y(6708),$=y(6041),k="on",v="attachEvent",p="addEventListener",B="detachEvent",W="removeEventListener",P="events",F="visibilitychange",L="pagehide",X="pageshow",J="unload",ce="beforeunload",D=(0,h.J)("aiEvtPageHide"),M=(0,h.J)("aiEvtPageShow"),I=/\.[\.]+/g,m=/[\.]+$/,R=1,T=(0,h.K)("events"),G=/^([^.]*)(?:\.(.+)|)/;function K(le){return le&&le[w.i7]?le[w.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,$.qS):le}a(K,"_normalizeNamespace");function Y(le,ye){var Ae;if(ye){var He=$.qS;(0,g.kJ)(ye)?(He=$.qS,(0,g.tO)(ye,function(Re){Re=K(Re),Re&&(Re[0]!=="."&&(Re="."+Re),He+=Re)})):He=K(ye),He&&(He[0]!=="."&&(He="."+He),le=(le||$.qS)+He)}var Ie=G.exec(le||$.qS)||[];return Ae={},Ae[w.P6]=Ie[1],Ae.ns=(Ie[2]||$.qS).replace(I,".").replace(m,$.qS)[w.w6](".").sort().join("."),Ae}a(Y,"_getEvtNamespace");function re(le,ye,Ae){var He=[],Ie=T.get(le,P,{},!1),Re=Y(ye,Ae);return(0,g.rW)(Ie,function(q,Ce){(0,g.tO)(Ce,function(ie){var ae;(!Re[w.P6]||Re[w.P6]===ie.evtName[w.P6])&&(!Re.ns||Re.ns===Re.ns)&&He[w.MW]((ae={},ae[w.I]=ie.evtName[w.P6]+(ie.evtName.ns?"."+ie.evtName.ns:$.qS),ae.handler=ie[w.Kn],ae))})}),He}a(re,"__getRegisteredEvents");function ve(le,ye,Ae){Ae===void 0&&(Ae=!0);var He=T.get(le,P,{},Ae),Ie=He[ye];return Ie||(Ie=He[ye]=[]),Ie}a(ve,"_getRegisteredEvents");function V(le,ye,Ae,He){le&&ye&&ye[w.P6]&&(le[W]?le[W](ye[w.P6],Ae,He):le[B]&&le[B](k+ye[w.P6],Ae))}a(V,"_doDetach");function fe(le,ye,Ae,He){var Ie=!1;return le&&ye&&ye[w.P6]&&Ae&&(le[p]?(le[p](ye[w.P6],Ae,He),Ie=!0):le[v]&&(le[v](k+ye[w.P6],Ae),Ie=!0)),Ie}a(fe,"_doAttach");function N(le,ye,Ae,He){for(var Ie=ye[w.R5];Ie--;){var Re=ye[Ie];Re&&(!Ae.ns||Ae.ns===Re.evtName.ns)&&(!He||He(Re))&&(V(le,Re.evtName,Re[w.Kn],Re.capture),ye[w.cb](Ie,1))}}a(N,"_doUnregister");function Ne(le,ye,Ae){if(ye[w.P6])N(le,ve(le,ye[w.P6]),ye,Ae);else{var He=T.get(le,P,{});(0,g.rW)(He,function(Ie,Re){N(le,Re,ye,Ae)}),(0,g.FY)(He)[w.R5]===0&&T.kill(le,P)}}a(Ne,"_unregisterEvents");function ue(le,ye){var Ae;return ye?((0,g.kJ)(ye)?Ae=[le].concat(ye):Ae=[le,ye],Ae=Y("xx",Ae).ns[w.w6](".")):Ae=le,Ae}a(ue,"mergeEvtNamespace");function ee(le,ye,Ae,He,Ie){var Re;Ie===void 0&&(Ie=!1);var q=!1;if(le)try{var Ce=Y(ye,He);if(q=fe(le,Ce,Ae,Ie),q&&T.accept(le)){var ie=(Re={guid:R++,evtName:Ce},Re[w.Kn]=Ae,Re.capture=Ie,Re);ve(le,Ce.type)[w.MW](ie)}}catch(ae){}return q}a(ee,"eventOn");function z(le,ye,Ae,He,Ie){if(Ie===void 0&&(Ie=!1),le)try{var Re=Y(ye,He),q=!1;Ne(le,Re,function(Ce){return Re.ns&&!Ae||Ce[w.Kn]===Ae?(q=!0,!0):!1}),q||V(le,Re,Ae,Ie)}catch(Ce){}}a(z,"eventOff");function se(le,ye,Ae,He){return He===void 0&&(He=!1),ee(le,ye,Ae,null,He)}a(se,"attachEvent");function Ee(le,ye,Ae,He){He===void 0&&(He=!1),z(le,ye,Ae,null,He)}a(Ee,"detachEvent");function Le(le,ye,Ae){var He=!1,Ie=(0,b.Jj)();Ie&&(He=ee(Ie,le,ye,Ae),He=ee(Ie.body,le,ye,Ae)||He);var Re=(0,b.Me)();return Re&&(He=ee(Re,le,ye,Ae)||He),He}a(Le,"addEventHandler");function te(le,ye,Ae){var He=(0,b.Jj)();He&&(z(He,le,ye,Ae),z(He.body,le,ye,Ae));var Ie=(0,b.Me)();Ie&&z(Ie,le,ye,Ae)}a(te,"removeEventHandler");function Be(le,ye,Ae,He){var Ie=!1;return ye&&le&&le[w.R5]>0&&(0,g.tO)(le,function(Re){Re&&(!Ae||(0,g.UA)(Ae,Re)===-1)&&(Ie=Le(Re,ye,He)||Ie)}),Ie}a(Be,"_addEventListeners");function Ke(le,ye,Ae,He){var Ie=!1;return ye&&le&&(0,g.kJ)(le)&&(Ie=Be(le,ye,Ae,He),!Ie&&Ae&&Ae[w.R5]>0&&(Ie=Be(le,ye,null,He))),Ie}a(Ke,"addEventListeners");function Je(le,ye,Ae){le&&(0,g.kJ)(le)&&(0,g.tO)(le,function(He){He&&te(He,ye,Ae)})}a(Je,"removeEventListeners");function U(le,ye,Ae){return Ke([ce,J,L],le,ye,Ae)}a(U,"addPageUnloadEventListener");function j(le,ye){Je([ce,J,L],le,ye)}a(j,"removePageUnloadEventListener");function Z(le,ye,Ae){function He(q){var Ce=(0,b.Me)();le&&Ce&&Ce.visibilityState==="hidden"&&le(q)}a(He,"_handlePageVisibility");var Ie=ue(D,Ae),Re=Be([L],le,ye,Ie);return(!ye||(0,g.UA)(ye,F)===-1)&&(Re=Be([F],He,ye,Ie)||Re),!Re&&ye&&(Re=Z(le,null,Ae)),Re}a(Z,"addPageHideEventListener");function he(le,ye){var Ae=ue(D,ye);Je([L],le,Ae),Je([F],null,Ae)}a(he,"removePageHideEventListener");function De(le,ye,Ae){function He(q){var Ce=(0,b.Me)();le&&Ce&&Ce.visibilityState==="visible"&&le(q)}a(He,"_handlePageVisibility");var Ie=ue(M,Ae),Re=Be([X],le,ye,Ie);return Re=Be([F],He,ye,Ie)||Re,!Re&&ye&&(Re=De(le,null,Ae)),Re}a(De,"addPageShowEventListener");function be(le,ye){var Ae=ue(M,ye);Je([X],le,Ae),Je([F],null,Ae)}a(be,"removePageShowEventListener")},6708:(Ve,d,y)=>{"use strict";y.d(d,{Ax:()=>jr,BX:()=>Be,F:()=>Vn,FL:()=>Gt,FY:()=>rt,Gf:()=>Z,HD:()=>Ce,Id:()=>De,J_:()=>He,Kn:()=>Je,Mr:()=>Un,Oi:()=>Jn,UA:()=>jn,VZ:()=>q,Vb:()=>Mr,Xi:()=>gn,Xz:()=>bn,Y6:()=>Mt,Ym:()=>se,_A:()=>Bt,_Q:()=>Ae,_y:()=>lr,cf:()=>Fr,fQ:()=>zn,hj:()=>ie,hl:()=>Kr,jj:()=>ar,jn:()=>ae,kJ:()=>Ie,l_:()=>Rt,le:()=>te,m6:()=>kn,mf:()=>U,mm:()=>yr,nd:()=>ir,nr:()=>Ke,o8:()=>Ee,qK:()=>An,rW:()=>he,sO:()=>Wn,tO:()=>an,v4:()=>wr,xe:()=>le});var w=y(4392),h=y(2091),b=y(8096),g=y(6041),$="toISOString",k="endsWith",v="startsWith",p="indexOf",B="map",W="reduce",P="trim",F="toString",L="__proto__",X="constructor",J=w.RJ,ce=w.Pw.freeze,D=w.Pw.seal,M=w.Pw.keys,I=String[w.hB],m=I[P],R=I[k],T=I[v],G=Date[w.hB],K=G[$],Y=Array.isArray,re=w.V4[F],ve=w.CY[F],V=ve[b._S](w.Pw),fe=/-([a-z])/g,N=/([^\w\d_$])/g,Ne=/^(\d+[\w\d_$])/,ue=Object.getPrototypeOf;function ee(A){if(A){if(ue)return ue(A);var de=A[L]||A[w.hB]||A[X];if(de)return de}return null}a(ee,"_getObjProto");function z(A){return re[_DYN_CALL](A)}a(z,"objToString");function se(A,de){return typeof A===de}a(se,"isTypeof");function Ee(A){return A===void 0||typeof A===w.jA}a(Ee,"isUndefined");function Le(A){return!Ee(A)}a(Le,"isNotUndefined");function te(A){return A===null||Ee(A)}a(te,"isNullOrUndefined");function Be(A){return!te(A)}a(Be,"isNotNullOrUndefined");function Ke(A,de){return!!(A&&w.CY[b._S](A,de))}a(Ke,"hasOwnProperty");function Je(A){return!!(A&&typeof A===w.fK)}a(Je,"isObject");function U(A){return!!(A&&typeof A===w.cb)}a(U,"isFunction");function j(A){return A&&U(A.then)}a(j,"isPromiseLike");function Z(A){var de=A;return de&&Ce(de)&&(de=de[b.i7](fe,function(Se,Oe){return Oe.toUpperCase()}),de=de[b.i7](N,"_"),de=de[b.i7](Ne,function(Se,Oe){return"_"+Oe})),de}a(Z,"normalizeJsName");function he(A,de){if(A)for(var Se in A)w.CY[b._S](A,Se)&&de[b._S](A,Se,A[Se])}a(he,"objForEachKey");function De(A,de){var Se=!1;return A&&de&&!(Se=A===de)&&(Se=R?A[k](de):be(A,de)),Se}a(De,"strEndsWith");function be(A,de){var Se=!1,Oe=de?de[b.R5]:0,Qe=A?A[b.R5]:0;if(Oe&&Qe&&Qe>=Oe&&!(Se=A===de)){for(var je=Qe-1,tt=Oe-1;tt>=0;tt--){if(A[je]!=de[tt])return!1;je--}Se=!0}return Se}a(be,"_strEndsWithPoly");function le(A,de){var Se=!1;return A&&de&&!(Se=A===de)&&(Se=T?A[v](de):ye(A,de)),Se}a(le,"strStartsWith");function ye(A,de){var Se=!1,Oe=de?de[b.R5]:0;if(A&&Oe&&A[b.R5]>=Oe&&!(Se=A===de)){for(var Qe=0;Qe<Oe;Qe++)if(A[Qe]!==de[Qe])return!1;Se=!0}return Se}a(ye,"_strStartsWithPoly");function Ae(A,de){return A&&de?A[b.ou](de)!==-1:!1}a(Ae,"strContains");function He(A){return!!(A&&re[b._S](A)==="[object Date]")}a(He,"isDate");var Ie=Y||Re;function Re(A){return!!(A&&re[b._S](A)==="[object Array]")}a(Re,"_isArrayPoly");function q(A){return!!(A&&re[b._S](A)==="[object Error]")}a(q,"isError");function Ce(A){return typeof A=="string"}a(Ce,"isString");function ie(A){return typeof A=="number"}a(ie,"isNumber");function ae(A){return typeof A=="boolean"}a(ae,"isBoolean");function $e(A){return typeof A=="symbol"}a($e,"isSymbol");function ht(A){var de=!1;if(A&&typeof A=="object"){var Se=ue?ue(A):ee(A);Se?(Se[X]&&w.CY[b._S](Se,X)&&(Se=Se[X]),de=typeof Se===w.cb&&ve[b._S](Se)===V):de=!0}return de}a(ht,"isPlainObject");function Mt(A){if(A)return K?A[$]():mn(A)}a(Mt,"toISOString");function mn(A){if(A&&A.getUTCFullYear){var de=a(function(Se){var Oe=String(Se);return Oe[b.R5]===1&&(Oe="0"+Oe),Oe},"pad");return A.getUTCFullYear()+"-"+de(A.getUTCMonth()+1)+"-"+de(A.getUTCDate())+"T"+de(A.getUTCHours())+":"+de(A.getUTCMinutes())+":"+de(A.getUTCSeconds())+"."+String((A.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}a(mn,"_toISOStringPoly");function an(A,de,Se){var Oe=A[b.R5];try{for(var Qe=0;Qe<Oe&&!(Qe in A&&de[b._S](Se||A,A[Qe],Qe,A)===-1);Qe++);}catch(je){}}a(an,"arrForEach");function jn(A,de,Se){if(A){if(A[p])return A[p](de,Se);var Oe=A[b.R5],Qe=Se||0;try{for(var je=Math.max(Qe>=0?Qe:Oe-Math.abs(Qe),0);je<Oe;je++)if(je in A&&A[je]===de)return je}catch(tt){}}return-1}a(jn,"arrIndexOf");function Un(A,de,Se){var Oe;if(A){if(A[B])return A[B](de,Se);var Qe=A[b.R5],je=Se||A;Oe=new Array(Qe);try{for(var tt=0;tt<Qe;tt++)tt in A&&(Oe[tt]=de[b._S](je,A[tt],A))}catch(dt){}}return Oe}a(Un,"arrMap");function bn(A,de,Se){var Oe;if(A){if(A[W])return A[W](de,Se);var Qe=A[b.R5],je=0;if(arguments[b.R5]>=3)Oe=arguments[2];else{for(;je<Qe&&!(je in A);)je++;Oe=A[je++]}for(;je<Qe;)je in A&&(Oe=de(Oe,A[je],je,A)),je++}return Oe}a(bn,"arrReduce");function ir(A){return A&&(A=m&&A[P]?A[P]():A[b.i7]?A[b.i7](/^\s+|(?=\s)\s+$/g,g.qS):A),A}a(ir,"strTrim");var ur=!{toString:null}.propertyIsEnumerable("toString"),Or=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function rt(A){var de=typeof A;if(de!==w.cb&&(de!==w.fK||A===null)&&(0,h.ZU)("objKeys called on non-object"),!ur&&M)return M(A);var Se=[];for(var Oe in A)A&&w.CY[b._S](A,Oe)&&Se[b.MW](Oe);if(ur)for(var Qe=Or[b.R5],je=0;je<Qe;je++)A&&w.CY[b._S](A,Or[je])&&Se[b.MW](Or[je]);return Se}a(rt,"objKeys");function Rt(A,de,Se,Oe){if(J)try{var Qe={enumerable:!0,configurable:!0};return Se&&(Qe.get=Se),Oe&&(Qe.set=Oe),J(A,de,Qe),!0}catch(je){}return!1}a(Rt,"objDefineAccessors");function kt(A){return A}a(kt,"_doNothing");function Bt(A){return ce&&he(A,function(de,Se){(Ie(Se)||Je(Se))&&ce(Se)}),Gt(A)}a(Bt,"deepFreeze");var Gt=ce||kt,gn=D||kt;function kn(){var A=Date;return A.now?A.now():new A().getTime()}a(kn,"dateNow");function ar(A){return q(A)?A[b.I]:g.qS}a(ar,"getExceptionName");function Wn(A,de,Se,Oe,Qe){var je=Se;return A&&(je=A[de],je!==Se&&(!Qe||Qe(je))&&(!Oe||Oe(Se))&&(je=Se,A[de]=je)),je}a(Wn,"setValue");function An(A,de,Se){var Oe;return A?(Oe=A[de],!Oe&&te(Oe)&&(Oe=Ee(Se)?{}:Se,A[de]=Oe)):Oe=Ee(Se)?{}:Se,Oe}a(An,"getSetValue");function wr(A,de){return te(A)?de:A}a(wr,"getCfgValue");function Vn(A){return!A}a(Vn,"isNotTruthy");function zn(A){return!!A}a(zn,"isTruthy");function lr(A){throw new Error(A)}a(lr,"throwError");function Sn(A,de){var Se=null,Oe=null;return U(A)?Se=A:Oe=A,function(){var Qe=arguments;if(Se&&(Oe=Se()),Oe)return Oe[de][b.ZV](Oe,Qe)}}a(Sn,"_createProxyFunction");function Fr(A,de,Se){if(A&&de&&Je(A)&&Je(de)){var Oe=a(function(je){if(Ce(je)){var tt=de[je];U(tt)?(!Se||Se(je,!0,de,A))&&(A[je]=Sn(de,je)):(!Se||Se(je,!1,de,A))&&(Ke(A,je)&&delete A[je],Rt(A,je,function(){return de[je]},function(dt){de[je]=dt})||(A[je]=tt))}},"_loop_1");for(var Qe in de)Oe(Qe)}return A}a(Fr,"proxyAssign");function Jn(A,de,Se,Oe,Qe){A&&de&&Se&&(Qe!==!1||Ee(A[de]))&&(A[de]=Sn(Se,Oe))}a(Jn,"proxyFunctionAs");function Mr(A,de,Se,Oe){return A&&de&&Je(A)&&Ie(Se)&&an(Se,function(Qe){Ce(Qe)&&Jn(A,Qe,de,Qe,Oe)}),A}a(Mr,"proxyFunctions");function Kr(A){return function(){function de(){var Se=this;A&&he(A,function(Oe,Qe){Se[Oe]=Qe})}return a(de,"class_1"),de}()}a(Kr,"createClassFromInterface");function jr(A){return A&&w.rl&&(A=(0,w.Pw)((0,w.rl)({},A))),A}a(jr,"optimizeObject");function yr(A,de,Se,Oe,Qe,je){var tt=arguments,dt=tt[0]||{},_t=tt[b.R5],$t=!1,lt=1;for(_t>0&&ae(dt)&&($t=dt,dt=tt[lt]||{},lt++),Je(dt)||(dt={});lt<_t;lt++){var Lt=tt[lt],Et=Ie(Lt),wt=Je(Lt);for(var yt in Lt){var Rn=Et&&yt in Lt||wt&&w.CY[b._S](Lt,yt);if(!!Rn){var sn=Lt[yt],cr=void 0;if($t&&sn&&((cr=Ie(sn))||ht(sn))){var Bn=dt[yt];cr?Ie(Bn)||(Bn=[]):ht(Bn)||(Bn={}),sn=yr($t,Bn,sn)}sn!==void 0&&(dt[yt]=sn)}}}return dt}a(yr,"objExtend")},6041:(Ve,d,y)=>{"use strict";y.d(d,{$F:()=>P,C$:()=>L,DN:()=>g,Z:()=>h,Zh:()=>k,cL:()=>J,f_:()=>F,hL:()=>p,js:()=>v,kl:()=>ce,mE:()=>$,oV:()=>b,qS:()=>w,uC:()=>W,yi:()=>B,ys:()=>X});var w="",h="channels",b="core",g="createPerfMgr",$="disabled",k="extensionConfig",v="extensions",p="processTelemetry",B="priority",W="eventsSent",P="eventsDiscarded",F="eventsSendRequest",L="perfEvent",X="errorToConsole",J="warnToConsole",ce="getPerfMgr"},1880:(Ve,d,y)=>{"use strict";y.d(d,{f:()=>k});var w=y(1679),h=y(8096),b=y(6708),g=y(6041);function $(v,p,B,W){(0,b.tO)(v,function(P){if(P&&P[p])if(B)setTimeout(function(){return W(P)},0);else try{W(P)}catch(F){}})}a($,"_runListeners");var k=function(){function v(p){this.listeners=[];var B=!!(p||{}).perfEvtsSendAll;(0,w.Z)(v,this,function(W){W[h.g]=function(P){W.listeners[h.MW](P)},W[h.n7]=function(P){for(var F=(0,b.UA)(W[h.dE],P);F>-1;)W.listeners[h.cb](F,1),F=(0,b.UA)(W[h.dE],P)},W[g.uC]=function(P){$(W[h.dE],g.uC,!0,function(F){F[g.uC](P)})},W[g.$F]=function(P,F){$(W[h.dE],g.$F,!0,function(L){L[g.$F](P,F)})},W[g.f_]=function(P,F){$(W[h.dE],g.f_,F,function(L){L[g.f_](P,F)})},W[g.C$]=function(P){P&&(B||!P[h.PL]())&&$(W[h.dE],g.C$,!1,function(F){P[h.d]?setTimeout(function(){return F[g.C$](P)},0):F[g.C$](P)})}})}return a(v,"NotificationManager"),v.__ieDyn=1,v}()},9288:(Ve,d,y)=>{"use strict";y.d(d,{Jk:()=>W,Lm:()=>F,j5:()=>X,zn:()=>B});var w=y(1679),h=y(8096),b=y(6708),g=y(6041),$="ctx",k="ParentContextKey",v="ChildrenContextKey",p=null,B=function(){function J(ce,D,M){var I=this,m=!1;if(I.start=(0,b.m6)(),I[h.I]=ce,I[h.d]=M,I[h.PL]=function(){return!1},(0,b.mf)(D)){var R;m=(0,b.l_)(I,"payload",function(){return!R&&(0,b.mf)(D)&&(R=D(),D=null),R})}I[h.T]=function(T){return T?T===J[k]||T===J[v]?I[T]:(I[$]||{})[T]:null},I[h.wu]=function(T,G){if(T)if(T===J[k])I[T]||(I[h.PL]=function(){return!0}),I[T]=G;else if(T===J[v])I[T]=G;else{var K=I[$]=I[$]||{};K[T]=G}},I[h.Km]=function(){var T=0,G=I[h.T](J[v]);if((0,b.kJ)(G))for(var K=0;K<G[h.R5];K++){var Y=G[K];Y&&(T+=Y[h.Z_])}I[h.Z_]=(0,b.m6)()-I.start,I.exTime=I[h.Z_]-T,I[h.Km]=function(){},!m&&(0,b.mf)(D)&&(I.payload=D())}}return a(J,"PerfEvent"),J.ParentContextKey="parent",J.ChildrenContextKey="childEvts",J}(),W=function(){function J(ce){this.ctx={},(0,w.Z)(J,this,function(D){D.create=function(M,I,m){return new B(M,I,m)},D.fire=function(M){M&&(M[h.Km](),ce&&(0,b.mf)(ce[g.C$])&&ce[g.C$](M))},D[h.wu]=function(M,I){if(M){var m=D[$]=D[$]||{};m[M]=I}},D[h.T]=function(M){return(D[$]||{})[M]}})}return a(J,"PerfManager"),J.__ieDyn=1,J}(),P="CoreUtils.doPerf";function F(J,ce,D,M,I){if(J){var m=J;if(m[g.kl]&&(m=m[g.kl]()),m){var R=void 0,T=m[h.T](P);try{if(R=m.create(ce(),M,I),R){if(T&&R[h.wu]&&(R[h.wu](B[k],T),T[h.T]&&T[h.wu])){var G=T[h.T](B[v]);G||(G=[],T[h.wu](B[v],G)),G[h.MW](R)}return m[h.wu](P,R),D(R)}}catch(K){R&&R[h.wu]&&R[h.wu]("exception",K)}finally{R&&m.fire(R),m[h.wu](P,T)}}}return D()}a(F,"doPerf");function L(J){p=J}a(L,"setGblPerfMgr");function X(){return p}a(X,"getGblPerfMgr")},1589:(Ve,d,y)=>{"use strict";y.d(d,{Bt:()=>J,CD:()=>X,Vi:()=>I,jV:()=>D,xy:()=>ce});var w=y(8096),h=y(5018),b=y(7630),g=y(6708),$=y(6041),k=y(9288),v=y(3833),p="TelemetryPluginChain",B="_hasRun",W="_getTelCtx",P=0;function F(m,R,T){for(;m;){if(m[w.TO]()===T)return m;m=m[w.W2]()}return D([T],R[w.TC]||{},R)}a(F,"_getNextProxyStart");function L(m,R,T,G){var K=null,Y=[];G!==null&&(K=G?F(m,T,G):m);var re={_next:V,ctx:{core:function(){return T},diagLog:function(){return(0,h.vH)(T,R)},getCfg:function(){return R},getExtCfg:fe,getConfig:N,hasNext:function(){return!!K},getNext:function(){return K},setNext:function(ue){K=ue},iterate:Ne,onComplete:ve}};function ve(ue,ee){for(var z=[],se=2;se<arguments.length;se++)z[se-2]=arguments[se];ue&&Y[w.MW]({func:ue,self:(0,g.o8)(ee)?re.ctx:ee,args:z})}a(ve,"_addOnComplete");function V(){var ue=K;if(K=ue?ue[w.W2]():null,!ue){var ee=Y;ee&&ee[w.R5]>0&&((0,g.tO)(ee,function(z){try{z.func[w._S](z.self,z.args)}catch(se){(0,h.kP)(T[w.eZ],2,73,"Unexpected Exception during onComplete - "+(0,b.eU)(se))}}),Y=[])}return ue}a(V,"_moveNext");function fe(ue,ee,z){ee===void 0&&(ee={}),z===void 0&&(z=0);var se;if(R){var Ee=R[$.Zh];Ee&&ue&&(se=Ee[ue])}if(!se)se=ee;else if((0,g.Kn)(ee)&&z!==0){var Le=(0,g.mm)(!0,ee,se);R&&z===2&&(0,g.rW)(ee,function(te){if((0,g.le)(Le[te])){var Be=R[te];(0,g.le)(Be)||(Le[te]=Be)}}),se=Le}return se}a(fe,"_getExtCfg");function N(ue,ee,z){z===void 0&&(z=!1);var se,Ee=fe(ue,null);return Ee&&!(0,g.le)(Ee[ee])?se=Ee[ee]:R&&!(0,g.le)(R[ee])&&(se=R[ee]),(0,g.le)(se)?z:se}a(N,"_getConfig");function Ne(ue){for(var ee;ee=re._next();){var z=ee[w.TO]();z&&ue(z)}}return a(Ne,"_iterateChain"),re}a(L,"_createInternalContext");function X(m,R,T,G){var K=L(m,R,T,G),Y=K.ctx;function re(V){var fe=K._next();return fe&&fe[$.hL](V,Y),!fe}a(re,"_processNext");function ve(V,fe){return V===void 0&&(V=null),(0,g.kJ)(V)&&(V=D(V,R,T,fe)),X(V||Y[w.W2](),R,T,fe)}return a(ve,"_createNew"),Y[w.uL]=re,Y[w.zV]=ve,Y}a(X,"createProcessTelemetryContext");function J(m,R,T){var G=R[w.TC]||{},K=L(m,G,R,T),Y=K.ctx;function re(V){var fe=K._next();return fe&&fe.unload(Y,V),!fe}a(re,"_processNext");function ve(V,fe){return V===void 0&&(V=null),(0,g.kJ)(V)&&(V=D(V,G,R,fe)),J(V||Y[w.W2](),R,fe)}return a(ve,"_createNew"),Y[w.uL]=re,Y[w.zV]=ve,Y}a(J,"createProcessTelemetryUnloadContext");function ce(m,R,T){var G=R[w.TC]||{},K=L(m,G,R,T),Y=K.ctx;function re(V){return Y.iterate(function(fe){(0,g.mf)(fe[w.Tu])&&fe[w.Tu](Y,V)})}a(re,"_processNext");function ve(V,fe){return V===void 0&&(V=null),(0,g.kJ)(V)&&(V=D(V,G,R,fe)),ce(V||Y[w.W2](),R,fe)}return a(ve,"_createNew"),Y[w.uL]=re,Y[w.zV]=ve,Y}a(ce,"createProcessTelemetryUpdateContext");function D(m,R,T,G){var K=null,Y=!G;if((0,g.kJ)(m)&&m[w.R5]>0){var re=null;(0,g.tO)(m,function(ve){if(!Y&&G===ve&&(Y=!0),Y&&ve&&(0,g.mf)(ve[$.hL])){var V=M(ve,R,T);K||(K=V),re&&re._setNext(V),re=V}})}return G&&!K?D([G],R,T):K}a(D,"createTelemetryProxyChain");function M(m,R,T){var G=null,K=(0,g.mf)(m[$.hL]),Y=(0,g.mf)(m[w.Jd]),re;m?re=m[w.pZ]+"-"+m[$.yi]+"-"+P++:re="Unknown-0-"+P++;var ve={getPlugin:function(){return m},getNext:function(){return G},processTelemetry:N,unload:Ne,update:ue,_id:re,_setNext:function(ee){G=ee}};function V(){var ee;return m&&(0,g.mf)(m[W])&&(ee=m[W]()),ee||(ee=X(ve,R,T)),ee}a(V,"_getTelCtx");function fe(ee,z,se,Ee,Le){var te=!1,Be=m?m[w.pZ]:p,Ke=ee[B];return Ke||(Ke=ee[B]={}),ee.setNext(G),m&&(0,k.Lm)(ee[$.oV](),function(){return Be+":"+se},function(){Ke[re]=!0;try{var Je=G?G._id:$.qS;Je&&(Ke[Je]=!1),te=z(ee)}catch(j){var U=G?Ke[G._id]:!0;U&&(te=!0),(!G||!U)&&(0,h.kP)(ee[w.mc](),1,73,"Plugin ["+Be+"] failed during "+se+" - "+(0,b.eU)(j)+", run flags: "+(0,b.eU)(Ke))}},Ee,Le),te}a(fe,"_processChain");function N(ee,z){z=z||V();function se(Ee){if(!m||!K)return!1;var Le=(0,v.OY)(m);return Le[w.fi]||Le[$.mE]?!1:(Y&&m[w.Jd](G),m[$.hL](ee,Ee),!0)}a(se,"_callProcessTelemetry"),fe(z,se,"processTelemetry",function(){return{item:ee}},!ee.sync)||z[w.uL](ee)}a(N,"_processTelemetry");function Ne(ee,z){function se(){var Ee=!1;if(m){var Le=(0,v.OY)(m),te=m[$.oV]||Le[$.oV];m&&(!te||te===ee.core())&&!Le[w.fi]&&(Le[$.oV]=null,Le[w.fi]=!0,Le[w.yl]=!1,m[w.fi]&&m[w.fi](ee,z)===!0&&(Ee=!0))}return Ee}a(se,"_callTeardown"),fe(ee,se,"unload",function(){},z[w.d])||ee[w.uL](z)}a(Ne,"_unloadPlugin");function ue(ee,z){function se(){var Ee=!1;if(m){var Le=(0,v.OY)(m),te=m[$.oV]||Le[$.oV];m&&(!te||te===ee.core())&&!Le[w.fi]&&m[w.Tu]&&m[w.Tu](ee,z)===!0&&(Ee=!0)}return Ee}a(se,"_callUpdate"),fe(ee,se,"update",function(){},!1)||ee[w.uL](z)}return a(ue,"_updatePlugin"),(0,g.FL)(ve)}a(M,"createTelemetryPluginProxy");var I=function(){function m(R,T,G,K){var Y=this,re=X(R,T,G,K);(0,g.Vb)(Y,re,(0,g.FY)(re))}return a(m,"ProcessTelemetryContext"),m}()},4878:(Ve,d,y)=>{"use strict";y.d(d,{CN:()=>X,F6:()=>J,_l:()=>L,az:()=>F,pZ:()=>ce});var w=y(8096),h=y(7630),b=y(6708),g=y(6041),$=4294967296,k=4294967295,v=!1,p=123456789,B=987654321;function W(D){D<0&&(D>>>=0),p=123456789+D&k,B=987654321-D&k,v=!0}a(W,"_mwcSeed");function P(){try{var D=(0,b.m6)()&2147483647;W((Math.random()*$^D)+D)}catch(M){}}a(P,"_autoSeedMwc");function F(D){return D>0?Math.floor(L()/k*(D+1))>>>0:0}a(F,"randomValue");function L(D){var M=0,I=(0,h.MX)()||(0,h.gz)();return I&&I.getRandomValues&&(M=I.getRandomValues(new Uint32Array(1))[0]&k),M===0&&(0,h.w1)()&&(v||P(),M=J()&k),M===0&&(M=Math.floor($*Math.random()|0)),D||(M>>>=0),M}a(L,"random32");function X(D){D?W(D):P()}a(X,"mwcRandomSeed");function J(D){B=36969*(B&65535)+(B>>16)&k,p=18e3*(p&65535)+(p>>16)&k;var M=(B<<16)+(p&65535)>>>0&k|0;return D||(M>>>=0),M}a(J,"mwcRandom32");function ce(D){D===void 0&&(D=22);for(var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=L()>>>0,m=0,R=g.qS;R[w.R5]<D;)m++,R+=M.charAt(I&63),I>>>=6,m===5&&(I=(L()<<2&4294967295|I&3)>>>0,m=0);return R}a(ce,"newId")},3833:(Ve,d,y)=>{"use strict";y.d(d,{AA:()=>B,OY:()=>v,Yn:()=>P,bP:()=>p});var w=y(8096),h=y(5883),b=y(6708),g=y(6041),$=y(4206),k=(0,h.K)("plugin");function v(F){return k.get(F,"state",{},!0)}a(v,"_getPluginState");function p(F,L){for(var X=[],J=null,ce=F[w.W2](),D;ce;){var M=ce[w.TO]();if(M){J&&(0,b.mf)(J[w.Jd])&&(0,b.mf)(M[g.hL])&&J[w.Jd](M);var I=!1;(0,b.mf)(M[w.yl])?I=M[w.yl]():(D=v(M),I=D[w.yl]),I||X[w.MW](M),J=M,ce=ce[w.W2]()}}(0,b.tO)(X,function(m){var R=F[g.oV]();m[w.VL](F.getCfg(),R,L,F[w.W2]()),D=v(m),!m[g.oV]&&!D[g.oV]&&(D[g.oV]=R),D[w.yl]=!0,delete D[w.fi]})}a(p,"initializePlugins");function B(F){return F.sort(function(L,X){var J=0;if(X){var ce=(0,b.mf)(X[g.hL]);(0,b.mf)(L[g.hL])?J=ce?L[g.yi]-X[g.yi]:1:ce&&(J=-1)}else J=L?1:-1;return J})}a(B,"sortPlugins");function W(F,L,X,J){var ce=0;function D(){for(;ce<F[_DYN_LENGTH];){var M=F[ce++];if(M){var I=M._doUnload||M[_DYN__DO_TEARDOWN];if(isFunction(I)&&I[_DYN_CALL](M,L,X,D)===!0)return!0}}}return a(D,"_doUnload"),D()}a(W,"unloadComponents");function P(F){var L={};return{getName:function(){return L[w.I]},setName:function(X){F&&F.setName(X),L[w.I]=X},getTraceId:function(){return L[w.nY]},setTraceId:function(X){F&&F.setTraceId(X),(0,$.jN)(X)&&(L[w.nY]=X)},getSpanId:function(){return L[w._d]},setSpanId:function(X){F&&F.setSpanId(X),(0,$.Lc)(X)&&(L[w._d]=X)},getTraceFlags:function(){return L[w.T0]},setTraceFlags:function(X){F&&F.setTraceFlags(X),L[w.T0]=X}}}a(P,"createDistributedTraceContext")},310:(Ve,d,y)=>{"use strict";y.d(d,{Y:()=>$});var w=y(8096),h=y(5018),b=y(7630),g=y(6708);function $(){var k=[];function v(B){B&&k[w.MW](B)}a(v,"_addHandler");function p(B,W){(0,g.tO)(k,function(P){try{P(B,W)}catch(F){(0,h.kP)(B[w.mc](),2,73,"Unexpected error calling unload handler - "+(0,b.eU)(F))}}),k=[]}return a(p,"_runHandlers"),{add:v,run:p}}a($,"createUnloadHandlerContainer")},4206:(Ve,d,y)=>{"use strict";y.d(d,{J6:()=>M,Lc:()=>D,Pn:()=>I,SU:()=>X,aR:()=>m,jN:()=>ce,j_:()=>J,lq:()=>R});var w=y(8096),h=y(5843),b=y(7630),g=y(6708),$=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,k="00",v="ff",p="00000000000000000000000000000000",B="0000000000000000",W=1;function P(T,G,K){return T&&T[w.R5]===G&&T!==K?!!T.match(/^[\da-f]*$/):!1}a(P,"_isValid");function F(T,G,K){return P(T,G)?T:K}a(F,"_formatValue");function L(T){(isNaN(T)||T<0||T>255)&&(T=1);for(var G=T.toString(16);G[w.R5]<2;)G="0"+G;return G}a(L,"_formatFlags");function X(T,G,K,Y){var re;return re={},re[w.PA]=P(Y,2,v)?Y:k,re[w.nY]=ce(T)?T:(0,h.DO)(),re.spanId=D(G)?G:(0,h.DO)()[w.Jn](0,16),re.traceFlags=K>=0&&K<=255?K:1,re}a(X,"createTraceParent");function J(T){var G;if(!T||((0,g.kJ)(T)&&(T=T[0]||""),!T||!(0,g.HD)(T)||T[w.R5]>8192))return null;var K=$.exec((0,g.nd)(T));return!K||K[1]===v||K[2]===p||K[3]===B?null:(G={},G[w.PA]=K[1],G[w.nY]=K[2],G[w._d]=K[3],G[w.T0]=parseInt(K[4],16),G)}a(J,"parseTraceParent");function ce(T){return P(T,32,p)}a(ce,"isValidTraceId");function D(T){return P(T,16,B)}a(D,"isValidSpanId");function M(T){return!(!T||!P(T[w.PA],2,v)||!P(T[w.nY],32,p)||!P(T[w._d],16,B)||!P(L(T[w.T0]),2))}a(M,"isValidTraceParent");function I(T){return M(T)?(T[w.T0]&W)===W:!1}a(I,"isSampledFlag");function m(T){if(T){var G=L(T[w.T0]);P(G,2)||(G="01");var K=T[w.PA]||k;return K!=="00"&&K!=="ff"&&(K=k),"".concat(K,"-").concat(F(T.traceId,32,p),"-").concat(F(T.spanId,16,B),"-").concat(G)}return""}a(m,"formatTraceParent");function R(){var T="traceparent",G=J((0,b.ed)(T));return G||(G=J((0,b.pI)(T))),G}a(R,"findW3cTraceParent")},8096:(Ve,d,y)=>{"use strict";y.d(d,{$h:()=>Le,F3:()=>re,Fc:()=>D,Fr:()=>U,Gc:()=>G,I:()=>h,Jd:()=>N,Jn:()=>te,Km:()=>Ie,Kn:()=>be,LS:()=>ce,Lk:()=>ue,MW:()=>$,P6:()=>De,PA:()=>ie,PL:()=>ye,R5:()=>W,SD:()=>L,T:()=>Ae,T0:()=>Ce,T1:()=>Z,TC:()=>v,TO:()=>M,Tu:()=>ve,VL:()=>w,W2:()=>V,ZV:()=>Ke,Z_:()=>P,_S:()=>he,_d:()=>q,cb:()=>R,d:()=>Y,dE:()=>le,eZ:()=>B,fi:()=>T,g:()=>X,gU:()=>K,i7:()=>Je,iC:()=>m,jk:()=>j,kL:()=>I,mc:()=>fe,n7:()=>J,nY:()=>Re,ou:()=>ee,p$:()=>p,pZ:()=>g,qV:()=>se,tb:()=>b,uL:()=>F,w6:()=>Ee,wu:()=>He,xv:()=>Be,yl:()=>k,zV:()=>Ne,zc:()=>z});var w="initialize",h="name",b="getNotifyMgr",g="identifier",$="push",k="isInitialized",v="config",p="instrumentationKey",B="logger",W="length",P="time",F="processNext",L="getProcessTelContext",X="addNotificationListener",J="removeNotificationListener",ce="stopPollingInternalLogs",D="onComplete",M="getPlugin",I="flush",m="_extensions",R="splice",T="teardown",G="messageId",K="message",Y="isAsync",re="_doTeardown",ve="update",V="getNext",fe="diagLog",N="setNextPlugin",Ne="createNew",ue="cookieCfg",ee="indexOf",z="substring",se="userAgent",Ee="split",Le="setEnabled",te="substr",Be="nodeType",Ke="apply",Je="replace",U="enableDebugExceptions",j="logInternalMessage",Z="toLowerCase",he="call",De="type",be="handler",le="listeners",ye="isChildEvt",Ae="getCtx",He="setCtx",Ie="complete",Re="traceId",q="spanId",Ce="traceFlags",ie="version"},4392:(Ve,d,y)=>{"use strict";y.d(d,{CY:()=>F,Pw:()=>v,RJ:()=>P,V4:()=>p,bO:()=>$,cb:()=>w,fK:()=>h,hB:()=>g,jA:()=>b,rl:()=>B,yu:()=>W});var w="function",h="object",b="undefined",g="prototype",$="hasOwnProperty",k="default",v=Object,p=v[g],B=v.assign,W=v.create,P=v.defineProperty,F=p[$]},2091:(Ve,d,y)=>{"use strict";y.d(d,{Rd:()=>b,ZU:()=>g,pu:()=>$});var w=y(4392),h=null;function b(k){k===void 0&&(k=!0);var v=k===!1?null:h;return v||(typeof globalThis!==w.jA&&(v=globalThis),!v&&typeof self!==w.jA&&(v=self),!v&&typeof window!==w.jA&&(v=window),!v&&typeof y.g!==w.jA&&(v=y.g),h=v),v}a(b,"getGlobal");function g(k){throw new TypeError(k)}a(g,"throwTypeError");function $(k){var v=w.yu;if(v)return v(k);if(k==null)return{};var p=typeof k;p!==w.fK&&p!==w.cb&&g("Object prototype may only be an Object:"+k);function B(){}return a(B,"tmpFunc"),B[w.hB]=k,new B}a($,"objCreateFn")},1088:(Ve,d,y)=>{"use strict";y.d(d,{$h:()=>K,ne:()=>X,uc:()=>F});var w=y(4392),h=y(2091),b=((0,h.Rd)()||{}).Symbol,g=((0,h.Rd)()||{}).Reflect,$=!!b,k=!!g,v="decorate",p="metadata",B="getOwnPropertySymbols",W="iterator",P=a(function(V){for(var fe,N=1,Ne=arguments.length;N<Ne;N++){fe=arguments[N];for(var ue in fe)w.V4[w.bO].call(fe,ue)&&(V[ue]=fe[ue])}return V},"__objAssignFnImpl"),F=w.rl||P,L=a(function(V,fe){return L=w.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,Ne){N.__proto__=Ne}||function(N,Ne){for(var ue in Ne)Ne[w.bO](ue)&&(N[ue]=Ne[ue])},L(V,fe)},"extendStaticsFn");function X(V,fe){typeof fe!==w.cb&&fe!==null&&(0,h.ZU)("Class extends value "+String(fe)+" is not a constructor or null"),L(V,fe);function N(){this.constructor=V}a(N,"__"),V[w.hB]=fe===null?(0,h.pu)(fe):(N[w.hB]=fe[w.hB],new N)}a(X,"__extendsFn");function J(V,fe){var N={};for(var Ne in V)ObjHasOwnProperty.call(V,Ne)&&fe.indexOf(Ne)<0&&(N[Ne]=V[Ne]);if(V!=null&&typeof ObjClass[B]===strShimFunction)for(var ue=0,ee=ObjClass[B](V);ue<ee.length;ue++)fe.indexOf(ee[ue])<0&&ObjProto.propertyIsEnumerable.call(V,ee[ue])&&(N[ee[ue]]=V[ee[ue]]);return N}a(J,"__restFn");function ce(V,fe,N,Ne){var ue=arguments.length,ee=ue<3?fe:Ne===null?Ne=ObjClass.getOwnPropertyDescriptor(fe,N):Ne,z;if(k&&typeof g[v]===strShimFunction)ee=g[v](V,fe,N,Ne);else for(var se=V.length-1;se>=0;se--)(z=V[se])&&(ee=(ue<3?z(ee):ue>3?z(fe,N,ee):z(fe,N))||ee);return ue>3&&ee&&ObjDefineProperty(fe,N,ee),ee}a(ce,"__decorateFn");function D(V,fe){return function(N,Ne){fe(N,Ne,V)}}a(D,"__paramFn");function M(V,fe){if(k&&g[p]===strShimFunction)return g[p](V,fe)}a(M,"__metadataFn");function I(V,fe){for(var N in V)N!==strDefault&&!ObjHasOwnProperty.call(fe,N)&&m(fe,V,N)}a(I,"__exportStarFn");function m(V,fe,N,Ne){Ne===void 0&&(Ne=N),ObjCreate?ObjDefineProperty(V,Ne,{enumerable:!0,get:function(){return fe[N]}}):V[Ne]=fe[N]}a(m,"__createBindingFn");function R(V){var fe=typeof b===strShimFunction&&b[W],N=fe&&V[fe],Ne=0;if(N)return N.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&Ne>=V.length&&(V=void 0),{value:V&&V[Ne++],done:!V}}};throwTypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}a(R,"__valuesFn");function T(V,fe){var N=typeof b===strShimFunction&&V[b[W]];if(!N)return V;var Ne=N.call(V),ue,ee=[],z;try{for(;(fe===void 0||fe-- >0)&&!(ue=Ne.next()).done;)ee.push(ue.value)}catch(se){z={error:se}}finally{try{ue&&!ue.done&&(N=Ne.return)&&N.call(Ne)}finally{if(z)throw z.error}}return ee}a(T,"__readFn");function G(){for(var V=arguments,fe=0,N=0,Ne=V.length;N<Ne;N++)fe+=V[N].length;for(var ue=Array(fe),ee=0,N=0;N<Ne;N++)for(var z=V[N],se=0,Ee=z.length;se<Ee;se++,ee++)ue[ee]=z[se];return ue}a(G,"__spreadArraysFn");function K(V,fe){for(var N=0,Ne=fe.length,ue=V.length;N<Ne;N++,ue++)V[ue]=fe[N];return V}a(K,"__spreadArrayFn");function Y(V,fe){return ObjDefineProperty?ObjDefineProperty(V,"raw",{value:fe}):V.raw=fe,V}a(Y,"__makeTemplateObjectFn");function re(V){if(V&&V.__esModule)return V;var fe={};if(V!=null)for(var N in V)N!==strDefault&&Object.prototype.hasOwnProperty.call(V,N)&&m(fe,V,N);return ObjCreate?ObjDefineProperty(fe,strDefault,{enumerable:!0,value:V}):fe[strDefault]=V,fe}a(re,"__importStarFn");function ve(V){return V&&V.__esModule?V:{strDefault:V}}a(ve,"__importDefaultFn")},3268:(Ve,d,y)=>{"use strict";y.r(d),y.d(d,{AppInsightsCore:()=>Sa.F,ApplicationInsights:()=>ra,CoreUtils:()=>wt.Tr,Sender:()=>ea,SeverityLevel:()=>oi,_InternalMessageId:()=>wa.v,arrForEach:()=>q.tO,isNullOrUndefined:()=>q.le,proxyFunctions:()=>q.Vb,throwError:()=>q._y});var w=y(1679),h=y(1088),b="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",g="sampleRate",$="ProcessLegacy",k="http.method",v="https://dc.services.visualstudio.com",p="/v2/track",B="not_specified",W="iKey",P="split",F="length",L="toLowerCase",X="ingestionendpoint",J="toString",ce="removeItem",D="name",M="message",I="count",m="preTriggerDate",R="disabled",T="interval",G="daysOfMonth",K="date",Y="getUTCDate",re="stringify",ve="pathname",V="correlationHeaderExcludePatterns",fe="indexOf",N="extensionConfig",Ne="exceptions",ue="parsedStack",ee="properties",z="measurements",se="sizeInBytes",Ee="typeName",Le="severityLevel",te="problemGroup",Be="isManual",Ke="CreateFromInterface",Je="assembly",U="hasFullStack",j="level",Z="method",he="fileName",De="line",be="duration",le="receivedResponse",ye="substring",Ae="sanitizeKeyAndAddUniqueness",He="sanitizeException",Ie="sanitizeProperties",Re="sanitizeMeasurements",q=y(6708),Ce=y(5018),ie=y(7630),ae;function $e(E,f,S){var x=f[F],oe=ht(E,f);if(oe[F]!==x){for(var _e=0,Fe=oe;S[Fe]!==void 0;)_e++,Fe=oe[ye](0,150-3)+Or(_e);oe=Fe}return oe}a($e,"dataSanitizeKeyAndAddUniqueness");function ht(E,f){var S;return f&&(f=(0,q.nd)(f[J]()),f[F]>150&&(S=f[ye](0,150),(0,Ce.kP)(E,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:f},!0))),S||f}a(ht,"dataSanitizeKey");function Mt(E,f,S){S===void 0&&(S=1024);var x;return f&&(S=S||1024,f=(0,q.nd)(f),f.toString()[F]>S&&(x=f[J]()[ye](0,S),(0,Ce.kP)(E,2,61,"string value is too long. It has been truncated to "+S+" characters.",{value:f},!0))),x||f}a(Mt,"dataSanitizeString");function mn(E,f){return ur(E,f,2048,66)}a(mn,"dataSanitizeUrl");function an(E,f){var S;return f&&f[F]>32768&&(S=f[ye](0,32768),(0,Ce.kP)(E,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:f},!0)),S||f}a(an,"dataSanitizeMessage");function jn(E,f){var S;if(f){var x=""+f;x[F]>32768&&(S=x[ye](0,32768),(0,Ce.kP)(E,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:f},!0))}return S||f}a(jn,"dataSanitizeException");function Un(E,f){if(f){var S={};(0,q.rW)(f,function(x,oe){if((0,q.Kn)(oe)&&(0,ie.nS)())try{oe=(0,ie.xA)()[re](oe)}catch(_e){(0,Ce.kP)(E,2,49,"custom property is not valid",{exception:_e},!0)}oe=Mt(E,oe,8192),x=$e(E,x,S),S[x]=oe}),f=S}return f}a(Un,"dataSanitizeProperties");function bn(E,f){if(f){var S={};(0,q.rW)(f,function(x,oe){x=$e(E,x,S),S[x]=oe}),f=S}return f}a(bn,"dataSanitizeMeasurements");function ir(E,f){return f&&ur(E,f,128,69)[J]()}a(ir,"dataSanitizeId");function ur(E,f,S,x){var oe;return f&&(f=(0,q.nd)(f),f[F]>S&&(oe=f[ye](0,S),(0,Ce.kP)(E,2,x,"input is too long, it has been truncated to "+S+" characters.",{data:f},!0))),oe||f}a(ur,"dataSanitizeInput");function Or(E){var f="00"+E;return f.substr(f[F]-3)}a(Or,"dsPadNumber");var rt=(ae={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},ae[Ae]=$e,ae.sanitizeKey=ht,ae.sanitizeString=Mt,ae.sanitizeUrl=mn,ae.sanitizeMessage=an,ae[He]=jn,ae[Ie]=Un,ae[Re]=bn,ae.sanitizeId=ir,ae.sanitizeInput=ur,ae.padNumber=Or,ae.trim=q.nd,ae),Rt=function(){function E(f,S,x,oe){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var _e=this;_e.ver=2,_e[D]=Mt(f,S)||B,_e[ee]=Un(f,x),_e[z]=bn(f,oe)}return a(E,"Event"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Event",E.dataType="EventData",E}(),kt=function(){function E(f,S,x,oe,_e){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Fe=this;Fe.ver=2,S=S||B,Fe[M]=an(f,S),Fe[ee]=Un(f,oe),Fe[z]=bn(f,_e),x&&(Fe[Le]=x)}return a(E,"Trace"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Message",E.dataType="MessageData",E}(),Bt="";function Gt(E,f){return f===void 0&&(f=!1),E==null?f:E.toString()[L]()==="true"}a(Gt,"stringToBoolOrDefault");function gn(E){(isNaN(E)||E<0)&&(E=0),E=Math.round(E);var f=Bt+E%1e3,S=Bt+Math.floor(E/1e3)%60,x=Bt+Math.floor(E/(1e3*60))%60,oe=Bt+Math.floor(E/(1e3*60*60))%24,_e=Math.floor(E/(1e3*60*60*24));return f=f[F]===1?"00"+f:f[F]===2?"0"+f:f,S=S[F]<2?"0"+S:S,x=x[F]<2?"0"+x:x,oe=oe[F]<2?"0"+oe:oe,(_e>0?_e+".":Bt)+oe+":"+x+":"+S+"."+f}a(gn,"msToTimeSpan");function kn(E,f){var S=null;return(0,q.tO)(E,function(x){if(x.identifier===f)return S=x,-1}),S}a(kn,"getExtensionByName");function ar(E,f,S,x,oe){return!oe&&(0,q.HD)(E)&&(E==="Script error."||E==="Script error")}a(ar,"isCrossOriginError");var Wn=function(){function E(f,S,x,oe,_e,Fe,We){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var ct=this;ct.ver=2,ct.id=ir(f,We),ct.url=mn(f,x),ct[D]=Mt(f,S)||B,isNaN(oe)||(ct[be]=gn(oe)),ct[ee]=Un(f,_e),ct[z]=bn(f,Fe)}return a(E,"PageView"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",E.dataType="PageviewData",E}(),An=function(){function E(f,S,x,oe,_e,Fe,We){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var ct=this;ct.ver=2,ct.url=mn(f,x),ct[D]=Mt(f,S)||B,ct[ee]=Un(f,_e),ct[z]=bn(f,Fe),We&&(ct.domProcessing=We.domProcessing,ct[be]=We[be],ct.networkConnect=We.networkConnect,ct.perfTotal=We.perfTotal,ct[le]=We[le],ct.sentRequest=We.sentRequest)}return a(E,"PageViewPerformance"),E.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",E.dataType="PageviewPerformanceData",E}(),wr="<no_method>",Vn="error",zn="stack",lr="stackDetails",Sn="errorSrc",Fr="message",Jn="description";function Mr(E,f){var S=E;return S&&!(0,q.HD)(S)&&(JSON&&JSON[re]?(S=JSON[re](E),f&&(!S||S==="{}")&&((0,q.mf)(E[J])?S=E[J]():S=""+E)):S=""+E+" - (Missing JSON.stringify)"),S||""}a(Mr,"_stringify");function Kr(E,f){var S=E;return E&&(S&&!(0,q.HD)(S)&&(S=E[Fr]||E[Jn]||S),S&&!(0,q.HD)(S)&&(S=Mr(S,!0)),E.filename&&(S=S+" @"+(E.filename||"")+":"+(E.lineno||"?")+":"+(E.colno||"?"))),f&&f!=="String"&&f!=="Object"&&f!=="Error"&&(S||"")[fe](f)===-1&&(S=f+": "+S),S||""}a(Kr,"_formatMessage");function jr(E){try{if((0,q.Kn)(E))return"hasFullStack"in E&&"typeName"in E}catch(f){}return!1}a(jr,"_isExceptionDetailsInternal");function yr(E){try{if((0,q.Kn)(E))return"ver"in E&&"exceptions"in E&&"properties"in E}catch(f){}return!1}a(yr,"_isExceptionInternal");function A(E){return E&&E.src&&(0,q.HD)(E.src)&&E.obj&&(0,q.kJ)(E.obj)}a(A,"_isStackDetails");function de(E){var f=E||"";(0,q.HD)(f)||((0,q.HD)(f[zn])?f=f[zn]:f=""+f);var S=f[P](`
`);return{src:f,obj:S}}a(de,"_convertStackObj");function Se(E){for(var f=[],S=E[P](`
`),x=0;x<S[F];x++){var oe=S[x];S[x+1]&&(oe+="@"+S[x+1],x++),f.push(oe)}return{src:E,obj:f}}a(Se,"_getOperaStack");function Oe(E){var f=null;if(E)try{if(E[zn])f=de(E[zn]);else if(E[Vn]&&E[Vn][zn])f=de(E[Vn][zn]);else if(E.exception&&E.exception[zn])f=de(E.exception[zn]);else if(A(E))f=E;else if(A(E[lr]))f=E[lr];else if(window&&window.opera&&E[Fr])f=Se(E[M]);else if(E.reason&&E.reason[zn])f=de(E.reason[zn]);else if((0,q.HD)(E))f=de(E);else{var S=E[Fr]||E[Jn]||"";(0,q.HD)(E[Sn])&&(S&&(S+=`
`),S+=" from "+E[Sn]),S&&(f=de(S))}}catch(x){f=de(x)}return f||{src:"",obj:null}}a(Oe,"_getStackFromErrorObj");function Qe(E){var f="";return E&&(E.obj?(0,q.tO)(E.obj,function(S){f+=S+`
`}):f=E.src||""),f}a(Qe,"_formatStackTrace");function je(E){var f,S=E.obj;if(S&&S[F]>0){f=[];var x=0,oe=0;(0,q.tO)(S,function(pn){var hr=pn[J]();if(lt.regex.test(hr)){var Me=new lt(hr,x++);oe+=Me[se],f.push(Me)}});var _e=32*1024;if(oe>_e)for(var Fe=0,We=f[F]-1,ct=0,ot=Fe,At=We;Fe<We;){var Qt=f[Fe][se],Fn=f[We][se];if(ct+=Qt+Fn,ct>_e){var Yt=At-ot+1;f.splice(ot,Yt);break}ot=Fe,At=We,Fe++,We--}}return f}a(je,"_parseStack");function tt(E){var f="";if(E&&(f=E.typeName||E[D]||"",!f))try{var S=/function (.{1,200})\(/,x=S.exec(E.constructor[J]());f=x&&x[F]>1?x[1]:""}catch(oe){}return f}a(tt,"_getErrorType");function dt(E){if(E)try{if(!(0,q.HD)(E)){var f=tt(E),S=Mr(E,!1);return(!S||S==="{}")&&(E[Vn]&&(E=E[Vn],f=tt(E)),S=Mr(E,!0)),S[fe](f)!==0&&f!=="String"?f+":"+S:S}}catch(x){}return""+(E||"")}a(dt,"_formatErrorCode");var _t=function(){function E(f,S,x,oe,_e,Fe){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var We=this;We.ver=2,yr(S)?(We[Ne]=S[Ne]||[],We[ee]=S[ee],We[z]=S[z],S[Le]&&(We[Le]=S[Le]),S.id&&(We.id=S.id),S[te]&&(We[te]=S[te]),(0,q.le)(S[Be])||(We[Be]=S[Be])):(x||(x={}),We[Ne]=[new $t(f,S,x)],We[ee]=Un(f,x),We[z]=bn(f,oe),_e&&(We[Le]=_e),Fe&&(We.id=Fe))}return a(E,"Exception"),E.CreateAutoException=function(f,S,x,oe,_e,Fe,We,ct){var ot,At=tt(_e||Fe||f);return ot={},ot[M]=Kr(f,At),ot.url=S,ot.lineNumber=x,ot.columnNumber=oe,ot.error=dt(_e||Fe||f),ot.evt=dt(Fe||f),ot[Ee]=At,ot.stackDetails=Oe(We||_e||Fe),ot.errorSrc=ct,ot},E.CreateFromInterface=function(f,S,x,oe){var _e=S[Ne]&&(0,q.Mr)(S[Ne],function(We){return $t[Ke](f,We)}),Fe=new E(f,(0,h.uc)((0,h.uc)({},S),{exceptions:_e}),x,oe);return Fe},E.prototype.toInterface=function(){var f,S=this,x=S.exceptions,oe=S.properties,_e=S.measurements,Fe=S.severityLevel,We=S.problemGroup,ct=S.id,ot=S.isManual,At=x instanceof Array&&(0,q.Mr)(x,function(Qt){return Qt.toInterface()})||void 0;return f={ver:"4.0"},f[Ne]=At,f.severityLevel=Fe,f.properties=oe,f.measurements=_e,f.problemGroup=We,f.id=ct,f.isManual=ot,f},E.CreateSimpleException=function(f,S,x,oe,_e,Fe){var We;return{exceptions:[(We={},We[U]=!0,We.message=f,We.stack=_e,We.typeName=S,We)]}},E.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",E.dataType="ExceptionData",E.formatError=dt,E}(),$t=function(){function E(f,S,x){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var oe=this;if(jr(S))oe[Ee]=S[Ee],oe[M]=S[M],oe[zn]=S[zn],oe[ue]=S[ue]||[],oe[U]=S[U];else{var _e=S,Fe=_e&&_e.evt;(0,q.VZ)(_e)||(_e=_e[Vn]||Fe||_e),oe[Ee]=Mt(f,tt(_e))||B,oe[M]=an(f,Kr(S||_e,oe[Ee]))||B;var We=S[lr]||Oe(S);oe[ue]=je(We),(0,q.kJ)(oe[ue])&&(0,q.Mr)(oe[ue],function(ct){return ct[Je]=Mt(f,ct[Je])}),oe[zn]=jn(f,Qe(We)),oe.hasFullStack=(0,q.kJ)(oe.parsedStack)&&oe.parsedStack[F]>0,x&&(x[Ee]=x[Ee]||oe[Ee])}}return a(E,"_ExceptionDetails"),E.prototype.toInterface=function(){var f,S=this,x=S[ue]instanceof Array&&(0,q.Mr)(S[ue],function(_e){return _e.toInterface()}),oe=(f={id:S.id,outerId:S.outerId,typeName:S[Ee],message:S[M],hasFullStack:S[U],stack:S[zn]},f[ue]=x||void 0,f);return oe},E.CreateFromInterface=function(f,S){var x=S[ue]instanceof Array&&(0,q.Mr)(S[ue],function(_e){return lt[Ke](_e)})||S[ue],oe=new E(f,(0,h.uc)((0,h.uc)({},S),{parsedStack:x}));return oe},E}(),lt=function(){function E(f,S){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var x=this;if(x[se]=0,typeof f=="string"){var oe=f;x[j]=S,x[Z]=wr,x[Je]=(0,q.nd)(oe),x[he]="",x[De]=0;var _e=oe.match(E.regex);_e&&_e[F]>=5&&(x[Z]=(0,q.nd)(_e[2])||x[Z],x[he]=(0,q.nd)(_e[4]),x[De]=parseInt(_e[5])||0)}else x[j]=f[j],x[Z]=f[Z],x[Je]=f[Je],x[he]=f[he],x[De]=f[De],x[se]=0;x.sizeInBytes+=x.method[F],x.sizeInBytes+=x.fileName[F],x.sizeInBytes+=x.assembly[F],x[se]+=E.baseSize,x.sizeInBytes+=x.level.toString()[F],x.sizeInBytes+=x.line.toString()[F]}return a(E,"_StackFrame"),E.CreateFromInterface=function(f){return new E(f,null)},E.prototype.toInterface=function(){var f=this;return{level:f[j],method:f[Z],assembly:f[Je],fileName:f[he],line:f[De]}},E.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,E.baseSize=58,E}(),Lt=function(){function E(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a(E,"DataPoint"),E}(),Et=function(){function E(f,S,x,oe,_e,Fe,We,ct,ot){this.aiDataContract={ver:1,metrics:1,properties:0};var At=this;At.ver=2;var Qt=new Lt;Qt[I]=oe>0?oe:void 0,Qt.max=isNaN(Fe)||Fe===null?void 0:Fe,Qt.min=isNaN(_e)||_e===null?void 0:_e,Qt[D]=Mt(f,S)||B,Qt.value=x,Qt.stdDev=isNaN(We)||We===null?void 0:We,At.metrics=[Qt],At[ee]=Un(f,ct),At[z]=bn(f,ot)}return a(E,"Metric"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",E.dataType="MetricData",E}(),wt=y(5843),yt=y(3242),Rn=y(4878),sn=y(4869);function cr(E){var f=null;if((0,q.mf)(Event))f=new Event(E);else{var S=(0,ie.Me)();S&&S.createEvent&&(f=S.createEvent("Event"),f.initEvent(E,!0,!0))}return f}a(cr,"createDomEvent");var Bn=y(4873),tr=(0,Bn.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Lr=y(2091),Nr=(0,Bn.By)({LocalStorage:0,SessionStorage:1}),Qn=(0,Bn.By)({AI:0,AI_AND_W3C:1,W3C:2}),nr=void 0,Nt=void 0;function In(){return mr()?wn(Nr.LocalStorage):null}a(In,"_getLocalStorageObject");function wn(E){try{if((0,q.le)((0,Lr.Rd)()))return null;var f=new Date()[J](),S=(0,ie.a8)(E===Nr.LocalStorage?"localStorage":"sessionStorage");S.setItem(f,f);var x=S.getItem(f)!==f;if(S[ce](f),!x)return S}catch(oe){}return null}a(wn,"_getVerifiedStorageObject");function fn(){return ti()?wn(Nr.SessionStorage):null}a(fn,"_getSessionStorageObject");function Nn(){nr=!1,Nt=!1}a(Nn,"utlDisableStorage");function fr(){nr=mr(!0),Nt=ti(!0)}a(fr,"utlEnableStorage");function mr(E){return(E||nr===void 0)&&(nr=!!wn(Nr.LocalStorage)),nr}a(mr,"utlCanUseLocalStorage");function xr(E,f){var S=In();if(S!==null)try{return S.getItem(f)}catch(x){nr=!1,(0,Ce.kP)(E,2,1,"Browser failed read of local storage. "+(0,q.jj)(x),{exception:(0,ie.eU)(x)})}return null}a(xr,"utlGetLocalStorage");function ei(E,f,S){var x=In();if(x!==null)try{return x.setItem(f,S),!0}catch(oe){nr=!1,(0,Ce.kP)(E,2,3,"Browser failed write to local storage. "+(0,q.jj)(oe),{exception:(0,ie.eU)(oe)})}return!1}a(ei,"utlSetLocalStorage");function pi(E,f){var S=In();if(S!==null)try{return S[ce](f),!0}catch(x){nr=!1,(0,Ce.kP)(E,2,5,"Browser failed removal of local storage item. "+(0,q.jj)(x),{exception:(0,ie.eU)(x)})}return!1}a(pi,"utlRemoveStorage");function ti(E){return(E||Nt===void 0)&&(Nt=!!wn(Nr.SessionStorage)),Nt}a(ti,"utlCanUseSessionStorage");function Pi(){var E=[];return ti()&&(0,q.rW)((0,ie.a8)("sessionStorage"),function(f){E.push(f)}),E}a(Pi,"utlGetSessionStorageKeys");function et(E,f){var S=fn();if(S!==null)try{return S.getItem(f)}catch(x){Nt=!1,(0,Ce.kP)(E,2,2,"Browser failed read of session storage. "+(0,q.jj)(x),{exception:(0,ie.eU)(x)})}return null}a(et,"utlGetSessionStorage");function mi(E,f,S){var x=fn();if(x!==null)try{return x.setItem(f,S),!0}catch(oe){Nt=!1,(0,Ce.kP)(E,2,4,"Browser failed write to session storage. "+(0,q.jj)(oe),{exception:(0,ie.eU)(oe)})}return!1}a(mi,"utlSetSessionStorage");function Ti(E,f){var S=fn();if(S!==null)try{return S[ce](f),!0}catch(x){Nt=!1,(0,Ce.kP)(E,2,6,"Browser failed removal of session storage item. "+(0,q.jj)(x),{exception:(0,ie.eU)(x)})}return!1}a(Ti,"utlRemoveSessionStorage");var dr=(0,ie.Me)()||{},ni=0,Yr=[null,null,null,null,null];function Er(E){var f=ni,S=Yr,x=S[f];return dr.createElement?S[f]||(x=S[f]=dr.createElement("a")):x={host:$r(E,!0)},x.href=E,f++,f>=S[F]&&(f=0),ni=f,x}a(Er,"urlParseUrl");function Zr(E){var f,S=Er(E);return S&&(f=S.href),f}a(Zr,"urlGetAbsoluteUrl");function _i(E){var f,S=Er(E);return S&&(f=S[ve]),f}a(_i,"urlGetPathName");function Bi(E,f){return E?E.toUpperCase()+" "+f:f}a(Bi,"urlGetCompleteUrl");function $r(E,f){var S=ui(E,f)||"";if(S){var x=S.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(x!=null&&x[F]>3&&(0,q.HD)(x[2])&&x[2][F]>0)return x[2]+(x[3]||"")}return S}a($r,"urlParseHost");function ui(E,f){var S=null;if(E){var x=E.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(x!=null&&x[F]>2&&(0,q.HD)(x[2])&&x[2][F]>0&&(S=x[2]||"",f&&x[F]>2)){var oe=(x[1]||"")[L](),_e=x[3]||"";(oe==="http"&&_e===":80"||oe==="https"&&_e===":443")&&(_e=""),S+=_e}}return S}a(ui,"urlParseFullHost");var Pe=[v+p,"https://breeze.aimon.applicationinsights.io"+p,"https://dc-int.services.visualstudio.com"+p];function Ge(E){return(0,q.UA)(Pe,E[L]())!==-1}a(Ge,"isInternalApplicationInsightsEndpoint");var st={NotSpecified:B,createDomEvent:cr,disableStorage:Nn,isInternalApplicationInsightsEndpoint:Ge,canUseLocalStorage:mr,getStorage:xr,setStorage:ei,removeStorage:pi,canUseSessionStorage:ti,getSessionStorageKeys:Pi,getSessionStorage:et,setSessionStorage:mi,removeSessionStorage:Ti,disableCookies:wt.oF,canUseCookies:wt.vn,disallowsSameSiteNone:yt.UY,setCookie:wt.d8,stringToBoolOrDefault:Gt,getCookie:wt.ej,deleteCookie:wt.kT,trim:q.nd,newId:Rn.pZ,random32:function(){return(0,Rn._l)(!0)},generateW3CId:wt.DO,isArray:q.kJ,isError:q.VZ,isDate:q.J_,toISOStringForIE8:q.Y6,getIEVersion:ie.sA,msToTimeSpan:gn,isCrossOriginError:ar,dump:ie.eU,getExceptionName:q.jj,addEventHandler:sn.pZ,IsBeaconApiSupported:ie.MF,getExtension:kn},Ze={parseUrl:Er,getAbsoluteUrl:Zr,getPathName:_i,getCompleteUrl:Bi,parseHost:$r,parseFullHost:ui},Tt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(E,f,S){if(!f||E&&E.disableCorrelationHeaders)return!1;if(E&&E[V]){for(var x=0;x<E.correlationHeaderExcludePatterns[F];x++)if(E[V][x].test(f))return!1}var oe=Er(f).host[L]();if(oe&&(oe[fe](":443")!==-1||oe[fe](":80")!==-1)&&(oe=(ui(f,!0)||"")[L]()),(!E||!E.enableCorsCorrelation)&&oe&&oe!==S)return!1;var _e=E&&E.correlationHeaderDomains;if(_e){var Fe;if((0,q.tO)(_e,function(ot){var At=new RegExp(ot.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Fe=Fe||At.test(oe)}),!Fe)return!1}var We=E&&E.correlationHeaderExcludedDomains;if(!We||We[F]===0)return!0;for(var x=0;x<We[F];x++){var ct=new RegExp(We[x].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(ct.test(oe))return!1}return oe&&oe[F]>0},getCorrelationContext:function(E){if(E){var f=Tt.getCorrelationContextValue(E,tr[1]);if(f&&f!==Tt.correlationIdPrefix)return f}},getCorrelationContextValue:function(E,f){if(E)for(var S=E[P](","),x=0;x<S[F];++x){var oe=S[x][P]("=");if(oe[F]===2&&oe[0]===f)return oe[1]}}};function Ft(E,f,S,x){var oe,_e=x,Fe=x;if(f&&f[F]>0){var We=Er(f);if(oe=We.host,!_e)if(We[ve]!=null){var ct=We.pathname[F]===0?"/":We[ve];ct.charAt(0)!=="/"&&(ct="/"+ct),Fe=We[ve],_e=Mt(E,S?S+" "+ct:ct)}else _e=Mt(E,f)}else oe=x,_e=x;return{target:oe,name:_e,data:Fe}}a(Ft,"AjaxHelperParseDependencyPath");function at(){var E=(0,ie.r)();if(E&&E.now&&E.timing){var f=E.now()+E.timing.navigationStart;if(f>0)return f}return(0,q.m6)()}a(at,"dateTimeUtilsNow");function Ht(E,f){var S=null;return E!==0&&f!==0&&!(0,q.le)(E)&&!(0,q.le)(f)&&(S=f-E),S}a(Ht,"dateTimeUtilsDuration");var Pt={Now:at,GetDuration:Ht};function en(E,f){var S=E||{};return{getName:function(){return S[_DYN_NAME]},setName:function(x){f&&f.setName(x),S[_DYN_NAME]=x},getTraceId:function(){return S.traceID},setTraceId:function(x){f&&f.setTraceId(x),isValidTraceId(x)&&(S.traceID=x)},getSpanId:function(){return S.parentID},setSpanId:function(x){f&&f.setSpanId(x),isValidSpanId(x)&&(S.parentID=x)},getTraceFlags:function(){return S.traceFlags},setTraceFlags:function(x){f&&f.setTraceFlags(x),S.traceFlags=x}}}a(en,"createDistributedTraceContextFromTrace");var on=function(){function E(f,S,x,oe,_e,Fe,We,ct,ot,At,Qt,Fn){ot===void 0&&(ot="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Yt=this;Yt.ver=2,Yt.id=S,Yt[be]=gn(_e),Yt.success=Fe,Yt.resultCode=We+"",Yt.type=Mt(f,ot);var pn=Ft(f,x,ct,oe);Yt.data=mn(f,oe)||pn.data,Yt.target=Mt(f,pn.target),At&&(Yt.target="".concat(Yt.target," | ").concat(At)),Yt[D]=Mt(f,pn[D]),Yt[ee]=Un(f,Qt),Yt[z]=bn(f,Fn)}return a(E,"RemoteDependencyData"),E.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",E.dataType="RemoteDependencyData",E}(),$n="AppInsightsPropertiesPlugin",On="AppInsightsChannelPlugin",sr="ApplicationInsightsAnalytics",yn=y(5883),It=y(4063);function Wt(E){var f="ai."+E+".";return function(S){return f+S}}a(Wt,"_aiNameFunc");var tn=Wt("application"),nn=Wt("device"),O=Wt("location"),Q=Wt("operation"),xe=Wt("session"),qe=Wt("user"),bt=Wt("cloud"),Ct=Wt("internal"),Vt=function(E){(0,h.ne)(f,E);function f(){return E.call(this)||this}return a(f,"ContextTagKeys"),f}((0,q.hl)({applicationVersion:tn("ver"),applicationBuild:tn("build"),applicationTypeId:tn("typeId"),applicationId:tn("applicationId"),applicationLayer:tn("layer"),deviceId:nn("id"),deviceIp:nn("ip"),deviceLanguage:nn("language"),deviceLocale:nn("locale"),deviceModel:nn("model"),deviceFriendlyName:nn("friendlyName"),deviceNetwork:nn("network"),deviceNetworkName:nn("networkName"),deviceOEMName:nn("oemName"),deviceOS:nn("os"),deviceOSVersion:nn("osVersion"),deviceRoleInstance:nn("roleInstance"),deviceRoleName:nn("roleName"),deviceScreenResolution:nn("screenResolution"),deviceType:nn("type"),deviceMachineName:nn("machineName"),deviceVMName:nn("vmName"),deviceBrowser:nn("browser"),deviceBrowserVersion:nn("browserVersion"),locationIp:O("ip"),locationCountry:O("country"),locationProvince:O("province"),locationCity:O("city"),operationId:Q("id"),operationName:Q("name"),operationParentId:Q("parentId"),operationRootId:Q("rootId"),operationSyntheticSource:Q("syntheticSource"),operationCorrelationVector:Q("correlationVector"),sessionId:xe("id"),sessionIsFirst:xe("isFirst"),sessionIsNew:xe("isNew"),userAccountAcquisitionDate:qe("accountAcquisitionDate"),userAccountId:qe("accountId"),userAgent:qe("userAgent"),userId:qe("id"),userStoreRegion:qe("storeRegion"),userAuthUserId:qe("authUserId"),userAnonymousUserAcquisitionDate:qe("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:qe("authUserAcquisitionDate"),cloudName:bt("name"),cloudRole:bt("role"),cloudRoleVer:bt("roleVer"),cloudRoleInstance:bt("roleInstance"),cloudEnvironment:bt("environment"),cloudLocation:bt("location"),cloudDeploymentUnit:bt("deploymentUnit"),internalNodeName:Ct("nodeName"),internalSdkVersion:Ct("sdkVersion"),internalAgentVersion:Ct("agentVersion"),internalSnippet:Ct("snippet"),internalSdkSrc:Ct("sdkSrc")})),qt={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},zt=new Vt,Zt=function(){function E(f,S,x){var oe=this,_e=this;_e.ver=1,_e.sampleRate=100,_e.tags={},_e[D]=Mt(f,x)||B,_e.data=S,_e.time=(0,q.Y6)(new Date),_e.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return oe.sampleRate===100?4:1},tags:1,data:1}}return a(E,"Envelope"),E}(),Jt=function(){function E(f,S){this.aiDataContract={baseType:1,baseData:1},this.baseType=f,this.baseData=S}return a(E,"Data"),E}(),Ot="duration",ut="tags",dn="deviceType",hn="data",En="name",Hn="traceID",xt="length",Cr="stringify",Xn="measurements",_n="dataType",Gr="envelopeType",Dr="toString",Tr="onLine",qr="isOnline",Vr="enqueue",Jr="count",Zn="push",ri="emitLineDelimitedJson",ii="clear",Hr="batchPayloads",br="markAsSent",Wr="clearSent",fi="bufferOverride",di="BUFFER_KEY",Ur="SENT_BUFFER_KEY",zr="MAX_BUFFER_SIZE",qn="namePrefix",Qr="maxBatchSizeInBytes",ge="triggerSend",Ye="diagLog",Xe="onunloadDisableBeacon",it="isBeaconApiDisabled",pt="_sender",vt="_senderConfig",jt="enableSessionStorageBuffer",pe="_buffer",ke="samplingPercentage",Ue="instrumentationKey",nt="endpointUrl",Dt="customHeaders",Ut="disableXhr",rn="onunloadDisableFetch",cn="disableTelemetry",Ln="baseType",ai="sampleRate",bi="convertUndefined",Ai="_xhrReadyStateChange",rr="_onError",Xr="_onPartialSuccess",hi="_onSuccess",Oi="itemsAccepted",Va="itemsReceived",Li="isRetryDisabled",va="setRequestHeader",yi="maxBatchInterval",ga="eventsSendRequest",Gi="disableInstrumentationKeyValidation",pa="getSamplingScore",Oa="getHashCodeScore",$i="baseType",Yn="baseData",_r="properties",li="true";function Pn(E,f,S){return(0,q.sO)(E,f,S,q.fQ)}a(Pn,"_setValueIf");function La(E,f,S){var x=S[ut]=S[ut]||{},oe=f.ext=f.ext||{},_e=f[ut]=f[ut]||[],Fe=oe.user;Fe&&(Pn(x,zt.userAuthUserId,Fe.authId),Pn(x,zt.userId,Fe.id||Fe.localId));var We=oe.app;We&&Pn(x,zt.sessionId,We.sesId);var ct=oe.device;ct&&(Pn(x,zt.deviceId,ct.id||ct.localId),Pn(x,zt[dn],ct.deviceClass),Pn(x,zt.deviceIp,ct.ip),Pn(x,zt.deviceModel,ct.model),Pn(x,zt[dn],ct[dn]));var ot=f.ext.web;if(ot){Pn(x,zt.deviceLanguage,ot.browserLang),Pn(x,zt.deviceBrowserVersion,ot.browserVer),Pn(x,zt.deviceBrowser,ot.browser);var At=S[hn]=S[hn]||{},Qt=At[Yn]=At[Yn]||{},Fn=Qt[_r]=Qt[_r]||{};Pn(Fn,"domain",ot.domain),Pn(Fn,"isManual",ot.isManual?li:null),Pn(Fn,"screenRes",ot.screenRes),Pn(Fn,"userConsent",ot.userConsent?li:null)}var Yt=oe.os;Yt&&Pn(x,zt.deviceOS,Yt[En]);var pn=oe.trace;pn&&(Pn(x,zt.operationParentId,pn.parentID),Pn(x,zt.operationName,Mt(E,pn[En])),Pn(x,zt.operationId,pn[Hn]));for(var hr={},Me=_e[xt]-1;Me>=0;Me--){var er=_e[Me];(0,q.rW)(er,function(vr,or){hr[vr]=or}),_e.splice(Me,1)}(0,q.rW)(_e,function(vr,or){hr[vr]=or});var Mn=(0,h.uc)((0,h.uc)({},x),hr);Mn[zt.internalSdkVersion]||(Mn[zt.internalSdkVersion]="javascript:".concat(Na.Version)),S[ut]=(0,q.Ax)(Mn)}a(La,"_extractPartAExtensions");function Ei(E,f,S){(0,q.le)(E)||(0,q.rW)(E,function(x,oe){(0,q.hj)(oe)?S[x]=oe:(0,q.HD)(oe)?f[x]=oe:(0,ie.nS)()&&(f[x]=(0,ie.xA)()[Cr](oe))})}a(Ei,"_extractPropsAndMeasurements");function Ri(E,f){(0,q.le)(E)||(0,q.rW)(E,function(S,x){E[S]=x||f})}a(Ri,"_convertPropsUndefinedToCustomDefinedValue");function vi(E,f,S,x){var oe=new Zt(E,x,f);Pn(oe,"sampleRate",S[g]),(S[Yn]||{}).startTime&&(oe.time=(0,q.Y6)(S[Yn].startTime)),oe.iKey=S.iKey;var _e=S.iKey.replace(/-/g,"");return oe[En]=oe[En].replace("{0}",_e),La(E,S,oe),S[ut]=S[ut]||[],(0,q.Ax)(oe)}a(vi,"_createEnvelope");function Si(E,f){(0,q.le)(f[Yn])&&(0,Ce.kP)(E,1,46,"telemetryItem.baseData cannot be null.")}a(Si,"EnvelopeCreatorInit");var Na={Version:"2.8.12"};function Fa(E,f,S){Si(E,f);var x=f[Yn][Xn]||{},oe=f[Yn][_r]||{};Ei(f[hn],oe,x),(0,q.le)(S)||Ri(oe,S);var _e=f[Yn];if((0,q.le)(_e))return(0,Ce.jV)(E,"Invalid input for dependency data"),null;var Fe=_e[_r]&&_e[_r][k]?_e[_r][k]:"GET",We=new on(E,_e.id,_e.target,_e[En],_e[Ot],_e.success,_e.responseCode,Fe,_e.type,_e.correlationContext,oe,x),ct=new Jt(on[_n],We);return vi(E,on[Gr],f,ct)}a(Fa,"DependencyEnvelopeCreator");function ci(E,f,S){Si(E,f);var x={},oe={};f[$i]!==Rt[_n]&&(x.baseTypeSource=f[$i]),f[$i]===Rt[_n]?(x=f[Yn][_r]||{},oe=f[Yn][Xn]||{}):f[Yn]&&Ei(f[Yn],x,oe),Ei(f[hn],x,oe),(0,q.le)(S)||Ri(x,S);var _e=f[Yn][En],Fe=new Rt(E,_e,x,oe),We=new Jt(Rt[_n],Fe);return vi(E,Rt[Gr],f,We)}a(ci,"EventEnvelopeCreator");function Vi(E,f,S){Si(E,f);var x=f[Yn][Xn]||{},oe=f[Yn][_r]||{};Ei(f[hn],oe,x),(0,q.le)(S)||Ri(oe,S);var _e=f[Yn],Fe=_t.CreateFromInterface(E,_e,oe,x),We=new Jt(_t[_n],Fe);return vi(E,_t[Gr],f,We)}a(Vi,"ExceptionEnvelopeCreator");function Ji(E,f,S){Si(E,f);var x=f[Yn],oe=x[_r]||{},_e=x[Xn]||{};Ei(f[hn],oe,_e),(0,q.le)(S)||Ri(oe,S);var Fe=new Et(E,x[En],x.average,x.sampleCount,x.min,x.max,x.stdDev,oe,_e),We=new Jt(Et[_n],Fe);return vi(E,Et[Gr],f,We)}a(Ji,"MetricEnvelopeCreator");function Qi(E,f,S){Si(E,f);var x,oe=f[Yn];!(0,q.le)(oe)&&!(0,q.le)(oe[_r])&&!(0,q.le)(oe[_r][Ot])?(x=oe[_r][Ot],delete oe[_r][Ot]):!(0,q.le)(f[hn])&&!(0,q.le)(f[hn][Ot])&&(x=f[hn][Ot],delete f[hn][Ot]);var _e=f[Yn],Fe;((f.ext||{}).trace||{})[Hn]&&(Fe=f.ext.trace[Hn]);var We=_e.id||Fe,ct=_e[En],ot=_e.uri,At=_e[_r]||{},Qt=_e[Xn]||{};if((0,q.le)(_e.refUri)||(At.refUri=_e.refUri),(0,q.le)(_e.pageType)||(At.pageType=_e.pageType),(0,q.le)(_e.isLoggedIn)||(At.isLoggedIn=_e.isLoggedIn[Dr]()),!(0,q.le)(_e[_r])){var Fn=_e[_r];(0,q.rW)(Fn,function(hr,Me){At[hr]=Me})}Ei(f[hn],At,Qt),(0,q.le)(S)||Ri(At,S);var Yt=new Wn(E,ct,ot,x,At,Qt,We),pn=new Jt(Wn[_n],Yt);return vi(E,Wn[Gr],f,pn)}a(Qi,"PageViewEnvelopeCreator");function Ma(E,f,S){Si(E,f);var x=f[Yn],oe=x[En],_e=x.uri||x.url,Fe=x[_r]||{},We=x[Xn]||{};Ei(f[hn],Fe,We),(0,q.le)(S)||Ri(Fe,S);var ct=new An(E,oe,_e,void 0,Fe,We,x),ot=new Jt(An[_n],ct);return vi(E,An[Gr],f,ot)}a(Ma,"PageViewPerformanceEnvelopeCreator");function Hi(E,f,S){Si(E,f);var x=f[Yn].message,oe=f[Yn].severityLevel,_e=f[Yn][_r]||{},Fe=f[Yn][Xn]||{};Ei(f[hn],_e,Fe),(0,q.le)(S)||Ri(_e,S);var We=new kt(E,x,oe,_e,Fe),ct=new Jt(kt[_n],We);return vi(E,kt[Gr],f,ct)}a(Hi,"TraceEnvelopeCreator");function Xi(E,f){(0,sn.QY)(E,null,null,f)}a(Xi,"_disableEvents");function Ar(E){var f,S=(0,ie.Me)(),x=(0,ie.jW)(),oe=!1,_e=!0,Fe=(0,sn.jU)((0,yn.J)("OfflineListener"),E);try{if(ct((0,ie.Jj)())&&(oe=!0),S){var We=S.body||S;We.ononline&&ct(We)&&(oe=!0)}oe&&x&&!(0,q.le)(x[Tr])&&(_e=x[Tr])}catch(Yt){oe=!1}function ct(Yt){var pn=!1;return Yt&&(pn=(0,sn.XO)(Yt,"online",ot,Fe),pn&&(0,sn.XO)(Yt,"offline",At,Fe)),pn}a(ct,"_enableEvents");function ot(){_e=!0}a(ot,"_setOnline");function At(){_e=!1}a(At,"_setOffline");function Qt(){var Yt=!0;return oe?Yt=_e:x&&!(0,q.le)(x[Tr])&&(Yt=x[Tr]),Yt}a(Qt,"_isOnline");function Fn(){var Yt=(0,ie.Jj)();if(Yt&&oe){if(Xi(Yt,Fe),S){var pn=S.body||S;(0,q.o8)(pn.ononline)||Xi(pn,Fe)}oe=!1}}return a(Fn,"_unload"),f={},f[qr]=Qt,f.isListening=function(){return oe},f.unload=Fn,f}a(Ar,"createOfflineListener");var Zi=function(){function E(f,S){var x=[],oe=!1;this._get=function(){return x},this._set=function(_e){return x=_e,x},(0,w.Z)(E,this,function(_e){_e[Vr]=function(Fe){if(_e[Jr]()>=S.eventsLimitInMem()){oe||((0,Ce.kP)(f,2,105,"Maximum in-memory buffer size reached: "+_e[Jr](),!0),oe=!0);return}x[Zn](Fe)},_e[Jr]=function(){return x[xt]},_e.size=function(){for(var Fe=x[xt],We=0;We<x[xt];We++)Fe+=x[We][xt];return S[ri]()||(Fe+=2),Fe},_e[ii]=function(){x=[],oe=!1},_e.getItems=function(){return x.slice(0)},_e[Hr]=function(Fe){if(Fe&&Fe[xt]>0){var We=S[ri]()?Fe.join(`
`):"["+Fe.join(",")+"]";return We}return null}})}return a(E,"BaseSendBuffer"),E.__ieDyn=1,E}(),ma=function(E){(0,h.ne)(f,E);function f(S,x){var oe=E.call(this,S,x)||this;return(0,w.Z)(f,oe,function(_e,Fe){_e[br]=function(We){Fe[ii]()},_e[Wr]=function(We){}}),oe}return a(f,"ArraySendBuffer"),f.__ieDyn=1,f}(Zi),xa=function(E){(0,h.ne)(f,E);function f(S,x){var oe=E.call(this,S,x)||this,_e=!1,Fe=x[fi]()||{getItem:et,setItem:mi},We=Fe.getItem,ct=Fe.setItem;return(0,w.Z)(f,oe,function(ot,At){var Qt=hr(f[di]),Fn=hr(f[Ur]),Yt=ot._set(Qt.concat(Fn));Yt[xt]>f[zr]&&(Yt[xt]=f[zr]),Me(f[Ur],[]),Me(f[di],Yt),ot[Vr]=function(er){if(ot[Jr]()>=f[zr]){_e||((0,Ce.kP)(S,2,67,"Maximum buffer size reached: "+ot[Jr](),!0),_e=!0);return}At[Vr](er),Me(f[di],ot._get())},ot[ii]=function(){At[ii](),Me(f[di],ot._get()),Me(f[Ur],[]),_e=!1},ot[br]=function(er){Me(f[di],ot._set(pn(er,ot._get())));var Mn=hr(f[Ur]);Mn instanceof Array&&er instanceof Array&&(Mn=Mn.concat(er),Mn[xt]>f[zr]&&((0,Ce.kP)(S,1,67,"Sent buffer reached its maximum size: "+Mn[xt],!0),Mn[xt]=f[zr]),Me(f[Ur],Mn))},ot[Wr]=function(er){var Mn=hr(f[Ur]);Mn=pn(er,Mn),Me(f[Ur],Mn)};function pn(er,Mn){var vr=[];return(0,q.tO)(Mn,function(or){!(0,q.mf)(or)&&(0,q.UA)(er,or)===-1&&vr[Zn](or)}),vr}a(pn,"_removePayloadsFromBuffer");function hr(er){var Mn=er;try{Mn=x[qn]&&x[qn]()?x[qn]()+"_"+Mn:Mn;var vr=We(S,Mn);if(vr){var or=(0,ie.xA)().parse(vr);if((0,q.HD)(or)&&(or=(0,ie.xA)().parse(or)),or&&(0,q.kJ)(or))return or}}catch(Ci){(0,Ce.kP)(S,1,42," storage key: "+Mn+", "+(0,q.jj)(Ci),{exception:(0,ie.eU)(Ci)})}return[]}a(hr,"_getBuffer");function Me(er,Mn){var vr=er;try{vr=x[qn]&&x[qn]()?x[qn]()+"_"+vr:vr;var or=JSON[Cr](Mn);ct(S,vr,or)}catch(Ci){ct(S,vr,JSON[Cr]([])),(0,Ce.kP)(S,2,41," storage key: "+vr+", "+(0,q.jj)(Ci)+". Buffer cleared",{exception:(0,ie.eU)(Ci)})}}a(Me,"_setBuffer")}),oe}return a(f,"SessionStorageSendBuffer"),f.BUFFER_KEY="AI_buffer",f.SENT_BUFFER_KEY="AI_sentBuffer",f.MAX_BUFFER_SIZE=2e3,f}(Zi),Ua=function(){function E(f){(0,w.Z)(E,this,function(S){S.serialize=function(Fe){var We=x(Fe,"root");try{return(0,ie.xA)()[Cr](We)}catch(ct){(0,Ce.kP)(f,1,48,ct&&(0,q.mf)(ct[Dr])?ct[Dr]():"Error serializing object",null,!0)}};function x(Fe,We){var ct="__aiCircularRefCheck",ot={};if(!Fe)return(0,Ce.kP)(f,1,48,"cannot serialize object because it is null or undefined",{name:We},!0),ot;if(Fe[ct])return(0,Ce.kP)(f,2,50,"Circular reference detected while serializing object",{name:We},!0),ot;if(!Fe.aiDataContract){if(We==="measurements")ot=_e(Fe,"number",We);else if(We==="properties")ot=_e(Fe,"string",We);else if(We==="tags")ot=_e(Fe,"string",We);else if((0,q.kJ)(Fe))ot=oe(Fe,We);else{(0,Ce.kP)(f,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:We},!0);try{(0,ie.xA)()[Cr](Fe),ot=Fe}catch(At){(0,Ce.kP)(f,1,48,At&&(0,q.mf)(At[Dr])?At[Dr]():"Error serializing object",null,!0)}}return ot}return Fe[ct]=!0,(0,q.rW)(Fe.aiDataContract,function(At,Qt){var Fn=(0,q.mf)(Qt)?Qt()&1:Qt&1,Yt=(0,q.mf)(Qt)?Qt()&4:Qt&4,pn=Qt&2,hr=Fe[At]!==void 0,Me=(0,q.Kn)(Fe[At])&&Fe[At]!==null;if(Fn&&!hr&&!pn)(0,Ce.kP)(f,1,24,"Missing required field specification. The field is required but not present on source",{field:At,name:We});else if(!Yt){var er=void 0;Me?pn?er=oe(Fe[At],At):er=x(Fe[At],At):er=Fe[At],er!==void 0&&(ot[At]=er)}}),delete Fe[ct],ot}a(x,"_serializeObject");function oe(Fe,We){var ct;if(Fe)if(!(0,q.kJ)(Fe))(0,Ce.kP)(f,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:We},!0);else{ct=[];for(var ot=0;ot<Fe[xt];ot++){var At=Fe[ot],Qt=x(At,We+"["+ot+"]");ct[Zn](Qt)}}return ct}a(oe,"_serializeArray");function _e(Fe,We,ct){var ot;return Fe&&(ot={},(0,q.rW)(Fe,function(At,Qt){if(We==="string")Qt===void 0?ot[At]="undefined":Qt===null?ot[At]="null":Qt[Dr]?ot[At]=Qt[Dr]():ot[At]="invalid field: toString() is not defined.";else if(We==="number")if(Qt===void 0)ot[At]="undefined";else if(Qt===null)ot[At]="null";else{var Fn=parseFloat(Qt);isNaN(Fn)?ot[At]="NaN":ot[At]=Fn}else ot[At]="invalid field: "+ct+" is of unknown type.",(0,Ce.kP)(f,1,ot[At],null,!0)})),ot}a(_e,"_serializeStringMap")})}return a(E,"Serializer"),E.__ieDyn=1,E}(),ka=8,qi=function(){function E(){}return a(E,"HashCodeScoreGenerator"),E.prototype.getHashCodeScore=function(f){var S=this.getHashCode(f)/E.INT_MAX_VALUE;return S*100},E.prototype.getHashCode=function(f){if(f==="")return 0;for(;f[xt]<ka;)f=f.concat(f);for(var S=5381,x=0;x<f[xt];++x)S=(S<<5)+S+f.charCodeAt(x),S=S&S;return Math.abs(S)},E.INT_MAX_VALUE=2147483647,E}(),Ja=function(){function E(){var f=this,S=new qi,x=new Vt;f[pa]=function(oe){var _e=0;return oe[ut]&&oe[ut][x.userId]?_e=S.getHashCodeScore(oe[ut][x.userId]):oe.ext&&oe.ext.user&&oe.ext.user.id?_e=S[Oa](oe.ext.user.id):oe[ut]&&oe[ut][x.operationId]?_e=S.getHashCodeScore(oe[ut][x.operationId]):oe.ext&&oe.ext.telemetryTrace&&oe.ext.telemetryTrace[Hn]?_e=S.getHashCodeScore(oe.ext.telemetryTrace[Hn]):_e=Math.random()*100,_e}}return a(E,"SamplingScoreGenerator"),E}(),Wi=function(){function E(f,S){this.INT_MAX_VALUE=2147483647;var x=S||(0,Ce.vH)(null);(f>100||f<0)&&(x.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:f},!0),f=100),this[ai]=f,this.samplingScoreGenerator=new Ja}return a(E,"Sample"),E.prototype.isSampledIn=function(f){var S=this[ai],x=!1;return S==null||S>=100||f.baseType===Et[_n]?!0:(x=this.samplingScoreGenerator[pa](f)<S,x)},E}(),si,zi=65e3;function wi(E){try{return E.responseText}catch(f){}return null}a(wi,"_getResponseText");function Ba(){var E,f,S;return E={endpointUrl:function(){return v+p}},E[ri]=function(){return!1},E[yi]=function(){return 15e3},E[Qr]=function(){return 102400},E[cn]=function(){return!1},E[jt]=function(){return!0},E[fi]=function(){return!1},E[Li]=function(){return!1},E[it]=function(){return!0},E[Ut]=function(){return!1},E[rn]=function(){return!1},E[Xe]=function(){return!1},E[Ue]=function(){return f},E[qn]=function(){return f},E[ke]=function(){return 100},E[Dt]=function(){return S},E[bi]=function(){return f},E.eventsLimitInMem=function(){return 1e4},E}a(Ba,"_getDefaultAppInsightsChannelConfig");var _a=(si={},si[Rt.dataType]=ci,si[kt.dataType]=Hi,si[Wn.dataType]=Qi,si[An.dataType]=Ma,si[_t.dataType]=Vi,si[Et.dataType]=Ji,si[on.dataType]=Fa,si),ea=function(E){(0,h.ne)(f,E);function f(){var S=E.call(this)||this;S.priority=1001,S.identifier=On,S._senderConfig=Ba();var x,oe,_e,Fe,We,ct,ot,At,Qt=0,Fn,Yt,pn,hr;return(0,w.Z)(f,S,function(Me,er){Wa(),Me.pause=function(){oa(),Fe=!0},Me.resume=function(){Fe&&(Fe=!1,oe=null,Me._buffer.size()>Me._senderConfig[Qr]()&&Me[ge](!0,null,10),sa())},Me.flush=function(Te,ft,mt){if(Te===void 0&&(Te=!0),!Fe){oa();try{Me[ge](Te,null,mt||1)}catch(Kt){(0,Ce.kP)(Me[Ye](),1,22,"flush failed, telemetry will not be collected: "+(0,q.jj)(Kt),{exception:(0,ie.eU)(Kt)})}}},Me.onunloadFlush=function(){if(!Fe)if((Me._senderConfig[Xe]()===!1||Me[vt][it]()===!1)&&(0,ie.MF)())try{Me[ge](!0,Ci,2)}catch(Te){(0,Ce.kP)(Me[Ye](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,q.jj)(Te),{exception:(0,ie.eU)(Te)})}else Me.flush()},Me.addHeader=function(Te,ft){At[Te]=ft},Me.initialize=function(Te,ft,mt,Kt){Me.isInitialized()&&(0,Ce.kP)(Me[Ye](),1,28,"Sender is already initialized"),er.initialize(Te,ft,mt,Kt);var vn=Me._getTelCtx(),Dn=Me.identifier;ct=new Ua(ft.logger),x=0,oe=null,_e=0,Me[pt]=null,ot=0;var Tn=Me[Ye]();hr=(0,sn.jU)((0,yn.J)("Sender"),ft.evtNamespace&&ft.evtNamespace()),pn=Ar(hr);var Rr=Ba();(0,q.rW)(Rr,function(Br,pr){Me[vt][Br]=function(){var xi=vn.getConfig(Dn,Br,pr());return!xi&&Br==="endpointUrl"&&(xi=pr()),xi}});var kr=Me[vt][jt]()&&!!(Me._senderConfig[fi]()||ti());Me[pe]=kr?new xa(Tn,Me[vt]):new ma(Tn,Me[vt]),Me._sample=new Wi(Me[vt][ke](),Tn),ca(Te)||(0,Ce.kP)(Tn,1,100,"Invalid Instrumentation key "+Te[Ue]),!Ge(Me._senderConfig.endpointUrl())&&Me._senderConfig.customHeaders()&&Me._senderConfig.customHeaders()[xt]>0&&(0,q.tO)(Me[vt][Dt](),function(Br){S.addHeader(Br.header,Br.value)});var Sr=Me[vt],Ir=null;!Sr[Ut]()&&(0,ie.cp)()?Ir=la:!Sr[Ut]()&&(0,ie.Z3)()&&(Ir=ji),!Ir&&(0,ie.JO)()&&(Ir=Da),Fn=Ir||ji,!Sr[it]()&&(0,ie.MF)()&&(Ir=Ki),Me[pt]=Ir||ji,!Sr[rn]()&&(0,ie.JO)(!0)?Yt=ia:(0,ie.MF)()?Yt=Ki:!Sr[Ut]()&&(0,ie.cp)()?Yt=la:!Sr[Ut]()&&(0,ie.Z3)()?Yt=ji:Yt=Fn},Me.processTelemetry=function(Te,ft){ft=Me._getTelCtx(ft);var mt=ft[Ye]();try{if(Me[vt][cn]())return;if(!Te){(0,Ce.kP)(mt,1,7,"Cannot send empty telemetry");return}if(Te.baseData&&!Te[Ln]){(0,Ce.kP)(mt,1,70,"Cannot send telemetry without baseData and baseType");return}if(Te[Ln]||(Te[Ln]="EventData"),!Me[pt]){(0,Ce.kP)(mt,1,28,"Sender was not initialized");return}if(Mn(Te))Te[g]=Me._sample[ai];else{(0,Ce.kP)(mt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Me._sample[ai]});return}var Kt=Me[vt][bi]()||void 0,vn=Te.iKey||Me[vt][Ue](),Dn=f.constructEnvelope(Te,vn,mt,Kt);if(!Dn){(0,Ce.kP)(mt,1,47,"Unable to create an AppInsights envelope");return}var Tn=!1;if(Te[ut]&&Te[ut][$]&&((0,q.tO)(Te[ut][$],function(Ir){try{Ir&&Ir(Dn)===!1&&(Tn=!0,(0,Ce.jV)(mt,"Telemetry processor check returns false"))}catch(Br){(0,Ce.kP)(mt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,q.jj)(Br),{exception:(0,ie.eU)(Br)},!0)}}),delete Te[ut][$]),Tn)return;var Rr=ct.serialize(Dn),kr=Me[pe],Sr=kr.size();Sr+Rr[xt]>Me[vt][Qr]()&&(!pn||pn[qr]())&&Me[ge](!0,null,10),kr[Vr](Rr),sa()}catch(Ir){(0,Ce.kP)(mt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,q.jj)(Ir),{exception:(0,ie.eU)(Ir)})}Me.processNext(Te,ft)},Me[Ai]=function(Te,ft,mt){Te.readyState===4&&vr(Te.status,ft,Te.responseURL,mt,ua(Te),wi(Te)||Te.response)},Me[ge]=function(Te,ft,mt){if(Te===void 0&&(Te=!0),!Fe)try{var Kt=Me[pe];if(Me[vt][cn]())Kt[ii]();else{if(Kt[Jr]()>0){var vn=Kt.getItems();Aa(mt||0,Te),ft?ft.call(S,vn,Te):Me[pt](vn,Te)}_e=+new Date}oa()}catch(Tn){var Dn=(0,ie.sA)();(!Dn||Dn>9)&&(0,Ce.kP)(Me[Ye](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,q.jj)(Tn),{exception:(0,ie.eU)(Tn)})}},Me._doTeardown=function(Te,ft){Me.onunloadFlush(),pn.unload(),Wa()},Me[rr]=function(Te,ft,mt){(0,Ce.kP)(Me[Ye](),2,26,"Failed to send telemetry.",{message:ft}),Me._buffer[Wr](Te)},Me[Xr]=function(Te,ft){for(var mt=[],Kt=[],vn=ft.errors.reverse(),Dn=0,Tn=vn;Dn<Tn.length;Dn++){var Rr=Tn[Dn],kr=Te.splice(Rr.index,1)[0];Ii(Rr.statusCode)?Kt[Zn](kr):mt[Zn](kr)}Te[xt]>0&&Me[hi](Te,ft[Oi]),mt[xt]>0&&Me[rr](mt,ua(null,["partial success",ft[Oi],"of",ft.itemsReceived].join(" "))),Kt[xt]>0&&(Fi(Kt),(0,Ce.kP)(Me[Ye](),2,40,"Partial success. Delivered: "+Te[xt]+", Failed: "+mt[xt]+". Will retry to send "+Kt[xt]+" our of "+ft[Va]+" items"))},Me[hi]=function(Te,ft){Me._buffer[Wr](Te)},Me._xdrOnLoad=function(Te,ft){var mt=wi(Te);if(Te&&(mt+""=="200"||mt===""))x=0,Me[hi](ft,0);else{var Kt=aa(mt);Kt&&Kt.itemsReceived&&Kt.itemsReceived>Kt[Oi]&&!Me[vt][Li]()?Me[Xr](ft,Kt):Me[rr](ft,Mi(Te))}};function Mn(Te){return Me._sample.isSampledIn(Te)}a(Mn,"_isSampledIn");function vr(Te,ft,mt,Kt,vn,Dn){var Tn=null;if(Me._appId||(Tn=aa(Dn),Tn&&Tn.appId&&(Me._appId=Tn.appId)),(Te<200||Te>=300)&&Te!==0){if((Te===301||Te===307||Te===308)&&!or(mt)){Me[rr](ft,vn);return}!Me[vt][Li]()&&Ii(Te)?(Fi(ft),(0,Ce.kP)(Me[Ye](),2,40,". Response code "+Te+". Will retry to send "+ft[xt]+" items.")):Me[rr](ft,vn)}else if(pn&&!pn[qr]()){if(!Me[vt][Li]()){var Rr=10;Fi(ft,Rr),(0,Ce.kP)(Me[Ye](),2,40,". Offline - Response Code: ".concat(Te,". Offline status: ").concat(!pn.isOnline(),". Will retry to send ").concat(ft.length," items."))}}else or(mt),Te===206?(Tn||(Tn=aa(Dn)),Tn&&!Me[vt][Li]()?Me[Xr](ft,Tn):Me[rr](ft,vn)):(x=0,Me[hi](ft,Kt))}a(vr,"_checkResponsStatus");function or(Te){return ot>=10?!1:!(0,q.le)(Te)&&Te!==""&&Te!==Me[vt][nt]()?(Me[vt][nt]=function(){return Te},++ot,!0):!1}a(or,"_checkAndUpdateEndPointUrl");function Ci(Te,ft){Yt?Yt(Te,!1):Ki(Te,ft)}a(Ci,"_doUnloadSend");function Ca(Te){var ft=(0,ie.jW)(),mt=Me[pe],Kt=Me[vt][nt](),vn=Me._buffer[Hr](Te),Dn=new Blob([vn],{type:"text/plain;charset=UTF-8"}),Tn=ft.sendBeacon(Kt,Dn);return Tn&&(mt[br](Te),Me._onSuccess(Te,Te[xt])),Tn}a(Ca,"_doBeaconSend");function Ki(Te,ft){if((0,q.kJ)(Te)&&Te[xt]>0&&!Ca(Te)){for(var mt=[],Kt=0;Kt<Te[xt];Kt++){var vn=Te[Kt];Ca([vn])||mt[Zn](vn)}mt[xt]>0&&(Fn&&Fn(mt,!0),(0,Ce.kP)(Me[Ye](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}a(Ki,"_beaconSender");function ji(Te,ft){var mt=new XMLHttpRequest,Kt=Me[vt][nt]();try{mt[b]=!0}catch(Dn){}mt.open("POST",Kt,ft),mt[va]("Content-type","application/json"),Ge(Kt)&&mt[va](tr[6],tr[7]),(0,q.tO)((0,q.FY)(At),function(Dn){mt[va](Dn,At[Dn])}),mt.onreadystatechange=function(){return Me._xhrReadyStateChange(mt,Te,Te[xt])},mt.onerror=function(Dn){return Me[rr](Te,ua(mt),Dn)};var vn=Me._buffer[Hr](Te);mt.send(vn),Me._buffer[br](Te)}a(ji,"_xhrSender");function ia(Te,ft){if((0,q.kJ)(Te)){for(var mt=Te[xt],Kt=0;Kt<Te[xt];Kt++)mt+=Te[Kt][xt];Qt+mt<=zi?Ta(Te,!1):(0,ie.MF)()?Ki(Te,ft):(Fn&&Fn(Te,!0),(0,Ce.kP)(Me[Ye](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}a(ia,"_fetchKeepAliveSender");function Da(Te,ft){Ta(Te,!0)}a(Da,"_fetchSender");function Ta(Te,ft){var mt,Kt=Me[vt][nt](),vn=Me._buffer[Hr](Te),Dn=new Blob([vn],{type:"application/json"}),Tn=new Headers,Rr=vn[xt],kr=!1,Sr=!1;Ge(Kt)&&Tn.append(tr[6],tr[7]),(0,q.tO)((0,q.FY)(At),function(pr){Tn.append(pr,At[pr])});var Ir=(mt={method:"POST",headers:Tn,body:Dn},mt[b]=!0,mt);ft||(Ir.keepalive=!0,kr=!0,Qt+=Rr);var Br=new Request(Kt,Ir);try{Br[b]=!0}catch(pr){}Me._buffer[br](Te);try{fetch(Br).then(function(pr){ft||(Qt-=Rr,Rr=0),Sr||(Sr=!0,pr.ok?pr.text().then(function(xi){vr(pr.status,Te,pr.url,Te[xt],pr.statusText,xi)}):Me[rr](Te,pr.statusText))}).catch(function(pr){ft||(Qt-=Rr,Rr=0),Sr||(Sr=!0,Me[rr](Te,pr.message))})}catch(pr){Sr||Me[rr](Te,(0,ie.eU)(pr))}kr&&!Sr&&(Sr=!0,Me._onSuccess(Te,Te[xt]))}a(Ta,"_doFetchSender");function aa(Te){try{if(Te&&Te!==""){var ft=(0,ie.xA)().parse(Te);if(ft&&ft.itemsReceived&&ft.itemsReceived>=ft[Oi]&&ft.itemsReceived-ft.itemsAccepted===ft.errors[xt])return ft}}catch(mt){(0,Ce.kP)(Me[Ye](),1,43,"Cannot parse the response. "+(0,q.jj)(mt),{response:Te})}return null}a(aa,"_parseResponse");function Fi(Te,ft){if(ft===void 0&&(ft=1),!(!Te||Te[xt]===0)){var mt=Me[pe];mt[Wr](Te),x++;for(var Kt=0,vn=Te;Kt<vn.length;Kt++){var Dn=vn[Kt];mt[Vr](Dn)}Ha(ft),sa()}}a(Fi,"_resendPayload");function Ha(Te){var ft=10,mt;if(x<=1)mt=ft;else{var Kt=(Math.pow(2,x)-1)/2,vn=Math.floor(Math.random()*Kt*ft)+1;vn=Te*vn,mt=Math.max(Math.min(vn,3600),ft)}var Dn=(0,q.m6)()+mt*1e3;oe=Dn}a(Ha,"_setRetryTime");function sa(){if(!We&&!Fe){var Te=oe?Math.max(0,oe-(0,q.m6)()):0,ft=Math.max(Me[vt][yi](),Te);We=setTimeout(function(){We=null,Me[ge](!0,null,1)},ft)}}a(sa,"_setupTimer");function oa(){clearTimeout(We),We=null,oe=null}a(oa,"_clearScheduledTimer");function Ii(Te){return Te===401||Te===403||Te===408||Te===429||Te===500||Te===502||Te===503||Te===504}a(Ii,"_isRetriable");function ua(Te,ft){return Te?"XMLHttpRequest,Status:"+Te.status+",Response:"+wi(Te)||0||0:ft}a(ua,"_formatErrorMessageXhr");function la(Te,ft){var mt=Me[pe],Kt=(0,ie.Jj)(),vn=new XDomainRequest;vn.onload=function(){return Me._xdrOnLoad(vn,Te)},vn.onerror=function(kr){return Me[rr](Te,Mi(vn),kr)};var Dn=Kt&&Kt.location&&Kt.location.protocol||"";if(Me[vt][nt]().lastIndexOf(Dn,0)!==0){(0,Ce.kP)(Me[Ye](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),mt[ii]();return}var Tn=Me[vt][nt]().replace(/^(https?:)/,"");vn.open("POST",Tn);var Rr=mt[Hr](Te);vn.send(Rr),mt[br](Te)}a(la,"_xdrSender");function Mi(Te,ft){return Te?"XDomainRequest,Response:"+wi(Te)||0:ft}a(Mi,"_formatErrorMessageXdr");function ba(){var Te="getNotifyMgr";return Me.core[Te]?Me.core[Te]():Me.core._notificationManager}a(ba,"_getNotifyMgr");function Aa(Te,ft){var mt=ba();if(mt&&mt[ga])try{mt[ga](Te,ft)}catch(Kt){(0,Ce.kP)(Me[Ye](),1,74,"send request notification failed: "+(0,q.jj)(Kt),{exception:(0,ie.eU)(Kt)})}}a(Aa,"_notifySendRequest");function ca(Te){var ft=(0,q.le)(Te[Gi])?!1:Te[Gi];if(ft)return!0;var mt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Kt=new RegExp(mt);return Kt.test(Te[Ue])}a(ca,"_validateInstrumentationKey");function Wa(){Me[pt]=null,Me[pe]=null,Me._appId=null,Me._sample=null,At={},pn=null,x=0,oe=null,_e=null,Fe=!1,We=null,ct=null,ot=0,Qt=0,Fn=null,Yt=null,hr=null}a(Wa,"_initDefaults")}),S}return a(f,"Sender"),f.constructEnvelope=function(S,x,oe,_e){var Fe;x!==S.iKey&&!(0,q.le)(x)?Fe=(0,h.uc)((0,h.uc)({},S),{iKey:x}):Fe=S;var We=_a[Fe.baseType]||ci;return We(oe,Fe,_e)},f}(It.i),ya=";",$a="=";function Ea(E){if(!E)return{};var f=E[P](ya),S=(0,q.Xz)(f,function(oe,_e){var Fe=_e[P]($a);if(Fe[F]===2){var We=Fe[0][L](),ct=Fe[1];oe[We]=ct}return oe},{});if((0,q.FY)(S)[F]>0){if(S.endpointsuffix){var x=S.location?S.location+".":"";S[X]=S[X]||"https://"+x+"dc."+S.endpointsuffix}S[X]=S[X]||v}return S}a(Ea,"parseConnectionString");var Qa={parse:Ea},Sa=y(5121),ta="instrumentationKey",na="connectionString",Ni="diagnosticLogInterval",wa=y(7310),oi=(0,Bn.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),ra=function(){function E(f){var S=new Sa.F;((0,q.le)(f)||(0,q.le)(f[ta])&&(0,q.le)(f[na]))&&(0,q._y)("Invalid input configuration"),(0,w.Z)(E,this,function(x){if(f[na]){var oe=Ea(f[na]),_e=oe.ingestionendpoint;f.endpointUrl=_e?_e+p:f.endpointUrl,f[ta]=oe.instrumentationkey||f[ta]}x.config=f,Fe(),x.initialize=Fe,x.getSKUDefaults=function(){x.config[Ni]=x.config[Ni]&&x.config[Ni]>0?x.config[Ni]:1e4},x.getSKUDefaults(),(0,q.Vb)(x,S,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function Fe(){S.initialize(x.config,[new ea]),S.pollInternalLogs()}a(Fe,"_initialize")})}return a(E,"ApplicationInsights"),E.__ieDyn=1,E}()},1679:(Ve,d,y)=>{"use strict";y.d(d,{Z:()=>Je});/*!
 * Microsoft Dynamic Proto Utility, 1.1.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var w,h="undefined",b="constructor",g="prototype",$="function",k="_dynInstFuncs",v="_isDynProxy",p="_dynClass",B="_dynCls$",W="_dynInstChk",P=W,F="_dfOpts",L="_unknown_",X="__proto__",J="_dyn"+X,ce="__dynProto$Gbl",D="_dynInstProto",M="useBaseInst",I="setInstFuncs",m=Object,R=m.getPrototypeOf,T=m.getOwnPropertyNames;function G(){var U;return typeof globalThis!==h&&(U=globalThis),!U&&typeof self!==h&&(U=self),!U&&typeof window!==h&&(U=window),!U&&typeof y.g!==h&&(U=y.g),U||{}}a(G,"_getGlobal");var K=G(),Y=K[ce]||(K[ce]={o:(w={},w[I]=!0,w[M]=!0,w),n:1e3});function re(U,j){return U&&m[g].hasOwnProperty.call(U,j)}a(re,"_hasOwnProperty");function ve(U){return U&&(U===m[g]||U===Array[g])}a(ve,"_isObjectOrArrayPrototype");function V(U){return ve(U)||U===Function[g]}a(V,"_isObjectArrayOrFunctionPrototype");function fe(U){var j;if(U){if(R)return R(U);var Z=U[X]||U[g]||(U[b]?U[b][g]:null);j=U[J]||Z,re(U,J)||(delete U[D],j=U[J]=U[D]||U[J],U[D]=Z)}return j}a(fe,"_getObjProto");function N(U,j){var Z=[];if(T)Z=T(U);else for(var he in U)typeof he=="string"&&re(U,he)&&Z.push(he);if(Z&&Z.length>0)for(var De=0;De<Z.length;De++)j(Z[De])}a(N,"_forEachProp");function Ne(U,j,Z){return j!==b&&typeof U[j]===$&&(Z||re(U,j))}a(Ne,"_isDynamicCandidate");function ue(U){throw new TypeError("DynamicProto: "+U)}a(ue,"_throwTypeError");function ee(U){var j={};return N(U,function(Z){!j[Z]&&Ne(U,Z,!1)&&(j[Z]=U[Z])}),j}a(ee,"_getInstanceFuncs");function z(U,j){for(var Z=U.length-1;Z>=0;Z--)if(U[Z]===j)return!0;return!1}a(z,"_hasVisited");function se(U,j,Z,he){function De(Ae,He,Ie){var Re=He[Ie];if(Re[v]&&he){var q=Ae[k]||{};q[P]!==!1&&(Re=(q[He[p]]||{})[Ie]||Re)}return function(){return Re.apply(Ae,arguments)}}a(De,"_instFuncProxy");var be={};N(Z,function(Ae){be[Ae]=De(j,Z,Ae)});for(var le=fe(U),ye=[];le&&!V(le)&&!z(ye,le);)N(le,function(Ae){!be[Ae]&&Ne(le,Ae,!R)&&(be[Ae]=De(j,le,Ae))}),ye.push(le),le=fe(le);return be}a(se,"_getBaseFuncs");function Ee(U,j,Z,he){var De=null;if(U&&re(Z,p)){var be=U[k]||{};if(De=(be[Z[p]]||{})[j],De||ue("Missing ["+j+"] "+$),!De[W]&&be[P]!==!1){for(var le=!re(U,j),ye=fe(U),Ae=[];le&&ye&&!V(ye)&&!z(Ae,ye);){var He=ye[j];if(He){le=He===he;break}Ae.push(ye),ye=fe(ye)}try{le&&(U[j]=De),De[W]=1}catch(Ie){be[P]=!1}}}return De}a(Ee,"_getInstFunc");function Le(U,j,Z){var he=j[U];return he===Z&&(he=fe(j)[U]),typeof he!==$&&ue("["+U+"] is not a "+$),he}a(Le,"_getProtoFunc");function te(U,j,Z,he,De){function be(Ae,He){var Ie=a(function(){var Re=Ee(this,He,Ae,Ie)||Le(He,Ae,Ie);return Re.apply(this,arguments)},"dynProtoProxy");return Ie[v]=1,Ie}if(a(be,"_createDynamicPrototype"),!ve(U)){var le=Z[k]=Z[k]||{},ye=le[j]=le[j]||{};le[P]!==!1&&(le[P]=!!De),N(Z,function(Ae){Ne(Z,Ae,!1)&&Z[Ae]!==he[Ae]&&(ye[Ae]=Z[Ae],delete Z[Ae],(!re(U,Ae)||U[Ae]&&!U[Ae][v])&&(U[Ae]=be(U,Ae)))})}}a(te,"_populatePrototype");function Be(U,j){if(R){for(var Z=[],he=fe(j);he&&!V(he)&&!z(Z,he);){if(he===U)return!0;Z.push(he),he=fe(he)}return!1}return!0}a(Be,"_checkPrototype");function Ke(U,j){return re(U,g)?U.name||j||L:((U||{})[b]||{}).name||j||L}a(Ke,"_getObjName");function Je(U,j,Z,he){re(U,g)||ue("theClass is an invalid class definition.");var De=U[g];Be(De,j)||ue("["+Ke(U)+"] not in hierarchy of ["+Ke(j)+"]");var be=null;re(De,p)?be=De[p]:(be=B+Ke(U,"_")+"$"+Y.n,Y.n++,De[p]=be);var le=Je[F],ye=!!le[M];ye&&he&&he[M]!==void 0&&(ye=!!he[M]);var Ae=ee(j),He=se(De,j,Ae,ye);Z(j,He);var Ie=!!R&&!!le[I];Ie&&he&&(Ie=!!he[I]),te(De,be,j,Ae,Ie!==!1)}a(Je,"dynamicProto"),Je[F]=Y.o},6232:(Ve,d,y)=>{"use strict";const w=y(8641),h=y(8692),b=y(1474),g=y(5870),$=a((k,v={})=>{let p=[];if(Array.isArray(k))for(const B of k){const W=$.create(B,v);Array.isArray(W)?p.push(...W):p.push(W)}else p=[].concat($.create(k,v));return v&&v.expand===!0&&v.nodupes===!0&&(p=[...new Set(p)]),p},"braces");$.parse=(k,v={})=>g(k,v),$.stringify=(k,v={})=>w(typeof k=="string"?$.parse(k,v):k,v),$.compile=(k,v={})=>(typeof k=="string"&&(k=$.parse(k,v)),h(k,v)),$.expand=(k,v={})=>{typeof k=="string"&&(k=$.parse(k,v));let p=b(k,v);return v.noempty===!0&&(p=p.filter(Boolean)),v.nodupes===!0&&(p=[...new Set(p)]),p},$.create=(k,v={})=>k===""||k.length<3?[k]:v.expand!==!0?$.compile(k,v):$.expand(k,v),Ve.exports=$},8692:(Ve,d,y)=>{"use strict";const w=y(1516),h=y(3596),b=a((g,$={})=>{const k=a((v,p={})=>{const B=h.isInvalidBrace(p),W=v.invalid===!0&&$.escapeInvalid===!0,P=B===!0||W===!0,F=$.escapeInvalid===!0?"\\":"";let L="";if(v.isOpen===!0)return F+v.value;if(v.isClose===!0)return console.log("node.isClose",F,v.value),F+v.value;if(v.type==="open")return P?F+v.value:"(";if(v.type==="close")return P?F+v.value:")";if(v.type==="comma")return v.prev.type==="comma"?"":P?v.value:"|";if(v.value)return v.value;if(v.nodes&&v.ranges>0){const X=h.reduce(v.nodes),J=w(...X,{...$,wrap:!1,toRegex:!0,strictZeros:!0});if(J.length!==0)return X.length>1&&J.length>1?`(${J})`:J}if(v.nodes)for(const X of v.nodes)L+=k(X,v);return L},"walk");return k(g)},"compile");Ve.exports=b},7007:Ve=>{"use strict";Ve.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(Ve,d,y)=>{"use strict";const w=y(1516),h=y(8641),b=y(3596),g=a((k="",v="",p=!1)=>{const B=[];if(k=[].concat(k),v=[].concat(v),!v.length)return k;if(!k.length)return p?b.flatten(v).map(W=>`{${W}}`):v;for(const W of k)if(Array.isArray(W))for(const P of W)B.push(g(P,v,p));else for(let P of v)p===!0&&typeof P=="string"&&(P=`{${P}}`),B.push(Array.isArray(P)?g(W,P,p):W+P);return b.flatten(B)},"append"),$=a((k,v={})=>{const p=v.rangeLimit===void 0?1e3:v.rangeLimit,B=a((W,P={})=>{W.queue=[];let F=P,L=P.queue;for(;F.type!=="brace"&&F.type!=="root"&&F.parent;)F=F.parent,L=F.queue;if(W.invalid||W.dollar){L.push(g(L.pop(),h(W,v)));return}if(W.type==="brace"&&W.invalid!==!0&&W.nodes.length===2){L.push(g(L.pop(),["{}"]));return}if(W.nodes&&W.ranges>0){const D=b.reduce(W.nodes);if(b.exceedsLimit(...D,v.step,p))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let M=w(...D,v);M.length===0&&(M=h(W,v)),L.push(g(L.pop(),M)),W.nodes=[];return}const X=b.encloseBrace(W);let J=W.queue,ce=W;for(;ce.type!=="brace"&&ce.type!=="root"&&ce.parent;)ce=ce.parent,J=ce.queue;for(let D=0;D<W.nodes.length;D++){const M=W.nodes[D];if(M.type==="comma"&&W.type==="brace"){D===1&&J.push(""),J.push("");continue}if(M.type==="close"){L.push(g(L.pop(),J,X));continue}if(M.value&&M.type!=="open"){J.push(g(J.pop(),M.value));continue}M.nodes&&B(M,W)}return J},"walk");return b.flatten(B(k))},"expand");Ve.exports=$},5870:(Ve,d,y)=>{"use strict";const w=y(8641),{MAX_LENGTH:h,CHAR_BACKSLASH:b,CHAR_BACKTICK:g,CHAR_COMMA:$,CHAR_DOT:k,CHAR_LEFT_PARENTHESES:v,CHAR_RIGHT_PARENTHESES:p,CHAR_LEFT_CURLY_BRACE:B,CHAR_RIGHT_CURLY_BRACE:W,CHAR_LEFT_SQUARE_BRACKET:P,CHAR_RIGHT_SQUARE_BRACKET:F,CHAR_DOUBLE_QUOTE:L,CHAR_SINGLE_QUOTE:X,CHAR_NO_BREAK_SPACE:J,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ce}=y(7007),D=a((M,I={})=>{if(typeof M!="string")throw new TypeError("Expected a string");const m=I||{},R=typeof m.maxLength=="number"?Math.min(h,m.maxLength):h;if(M.length>R)throw new SyntaxError(`Input length (${M.length}), exceeds max characters (${R})`);const T={type:"root",input:M,nodes:[]},G=[T];let K=T,Y=T,re=0;const ve=M.length;let V=0,fe=0,N;const Ne=a(()=>M[V++],"advance"),ue=a(ee=>{if(ee.type==="text"&&Y.type==="dot"&&(Y.type="text"),Y&&Y.type==="text"&&ee.type==="text"){Y.value+=ee.value;return}return K.nodes.push(ee),ee.parent=K,ee.prev=Y,Y=ee,ee},"push");for(ue({type:"bos"});V<ve;)if(K=G[G.length-1],N=Ne(),!(N===ce||N===J)){if(N===b){ue({type:"text",value:(I.keepEscaping?N:"")+Ne()});continue}if(N===F){ue({type:"text",value:"\\"+N});continue}if(N===P){re++;let ee;for(;V<ve&&(ee=Ne());){if(N+=ee,ee===P){re++;continue}if(ee===b){N+=Ne();continue}if(ee===F&&(re--,re===0))break}ue({type:"text",value:N});continue}if(N===v){K=ue({type:"paren",nodes:[]}),G.push(K),ue({type:"text",value:N});continue}if(N===p){if(K.type!=="paren"){ue({type:"text",value:N});continue}K=G.pop(),ue({type:"text",value:N}),K=G[G.length-1];continue}if(N===L||N===X||N===g){const ee=N;let z;for(I.keepQuotes!==!0&&(N="");V<ve&&(z=Ne());){if(z===b){N+=z+Ne();continue}if(z===ee){I.keepQuotes===!0&&(N+=z);break}N+=z}ue({type:"text",value:N});continue}if(N===B){fe++;const ee=Y.value&&Y.value.slice(-1)==="$"||K.dollar===!0;K=ue({type:"brace",open:!0,close:!1,dollar:ee,depth:fe,commas:0,ranges:0,nodes:[]}),G.push(K),ue({type:"open",value:N});continue}if(N===W){if(K.type!=="brace"){ue({type:"text",value:N});continue}const ee="close";K=G.pop(),K.close=!0,ue({type:ee,value:N}),fe--,K=G[G.length-1];continue}if(N===$&&fe>0){if(K.ranges>0){K.ranges=0;const ee=K.nodes.shift();K.nodes=[ee,{type:"text",value:w(K)}]}ue({type:"comma",value:N}),K.commas++;continue}if(N===k&&fe>0&&K.commas===0){const ee=K.nodes;if(fe===0||ee.length===0){ue({type:"text",value:N});continue}if(Y.type==="dot"){if(K.range=[],Y.value+=N,Y.type="range",K.nodes.length!==3&&K.nodes.length!==5){K.invalid=!0,K.ranges=0,Y.type="text";continue}K.ranges++,K.args=[];continue}if(Y.type==="range"){ee.pop();const z=ee[ee.length-1];z.value+=Y.value+N,Y=z,K.ranges--;continue}ue({type:"dot",value:N});continue}ue({type:"text",value:N})}do if(K=G.pop(),K.type!=="root"){K.nodes.forEach(se=>{se.nodes||(se.type==="open"&&(se.isOpen=!0),se.type==="close"&&(se.isClose=!0),se.nodes||(se.type="text"),se.invalid=!0)});const ee=G[G.length-1],z=ee.nodes.indexOf(K);ee.nodes.splice(z,1,...K.nodes)}while(G.length>0);return ue({type:"eos"}),T},"parse");Ve.exports=D},8641:(Ve,d,y)=>{"use strict";const w=y(3596);Ve.exports=(h,b={})=>{const g=a(($,k={})=>{const v=b.escapeInvalid&&w.isInvalidBrace(k),p=$.invalid===!0&&b.escapeInvalid===!0;let B="";if($.value)return(v||p)&&w.isOpenOrClose($)?"\\"+$.value:$.value;if($.value)return $.value;if($.nodes)for(const W of $.nodes)B+=g(W);return B},"stringify");return g(h)}},3596:(Ve,d)=>{"use strict";d.isInteger=y=>typeof y=="number"?Number.isInteger(y):typeof y=="string"&&y.trim()!==""?Number.isInteger(Number(y)):!1,d.find=(y,w)=>y.nodes.find(h=>h.type===w),d.exceedsLimit=(y,w,h=1,b)=>b===!1||!d.isInteger(y)||!d.isInteger(w)?!1:(Number(w)-Number(y))/Number(h)>=b,d.escapeNode=(y,w=0,h)=>{const b=y.nodes[w];!b||(h&&b.type===h||b.type==="open"||b.type==="close")&&b.escaped!==!0&&(b.value="\\"+b.value,b.escaped=!0)},d.encloseBrace=y=>y.type!=="brace"?!1:y.commas>>0+y.ranges>>0==0?(y.invalid=!0,!0):!1,d.isInvalidBrace=y=>y.type!=="brace"?!1:y.invalid===!0||y.dollar?!0:y.commas>>0+y.ranges>>0==0||y.open!==!0||y.close!==!0?(y.invalid=!0,!0):!1,d.isOpenOrClose=y=>y.type==="open"||y.type==="close"?!0:y.open===!0||y.close===!0,d.reduce=y=>y.reduce((w,h)=>(h.type==="text"&&w.push(h.value),h.type==="range"&&(h.type="text"),w),[]),d.flatten=(...y)=>{const w=[],h=a(b=>{for(let g=0;g<b.length;g++){const $=b[g];if(Array.isArray($)){h($);continue}$!==void 0&&w.push($)}return w},"flat");return h(y),w}},1516:(Ve,d,y)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const w=y(6529),h=y(2999),b=a(m=>m!==null&&typeof m=="object"&&!Array.isArray(m),"isObject"),g=a(m=>R=>m===!0?Number(R):String(R),"transform"),$=a(m=>typeof m=="number"||typeof m=="string"&&m!=="","isValidValue"),k=a(m=>Number.isInteger(+m),"isNumber"),v=a(m=>{let R=`${m}`,T=-1;if(R[0]==="-"&&(R=R.slice(1)),R==="0")return!1;for(;R[++T]==="0";);return T>0},"zeros"),p=a((m,R,T)=>typeof m=="string"||typeof R=="string"?!0:T.stringify===!0,"stringify"),B=a((m,R,T)=>{if(R>0){let G=m[0]==="-"?"-":"";G&&(m=m.slice(1)),m=G+m.padStart(G?R-1:R,"0")}return T===!1?String(m):m},"pad"),W=a((m,R)=>{let T=m[0]==="-"?"-":"";for(T&&(m=m.slice(1),R--);m.length<R;)m="0"+m;return T?"-"+m:m},"toMaxLen"),P=a((m,R,T)=>{m.negatives.sort((ve,V)=>ve<V?-1:ve>V?1:0),m.positives.sort((ve,V)=>ve<V?-1:ve>V?1:0);let G=R.capture?"":"?:",K="",Y="",re;return m.positives.length&&(K=m.positives.map(ve=>W(String(ve),T)).join("|")),m.negatives.length&&(Y=`-(${G}${m.negatives.map(ve=>W(String(ve),T)).join("|")})`),K&&Y?re=`${K}|${Y}`:re=K||Y,R.wrap?`(${G}${re})`:re},"toSequence"),F=a((m,R,T,G)=>{if(T)return h(m,R,{wrap:!1,...G});let K=String.fromCharCode(m);if(m===R)return K;let Y=String.fromCharCode(R);return`[${K}-${Y}]`},"toRange"),L=a((m,R,T)=>{if(Array.isArray(m)){let G=T.wrap===!0,K=T.capture?"":"?:";return G?`(${K}${m.join("|")})`:m.join("|")}return h(m,R,T)},"toRegex"),X=a((...m)=>new RangeError("Invalid range arguments: "+w.inspect(...m)),"rangeError"),J=a((m,R,T)=>{if(T.strictRanges===!0)throw X([m,R]);return[]},"invalidRange"),ce=a((m,R)=>{if(R.strictRanges===!0)throw new TypeError(`Expected step "${m}" to be a number`);return[]},"invalidStep"),D=a((m,R,T=1,G={})=>{let K=Number(m),Y=Number(R);if(!Number.isInteger(K)||!Number.isInteger(Y)){if(G.strictRanges===!0)throw X([m,R]);return[]}K===0&&(K=0),Y===0&&(Y=0);let re=K>Y,ve=String(m),V=String(R),fe=String(T);T=Math.max(Math.abs(T),1);let N=v(ve)||v(V)||v(fe),Ne=N?Math.max(ve.length,V.length,fe.length):0,ue=N===!1&&p(m,R,G)===!1,ee=G.transform||g(ue);if(G.toRegex&&T===1)return F(W(m,Ne),W(R,Ne),!0,G);let z={negatives:[],positives:[]},se=a(te=>z[te<0?"negatives":"positives"].push(Math.abs(te)),"push"),Ee=[],Le=0;for(;re?K>=Y:K<=Y;)G.toRegex===!0&&T>1?se(K):Ee.push(B(ee(K,Le),Ne,ue)),K=re?K-T:K+T,Le++;return G.toRegex===!0?T>1?P(z,G,Ne):L(Ee,null,{wrap:!1,...G}):Ee},"fillNumbers"),M=a((m,R,T=1,G={})=>{if(!k(m)&&m.length>1||!k(R)&&R.length>1)return J(m,R,G);let K=G.transform||(ue=>String.fromCharCode(ue)),Y=`${m}`.charCodeAt(0),re=`${R}`.charCodeAt(0),ve=Y>re,V=Math.min(Y,re),fe=Math.max(Y,re);if(G.toRegex&&T===1)return F(V,fe,!1,G);let N=[],Ne=0;for(;ve?Y>=re:Y<=re;)N.push(K(Y,Ne)),Y=ve?Y-T:Y+T,Ne++;return G.toRegex===!0?L(N,null,{wrap:!1,options:G}):N},"fillLetters"),I=a((m,R,T,G={})=>{if(R==null&&$(m))return[m];if(!$(m)||!$(R))return J(m,R,G);if(typeof T=="function")return I(m,R,1,{transform:T});if(b(T))return I(m,R,0,T);let K={...G};return K.capture===!0&&(K.wrap=!0),T=T||K.step||1,k(T)?k(m)&&k(R)?D(m,R,T,K):M(m,R,Math.max(Math.abs(T),1),K):T!=null&&!b(T)?ce(T,K):I(m,R,1,T)},"fill");Ve.exports=I},3338:Ve=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */Ve.exports=function(d){return typeof d=="number"?d-d==0:typeof d=="string"&&d.trim()!==""?Number.isFinite?Number.isFinite(+d):isFinite(+d):!1}},5179:(Ve,d,y)=>{Ve=y.nmd(Ve);var w=200,h="__lodash_hash_undefined__",b=1,g=2,$=9007199254740991,k="[object Arguments]",v="[object Array]",p="[object AsyncFunction]",B="[object Boolean]",W="[object Date]",P="[object Error]",F="[object Function]",L="[object GeneratorFunction]",X="[object Map]",J="[object Number]",ce="[object Null]",D="[object Object]",M="[object Promise]",I="[object Proxy]",m="[object RegExp]",R="[object Set]",T="[object String]",G="[object Symbol]",K="[object Undefined]",Y="[object WeakMap]",re="[object ArrayBuffer]",ve="[object DataView]",V="[object Float32Array]",fe="[object Float64Array]",N="[object Int8Array]",Ne="[object Int16Array]",ue="[object Int32Array]",ee="[object Uint8Array]",z="[object Uint8ClampedArray]",se="[object Uint16Array]",Ee="[object Uint32Array]",Le=/[\\^$.*+?()[\]{}|]/g,te=/^\[object .+?Constructor\]$/,Be=/^(?:0|[1-9]\d*)$/,Ke={};Ke[V]=Ke[fe]=Ke[N]=Ke[Ne]=Ke[ue]=Ke[ee]=Ke[z]=Ke[se]=Ke[Ee]=!0,Ke[k]=Ke[v]=Ke[re]=Ke[B]=Ke[ve]=Ke[W]=Ke[P]=Ke[F]=Ke[X]=Ke[J]=Ke[D]=Ke[m]=Ke[R]=Ke[T]=Ke[Y]=!1;var Je=typeof y.g=="object"&&y.g&&y.g.Object===Object&&y.g,U=typeof self=="object"&&self&&self.Object===Object&&self,j=Je||U||Function("return this")(),Z=d&&!d.nodeType&&d,he=Z&&!0&&Ve&&!Ve.nodeType&&Ve,De=he&&he.exports===Z,be=De&&Je.process,le=function(){try{return be&&be.binding&&be.binding("util")}catch(O){}}(),ye=le&&le.isTypedArray;function Ae(O,Q){for(var xe=-1,qe=O==null?0:O.length,bt=0,Ct=[];++xe<qe;){var Vt=O[xe];Q(Vt,xe,O)&&(Ct[bt++]=Vt)}return Ct}a(Ae,"arrayFilter");function He(O,Q){for(var xe=-1,qe=Q.length,bt=O.length;++xe<qe;)O[bt+xe]=Q[xe];return O}a(He,"arrayPush");function Ie(O,Q){for(var xe=-1,qe=O==null?0:O.length;++xe<qe;)if(Q(O[xe],xe,O))return!0;return!1}a(Ie,"arraySome");function Re(O,Q){for(var xe=-1,qe=Array(O);++xe<O;)qe[xe]=Q(xe);return qe}a(Re,"baseTimes");function q(O){return function(Q){return O(Q)}}a(q,"baseUnary");function Ce(O,Q){return O.has(Q)}a(Ce,"cacheHas");function ie(O,Q){return O==null?void 0:O[Q]}a(ie,"getValue");function ae(O){var Q=-1,xe=Array(O.size);return O.forEach(function(qe,bt){xe[++Q]=[bt,qe]}),xe}a(ae,"mapToArray");function $e(O,Q){return function(xe){return O(Q(xe))}}a($e,"overArg");function ht(O){var Q=-1,xe=Array(O.size);return O.forEach(function(qe){xe[++Q]=qe}),xe}a(ht,"setToArray");var Mt=Array.prototype,mn=Function.prototype,an=Object.prototype,jn=j["__core-js_shared__"],Un=mn.toString,bn=an.hasOwnProperty,ir=function(){var O=/[^.]+$/.exec(jn&&jn.keys&&jn.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}(),ur=an.toString,Or=RegExp("^"+Un.call(bn).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=De?j.Buffer:void 0,Rt=j.Symbol,kt=j.Uint8Array,Bt=an.propertyIsEnumerable,Gt=Mt.splice,gn=Rt?Rt.toStringTag:void 0,kn=Object.getOwnPropertySymbols,ar=rt?rt.isBuffer:void 0,Wn=$e(Object.keys,Object),An=Zr(j,"DataView"),wr=Zr(j,"Map"),Vn=Zr(j,"Promise"),zn=Zr(j,"Set"),lr=Zr(j,"WeakMap"),Sn=Zr(Object,"create"),Fr=Tt(An),Jn=Tt(wr),Mr=Tt(Vn),Kr=Tt(zn),jr=Tt(lr),yr=Rt?Rt.prototype:void 0,A=yr?yr.valueOf:void 0;function de(O){var Q=-1,xe=O==null?0:O.length;for(this.clear();++Q<xe;){var qe=O[Q];this.set(qe[0],qe[1])}}a(de,"Hash");function Se(){this.__data__=Sn?Sn(null):{},this.size=0}a(Se,"hashClear");function Oe(O){var Q=this.has(O)&&delete this.__data__[O];return this.size-=Q?1:0,Q}a(Oe,"hashDelete");function Qe(O){var Q=this.__data__;if(Sn){var xe=Q[O];return xe===h?void 0:xe}return bn.call(Q,O)?Q[O]:void 0}a(Qe,"hashGet");function je(O){var Q=this.__data__;return Sn?Q[O]!==void 0:bn.call(Q,O)}a(je,"hashHas");function tt(O,Q){var xe=this.__data__;return this.size+=this.has(O)?0:1,xe[O]=Sn&&Q===void 0?h:Q,this}a(tt,"hashSet"),de.prototype.clear=Se,de.prototype.delete=Oe,de.prototype.get=Qe,de.prototype.has=je,de.prototype.set=tt;function dt(O){var Q=-1,xe=O==null?0:O.length;for(this.clear();++Q<xe;){var qe=O[Q];this.set(qe[0],qe[1])}}a(dt,"ListCache");function _t(){this.__data__=[],this.size=0}a(_t,"listCacheClear");function $t(O){var Q=this.__data__,xe=fr(Q,O);if(xe<0)return!1;var qe=Q.length-1;return xe==qe?Q.pop():Gt.call(Q,xe,1),--this.size,!0}a($t,"listCacheDelete");function lt(O){var Q=this.__data__,xe=fr(Q,O);return xe<0?void 0:Q[xe][1]}a(lt,"listCacheGet");function Lt(O){return fr(this.__data__,O)>-1}a(Lt,"listCacheHas");function Et(O,Q){var xe=this.__data__,qe=fr(xe,O);return qe<0?(++this.size,xe.push([O,Q])):xe[qe][1]=Q,this}a(Et,"listCacheSet"),dt.prototype.clear=_t,dt.prototype.delete=$t,dt.prototype.get=lt,dt.prototype.has=Lt,dt.prototype.set=Et;function wt(O){var Q=-1,xe=O==null?0:O.length;for(this.clear();++Q<xe;){var qe=O[Q];this.set(qe[0],qe[1])}}a(wt,"MapCache");function yt(){this.size=0,this.__data__={hash:new de,map:new(wr||dt),string:new de}}a(yt,"mapCacheClear");function Rn(O){var Q=Er(this,O).delete(O);return this.size-=Q?1:0,Q}a(Rn,"mapCacheDelete");function sn(O){return Er(this,O).get(O)}a(sn,"mapCacheGet");function cr(O){return Er(this,O).has(O)}a(cr,"mapCacheHas");function Bn(O,Q){var xe=Er(this,O),qe=xe.size;return xe.set(O,Q),this.size+=xe.size==qe?0:1,this}a(Bn,"mapCacheSet"),wt.prototype.clear=yt,wt.prototype.delete=Rn,wt.prototype.get=sn,wt.prototype.has=cr,wt.prototype.set=Bn;function tr(O){var Q=-1,xe=O==null?0:O.length;for(this.__data__=new wt;++Q<xe;)this.add(O[Q])}a(tr,"SetCache");function Lr(O){return this.__data__.set(O,h),this}a(Lr,"setCacheAdd");function Nr(O){return this.__data__.has(O)}a(Nr,"setCacheHas"),tr.prototype.add=tr.prototype.push=Lr,tr.prototype.has=Nr;function Qn(O){var Q=this.__data__=new dt(O);this.size=Q.size}a(Qn,"Stack");function nr(){this.__data__=new dt,this.size=0}a(nr,"stackClear");function Nt(O){var Q=this.__data__,xe=Q.delete(O);return this.size=Q.size,xe}a(Nt,"stackDelete");function In(O){return this.__data__.get(O)}a(In,"stackGet");function wn(O){return this.__data__.has(O)}a(wn,"stackHas");function fn(O,Q){var xe=this.__data__;if(xe instanceof dt){var qe=xe.__data__;if(!wr||qe.length<w-1)return qe.push([O,Q]),this.size=++xe.size,this;xe=this.__data__=new wt(qe)}return xe.set(O,Q),this.size=xe.size,this}a(fn,"stackSet"),Qn.prototype.clear=nr,Qn.prototype.delete=Nt,Qn.prototype.get=In,Qn.prototype.has=wn,Qn.prototype.set=fn;function Nn(O,Q){var xe=Ht(O),qe=!xe&&at(O),bt=!xe&&!qe&&en(O),Ct=!xe&&!qe&&!bt&&It(O),Vt=xe||qe||bt||Ct,qt=Vt?Re(O.length,String):[],zt=qt.length;for(var Zt in O)(Q||bn.call(O,Zt))&&!(Vt&&(Zt=="length"||bt&&(Zt=="offset"||Zt=="parent")||Ct&&(Zt=="buffer"||Zt=="byteLength"||Zt=="byteOffset")||ui(Zt,zt)))&&qt.push(Zt);return qt}a(Nn,"arrayLikeKeys");function fr(O,Q){for(var xe=O.length;xe--;)if(Ft(O[xe][0],Q))return xe;return-1}a(fr,"assocIndexOf");function mr(O,Q,xe){var qe=Q(O);return Ht(O)?qe:He(qe,xe(O))}a(mr,"baseGetAllKeys");function xr(O){return O==null?O===void 0?K:ce:gn&&gn in Object(O)?_i(O):Ze(O)}a(xr,"baseGetTag");function ei(O){return yn(O)&&xr(O)==k}a(ei,"baseIsArguments");function pi(O,Q,xe,qe,bt){return O===Q?!0:O==null||Q==null||!yn(O)&&!yn(Q)?O!==O&&Q!==Q:ti(O,Q,xe,qe,pi,bt)}a(pi,"baseIsEqual");function ti(O,Q,xe,qe,bt,Ct){var Vt=Ht(O),qt=Ht(Q),zt=Vt?v:$r(O),Zt=qt?v:$r(Q);zt=zt==k?D:zt,Zt=Zt==k?D:Zt;var Jt=zt==D,Ot=Zt==D,ut=zt==Zt;if(ut&&en(O)){if(!en(Q))return!1;Vt=!0,Jt=!1}if(ut&&!Jt)return Ct||(Ct=new Qn),Vt||It(O)?Ti(O,Q,xe,qe,bt,Ct):dr(O,Q,zt,xe,qe,bt,Ct);if(!(xe&b)){var dn=Jt&&bn.call(O,"__wrapped__"),hn=Ot&&bn.call(Q,"__wrapped__");if(dn||hn){var En=dn?O.value():O,Hn=hn?Q.value():Q;return Ct||(Ct=new Qn),bt(En,Hn,xe,qe,Ct)}}return ut?(Ct||(Ct=new Qn),ni(O,Q,xe,qe,bt,Ct)):!1}a(ti,"baseIsEqualDeep");function Pi(O){if(!sr(O)||Ge(O))return!1;var Q=$n(O)?Or:te;return Q.test(Tt(O))}a(Pi,"baseIsNative");function et(O){return yn(O)&&On(O.length)&&!!Ke[xr(O)]}a(et,"baseIsTypedArray");function mi(O){if(!st(O))return Wn(O);var Q=[];for(var xe in Object(O))bn.call(O,xe)&&xe!="constructor"&&Q.push(xe);return Q}a(mi,"baseKeys");function Ti(O,Q,xe,qe,bt,Ct){var Vt=xe&b,qt=O.length,zt=Q.length;if(qt!=zt&&!(Vt&&zt>qt))return!1;var Zt=Ct.get(O);if(Zt&&Ct.get(Q))return Zt==Q;var Jt=-1,Ot=!0,ut=xe&g?new tr:void 0;for(Ct.set(O,Q),Ct.set(Q,O);++Jt<qt;){var dn=O[Jt],hn=Q[Jt];if(qe)var En=Vt?qe(hn,dn,Jt,Q,O,Ct):qe(dn,hn,Jt,O,Q,Ct);if(En!==void 0){if(En)continue;Ot=!1;break}if(ut){if(!Ie(Q,function(Hn,xt){if(!Ce(ut,xt)&&(dn===Hn||bt(dn,Hn,xe,qe,Ct)))return ut.push(xt)})){Ot=!1;break}}else if(!(dn===hn||bt(dn,hn,xe,qe,Ct))){Ot=!1;break}}return Ct.delete(O),Ct.delete(Q),Ot}a(Ti,"equalArrays");function dr(O,Q,xe,qe,bt,Ct,Vt){switch(xe){case ve:if(O.byteLength!=Q.byteLength||O.byteOffset!=Q.byteOffset)return!1;O=O.buffer,Q=Q.buffer;case re:return!(O.byteLength!=Q.byteLength||!Ct(new kt(O),new kt(Q)));case B:case W:case J:return Ft(+O,+Q);case P:return O.name==Q.name&&O.message==Q.message;case m:case T:return O==Q+"";case X:var qt=ae;case R:var zt=qe&b;if(qt||(qt=ht),O.size!=Q.size&&!zt)return!1;var Zt=Vt.get(O);if(Zt)return Zt==Q;qe|=g,Vt.set(O,Q);var Jt=Ti(qt(O),qt(Q),qe,bt,Ct,Vt);return Vt.delete(O),Jt;case G:if(A)return A.call(O)==A.call(Q)}return!1}a(dr,"equalByTag");function ni(O,Q,xe,qe,bt,Ct){var Vt=xe&b,qt=Yr(O),zt=qt.length,Zt=Yr(Q),Jt=Zt.length;if(zt!=Jt&&!Vt)return!1;for(var Ot=zt;Ot--;){var ut=qt[Ot];if(!(Vt?ut in Q:bn.call(Q,ut)))return!1}var dn=Ct.get(O);if(dn&&Ct.get(Q))return dn==Q;var hn=!0;Ct.set(O,Q),Ct.set(Q,O);for(var En=Vt;++Ot<zt;){ut=qt[Ot];var Hn=O[ut],xt=Q[ut];if(qe)var Cr=Vt?qe(xt,Hn,ut,Q,O,Ct):qe(Hn,xt,ut,O,Q,Ct);if(!(Cr===void 0?Hn===xt||bt(Hn,xt,xe,qe,Ct):Cr)){hn=!1;break}En||(En=ut=="constructor")}if(hn&&!En){var Xn=O.constructor,_n=Q.constructor;Xn!=_n&&"constructor"in O&&"constructor"in Q&&!(typeof Xn=="function"&&Xn instanceof Xn&&typeof _n=="function"&&_n instanceof _n)&&(hn=!1)}return Ct.delete(O),Ct.delete(Q),hn}a(ni,"equalObjects");function Yr(O){return mr(O,Wt,Bi)}a(Yr,"getAllKeys");function Er(O,Q){var xe=O.__data__;return Pe(Q)?xe[typeof Q=="string"?"string":"hash"]:xe.map}a(Er,"getMapData");function Zr(O,Q){var xe=ie(O,Q);return Pi(xe)?xe:void 0}a(Zr,"getNative");function _i(O){var Q=bn.call(O,gn),xe=O[gn];try{O[gn]=void 0;var qe=!0}catch(Ct){}var bt=ur.call(O);return qe&&(Q?O[gn]=xe:delete O[gn]),bt}a(_i,"getRawTag");var Bi=kn?function(O){return O==null?[]:(O=Object(O),Ae(kn(O),function(Q){return Bt.call(O,Q)}))}:tn,$r=xr;(An&&$r(new An(new ArrayBuffer(1)))!=ve||wr&&$r(new wr)!=X||Vn&&$r(Vn.resolve())!=M||zn&&$r(new zn)!=R||lr&&$r(new lr)!=Y)&&($r=a(function(O){var Q=xr(O),xe=Q==D?O.constructor:void 0,qe=xe?Tt(xe):"";if(qe)switch(qe){case Fr:return ve;case Jn:return X;case Mr:return M;case Kr:return R;case jr:return Y}return Q},"getTag"));function ui(O,Q){return Q=Q==null?$:Q,!!Q&&(typeof O=="number"||Be.test(O))&&O>-1&&O%1==0&&O<Q}a(ui,"isIndex");function Pe(O){var Q=typeof O;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?O!=="__proto__":O===null}a(Pe,"isKeyable");function Ge(O){return!!ir&&ir in O}a(Ge,"isMasked");function st(O){var Q=O&&O.constructor,xe=typeof Q=="function"&&Q.prototype||an;return O===xe}a(st,"isPrototype");function Ze(O){return ur.call(O)}a(Ze,"objectToString");function Tt(O){if(O!=null){try{return Un.call(O)}catch(Q){}try{return O+""}catch(Q){}}return""}a(Tt,"toSource");function Ft(O,Q){return O===Q||O!==O&&Q!==Q}a(Ft,"eq");var at=ei(function(){return arguments}())?ei:function(O){return yn(O)&&bn.call(O,"callee")&&!Bt.call(O,"callee")},Ht=Array.isArray;function Pt(O){return O!=null&&On(O.length)&&!$n(O)}a(Pt,"isArrayLike");var en=ar||nn;function on(O,Q){return pi(O,Q)}a(on,"isEqual");function $n(O){if(!sr(O))return!1;var Q=xr(O);return Q==F||Q==L||Q==p||Q==I}a($n,"isFunction");function On(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=$}a(On,"isLength");function sr(O){var Q=typeof O;return O!=null&&(Q=="object"||Q=="function")}a(sr,"isObject");function yn(O){return O!=null&&typeof O=="object"}a(yn,"isObjectLike");var It=ye?q(ye):et;function Wt(O){return Pt(O)?Nn(O):mi(O)}a(Wt,"keys");function tn(){return[]}a(tn,"stubArray");function nn(){return!1}a(nn,"stubFalse"),Ve.exports=on},919:(Ve,d,y)=>{"use strict";const w=y(6391),h=y(6232),b=y(6796),g=y(292),$=a(v=>v===""||v==="./","isEmptyString"),k=a((v,p,B)=>{p=[].concat(p),v=[].concat(v);let W=new Set,P=new Set,F=new Set,L=0,X=a(D=>{F.add(D.output),B&&B.onResult&&B.onResult(D)},"onResult");for(let D=0;D<p.length;D++){let M=b(String(p[D]),{...B,onResult:X},!0),I=M.state.negated||M.state.negatedExtglob;I&&L++;for(let m of v){let R=M(m,!0);!(I?!R.isMatch:R.isMatch)||(I?W.add(R.output):(W.delete(R.output),P.add(R.output)))}}let ce=(L===p.length?[...F]:[...P]).filter(D=>!W.has(D));if(B&&ce.length===0){if(B.failglob===!0)throw new Error(`No matches found for "${p.join(", ")}"`);if(B.nonull===!0||B.nullglob===!0)return B.unescape?p.map(D=>D.replace(/\\/g,"")):p}return ce},"micromatch");k.match=k,k.matcher=(v,p)=>b(v,p),k.isMatch=(v,p,B)=>b(p,B)(v),k.any=k.isMatch,k.not=(v,p,B={})=>{p=[].concat(p).map(String);let W=new Set,P=[],F=a(X=>{B.onResult&&B.onResult(X),P.push(X.output)},"onResult"),L=new Set(k(v,p,{...B,onResult:F}));for(let X of P)L.has(X)||W.add(X);return[...W]},k.contains=(v,p,B)=>{if(typeof v!="string")throw new TypeError(`Expected a string: "${w.inspect(v)}"`);if(Array.isArray(p))return p.some(W=>k.contains(v,W,B));if(typeof p=="string"){if($(v)||$(p))return!1;if(v.includes(p)||v.startsWith("./")&&v.slice(2).includes(p))return!0}return k.isMatch(v,p,{...B,contains:!0})},k.matchKeys=(v,p,B)=>{if(!g.isObject(v))throw new TypeError("Expected the first argument to be an object");let W=k(Object.keys(v),p,B),P={};for(let F of W)P[F]=v[F];return P},k.some=(v,p,B)=>{let W=[].concat(v);for(let P of[].concat(p)){let F=b(String(P),B);if(W.some(L=>F(L)))return!0}return!1},k.every=(v,p,B)=>{let W=[].concat(v);for(let P of[].concat(p)){let F=b(String(P),B);if(!W.every(L=>F(L)))return!1}return!0},k.all=(v,p,B)=>{if(typeof v!="string")throw new TypeError(`Expected a string: "${w.inspect(v)}"`);return[].concat(p).every(W=>b(W,B)(v))},k.capture=(v,p,B)=>{let W=g.isWindows(B),F=b.makeRe(String(v),{...B,capture:!0}).exec(W?g.toPosixSlashes(p):p);if(F)return F.slice(1).map(L=>L===void 0?"":L)},k.makeRe=(...v)=>b.makeRe(...v),k.scan=(...v)=>b.scan(...v),k.parse=(v,p)=>{let B=[];for(let W of[].concat(v||[]))for(let P of h(String(W),p))B.push(b.parse(P,p));return B},k.braces=(v,p)=>{if(typeof v!="string")throw new TypeError("Expected a string");return p&&p.nobrace===!0||!/\{.*\}/.test(v)?[v]:h(v,p)},k.braceExpand=(v,p)=>{if(typeof v!="string")throw new TypeError("Expected a string");return k.braces(v,{...p,expand:!0})},Ve.exports=k},6796:(Ve,d,y)=>{"use strict";Ve.exports=y(5761)},3889:(Ve,d,y)=>{"use strict";const w=y(6470),h="\\\\/",b=`[^${h}]`,g="\\.",$="\\+",k="\\?",v="\\/",p="(?=.)",B="[^/]",W=`(?:${v}|$)`,P=`(?:^|${v})`,F=`${g}{1,2}${W}`,L=`(?!${g})`,X=`(?!${P}${F})`,J=`(?!${g}{0,1}${W})`,ce=`(?!${F})`,D=`[^.${v}]`,M=`${B}*?`,I={DOT_LITERAL:g,PLUS_LITERAL:$,QMARK_LITERAL:k,SLASH_LITERAL:v,ONE_CHAR:p,QMARK:B,END_ANCHOR:W,DOTS_SLASH:F,NO_DOT:L,NO_DOTS:X,NO_DOT_SLASH:J,NO_DOTS_SLASH:ce,QMARK_NO_DOT:D,STAR:M,START_ANCHOR:P},m={...I,SLASH_LITERAL:`[${h}]`,QMARK:b,STAR:`${b}*?`,DOTS_SLASH:`${g}{1,2}(?:[${h}]|$)`,NO_DOT:`(?!${g})`,NO_DOTS:`(?!(?:^|[${h}])${g}{1,2}(?:[${h}]|$))`,NO_DOT_SLASH:`(?!${g}{0,1}(?:[${h}]|$))`,NO_DOTS_SLASH:`(?!${g}{1,2}(?:[${h}]|$))`,QMARK_NO_DOT:`[^.${h}]`,START_ANCHOR:`(?:^|[${h}])`,END_ANCHOR:`(?:[${h}]|$)`},R={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ve.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:R,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:w.sep,extglobChars(T){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${T.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(T){return T===!0?m:I}}},3969:(Ve,d,y)=>{"use strict";const w=y(3889),h=y(292),{MAX_LENGTH:b,POSIX_REGEX_SOURCE:g,REGEX_NON_SPECIAL_CHARS:$,REGEX_SPECIAL_CHARS_BACKREF:k,REPLACEMENTS:v}=w,p=a((P,F)=>{if(typeof F.expandRange=="function")return F.expandRange(...P,F);P.sort();const L=`[${P.join("-")}]`;try{new RegExp(L)}catch(X){return P.map(J=>h.escapeRegex(J)).join("..")}return L},"expandRange"),B=a((P,F)=>`Missing ${P}: "${F}" - use "\\\\${F}" to match literal characters`,"syntaxError"),W=a((P,F)=>{if(typeof P!="string")throw new TypeError("Expected a string");P=v[P]||P;const L={...F},X=typeof L.maxLength=="number"?Math.min(b,L.maxLength):b;let J=P.length;if(J>X)throw new SyntaxError(`Input length: ${J}, exceeds maximum allowed length: ${X}`);const ce={type:"bos",value:"",output:L.prepend||""},D=[ce],M=L.capture?"":"?:",I=h.isWindows(F),m=w.globChars(I),R=w.extglobChars(m),{DOT_LITERAL:T,PLUS_LITERAL:G,SLASH_LITERAL:K,ONE_CHAR:Y,DOTS_SLASH:re,NO_DOT:ve,NO_DOT_SLASH:V,NO_DOTS_SLASH:fe,QMARK:N,QMARK_NO_DOT:Ne,STAR:ue,START_ANCHOR:ee}=m,z=a(ie=>`(${M}(?:(?!${ee}${ie.dot?re:T}).)*?)`,"globstar"),se=L.dot?"":ve,Ee=L.dot?N:Ne;let Le=L.bash===!0?z(L):ue;L.capture&&(Le=`(${Le})`),typeof L.noext=="boolean"&&(L.noextglob=L.noext);const te={input:P,index:-1,start:0,dot:L.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:D};P=h.removePrefix(P,te),J=P.length;const Be=[],Ke=[],Je=[];let U=ce,j;const Z=a(()=>te.index===J-1,"eos"),he=te.peek=(ie=1)=>P[te.index+ie],De=te.advance=()=>P[++te.index]||"",be=a(()=>P.slice(te.index+1),"remaining"),le=a((ie="",ae=0)=>{te.consumed+=ie,te.index+=ae},"consume"),ye=a(ie=>{te.output+=ie.output!=null?ie.output:ie.value,le(ie.value)},"append"),Ae=a(()=>{let ie=1;for(;he()==="!"&&(he(2)!=="("||he(3)==="?");)De(),te.start++,ie++;return ie%2==0?!1:(te.negated=!0,te.start++,!0)},"negate"),He=a(ie=>{te[ie]++,Je.push(ie)},"increment"),Ie=a(ie=>{te[ie]--,Je.pop()},"decrement"),Re=a(ie=>{if(U.type==="globstar"){const ae=te.braces>0&&(ie.type==="comma"||ie.type==="brace"),$e=ie.extglob===!0||Be.length&&(ie.type==="pipe"||ie.type==="paren");ie.type!=="slash"&&ie.type!=="paren"&&!ae&&!$e&&(te.output=te.output.slice(0,-U.output.length),U.type="star",U.value="*",U.output=Le,te.output+=U.output)}if(Be.length&&ie.type!=="paren"&&(Be[Be.length-1].inner+=ie.value),(ie.value||ie.output)&&ye(ie),U&&U.type==="text"&&ie.type==="text"){U.value+=ie.value,U.output=(U.output||"")+ie.value;return}ie.prev=U,D.push(ie),U=ie},"push"),q=a((ie,ae)=>{const $e={...R[ae],conditions:1,inner:""};$e.prev=U,$e.parens=te.parens,$e.output=te.output;const ht=(L.capture?"(":"")+$e.open;He("parens"),Re({type:ie,value:ae,output:te.output?"":Y}),Re({type:"paren",extglob:!0,value:De(),output:ht}),Be.push($e)},"extglobOpen"),Ce=a(ie=>{let ae=ie.close+(L.capture?")":""),$e;if(ie.type==="negate"){let ht=Le;if(ie.inner&&ie.inner.length>1&&ie.inner.includes("/")&&(ht=z(L)),(ht!==Le||Z()||/^\)+$/.test(be()))&&(ae=ie.close=`)$))${ht}`),ie.inner.includes("*")&&($e=be())&&/^\.[^\\/.]+$/.test($e)){const Mt=W($e,{...F,fastpaths:!1}).output;ae=ie.close=`)${Mt})${ht})`}ie.prev.type==="bos"&&(te.negatedExtglob=!0)}Re({type:"paren",extglob:!0,value:j,output:ae}),Ie("parens")},"extglobClose");if(L.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(P)){let ie=!1,ae=P.replace(k,($e,ht,Mt,mn,an,jn)=>mn==="\\"?(ie=!0,$e):mn==="?"?ht?ht+mn+(an?N.repeat(an.length):""):jn===0?Ee+(an?N.repeat(an.length):""):N.repeat(Mt.length):mn==="."?T.repeat(Mt.length):mn==="*"?ht?ht+mn+(an?Le:""):Le:ht?$e:`\\${$e}`);return ie===!0&&(L.unescape===!0?ae=ae.replace(/\\/g,""):ae=ae.replace(/\\+/g,$e=>$e.length%2==0?"\\\\":$e?"\\":"")),ae===P&&L.contains===!0?(te.output=P,te):(te.output=h.wrapOutput(ae,te,F),te)}for(;!Z();){if(j=De(),j==="\0")continue;if(j==="\\"){const $e=he();if($e==="/"&&L.bash!==!0||$e==="."||$e===";")continue;if(!$e){j+="\\",Re({type:"text",value:j});continue}const ht=/^\\+/.exec(be());let Mt=0;if(ht&&ht[0].length>2&&(Mt=ht[0].length,te.index+=Mt,Mt%2!=0&&(j+="\\")),L.unescape===!0?j=De():j+=De(),te.brackets===0){Re({type:"text",value:j});continue}}if(te.brackets>0&&(j!=="]"||U.value==="["||U.value==="[^")){if(L.posix!==!1&&j===":"){const $e=U.value.slice(1);if($e.includes("[")&&(U.posix=!0,$e.includes(":"))){const ht=U.value.lastIndexOf("["),Mt=U.value.slice(0,ht),mn=U.value.slice(ht+2),an=g[mn];if(an){U.value=Mt+an,te.backtrack=!0,De(),!ce.output&&D.indexOf(U)===1&&(ce.output=Y);continue}}}(j==="["&&he()!==":"||j==="-"&&he()==="]")&&(j=`\\${j}`),j==="]"&&(U.value==="["||U.value==="[^")&&(j=`\\${j}`),L.posix===!0&&j==="!"&&U.value==="["&&(j="^"),U.value+=j,ye({value:j});continue}if(te.quotes===1&&j!=='"'){j=h.escapeRegex(j),U.value+=j,ye({value:j});continue}if(j==='"'){te.quotes=te.quotes===1?0:1,L.keepQuotes===!0&&Re({type:"text",value:j});continue}if(j==="("){He("parens"),Re({type:"paren",value:j});continue}if(j===")"){if(te.parens===0&&L.strictBrackets===!0)throw new SyntaxError(B("opening","("));const $e=Be[Be.length-1];if($e&&te.parens===$e.parens+1){Ce(Be.pop());continue}Re({type:"paren",value:j,output:te.parens?")":"\\)"}),Ie("parens");continue}if(j==="["){if(L.nobracket===!0||!be().includes("]")){if(L.nobracket!==!0&&L.strictBrackets===!0)throw new SyntaxError(B("closing","]"));j=`\\${j}`}else He("brackets");Re({type:"bracket",value:j});continue}if(j==="]"){if(L.nobracket===!0||U&&U.type==="bracket"&&U.value.length===1){Re({type:"text",value:j,output:`\\${j}`});continue}if(te.brackets===0){if(L.strictBrackets===!0)throw new SyntaxError(B("opening","["));Re({type:"text",value:j,output:`\\${j}`});continue}Ie("brackets");const $e=U.value.slice(1);if(U.posix!==!0&&$e[0]==="^"&&!$e.includes("/")&&(j=`/${j}`),U.value+=j,ye({value:j}),L.literalBrackets===!1||h.hasRegexChars($e))continue;const ht=h.escapeRegex(U.value);if(te.output=te.output.slice(0,-U.value.length),L.literalBrackets===!0){te.output+=ht,U.value=ht;continue}U.value=`(${M}${ht}|${U.value})`,te.output+=U.value;continue}if(j==="{"&&L.nobrace!==!0){He("braces");const $e={type:"brace",value:j,output:"(",outputIndex:te.output.length,tokensIndex:te.tokens.length};Ke.push($e),Re($e);continue}if(j==="}"){const $e=Ke[Ke.length-1];if(L.nobrace===!0||!$e){Re({type:"text",value:j,output:j});continue}let ht=")";if($e.dots===!0){const Mt=D.slice(),mn=[];for(let an=Mt.length-1;an>=0&&(D.pop(),Mt[an].type!=="brace");an--)Mt[an].type!=="dots"&&mn.unshift(Mt[an].value);ht=p(mn,L),te.backtrack=!0}if($e.comma!==!0&&$e.dots!==!0){const Mt=te.output.slice(0,$e.outputIndex),mn=te.tokens.slice($e.tokensIndex);$e.value=$e.output="\\{",j=ht="\\}",te.output=Mt;for(const an of mn)te.output+=an.output||an.value}Re({type:"brace",value:j,output:ht}),Ie("braces"),Ke.pop();continue}if(j==="|"){Be.length>0&&Be[Be.length-1].conditions++,Re({type:"text",value:j});continue}if(j===","){let $e=j;const ht=Ke[Ke.length-1];ht&&Je[Je.length-1]==="braces"&&(ht.comma=!0,$e="|"),Re({type:"comma",value:j,output:$e});continue}if(j==="/"){if(U.type==="dot"&&te.index===te.start+1){te.start=te.index+1,te.consumed="",te.output="",D.pop(),U=ce;continue}Re({type:"slash",value:j,output:K});continue}if(j==="."){if(te.braces>0&&U.type==="dot"){U.value==="."&&(U.output=T);const $e=Ke[Ke.length-1];U.type="dots",U.output+=j,U.value+=j,$e.dots=!0;continue}if(te.braces+te.parens===0&&U.type!=="bos"&&U.type!=="slash"){Re({type:"text",value:j,output:T});continue}Re({type:"dot",value:j,output:T});continue}if(j==="?"){if(!(U&&U.value==="(")&&L.noextglob!==!0&&he()==="("&&he(2)!=="?"){q("qmark",j);continue}if(U&&U.type==="paren"){const ht=he();let Mt=j;if(ht==="<"&&!h.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(U.value==="("&&!/[!=<:]/.test(ht)||ht==="<"&&!/<([!=]|\w+>)/.test(be()))&&(Mt=`\\${j}`),Re({type:"text",value:j,output:Mt});continue}if(L.dot!==!0&&(U.type==="slash"||U.type==="bos")){Re({type:"qmark",value:j,output:Ne});continue}Re({type:"qmark",value:j,output:N});continue}if(j==="!"){if(L.noextglob!==!0&&he()==="("&&(he(2)!=="?"||!/[!=<:]/.test(he(3)))){q("negate",j);continue}if(L.nonegate!==!0&&te.index===0){Ae();continue}}if(j==="+"){if(L.noextglob!==!0&&he()==="("&&he(2)!=="?"){q("plus",j);continue}if(U&&U.value==="("||L.regex===!1){Re({type:"plus",value:j,output:G});continue}if(U&&(U.type==="bracket"||U.type==="paren"||U.type==="brace")||te.parens>0){Re({type:"plus",value:j});continue}Re({type:"plus",value:G});continue}if(j==="@"){if(L.noextglob!==!0&&he()==="("&&he(2)!=="?"){Re({type:"at",extglob:!0,value:j,output:""});continue}Re({type:"text",value:j});continue}if(j!=="*"){(j==="$"||j==="^")&&(j=`\\${j}`);const $e=$.exec(be());$e&&(j+=$e[0],te.index+=$e[0].length),Re({type:"text",value:j});continue}if(U&&(U.type==="globstar"||U.star===!0)){U.type="star",U.star=!0,U.value+=j,U.output=Le,te.backtrack=!0,te.globstar=!0,le(j);continue}let ie=be();if(L.noextglob!==!0&&/^\([^?]/.test(ie)){q("star",j);continue}if(U.type==="star"){if(L.noglobstar===!0){le(j);continue}const $e=U.prev,ht=$e.prev,Mt=$e.type==="slash"||$e.type==="bos",mn=ht&&(ht.type==="star"||ht.type==="globstar");if(L.bash===!0&&(!Mt||ie[0]&&ie[0]!=="/")){Re({type:"star",value:j,output:""});continue}const an=te.braces>0&&($e.type==="comma"||$e.type==="brace"),jn=Be.length&&($e.type==="pipe"||$e.type==="paren");if(!Mt&&$e.type!=="paren"&&!an&&!jn){Re({type:"star",value:j,output:""});continue}for(;ie.slice(0,3)==="/**";){const Un=P[te.index+4];if(Un&&Un!=="/")break;ie=ie.slice(3),le("/**",3)}if($e.type==="bos"&&Z()){U.type="globstar",U.value+=j,U.output=z(L),te.output=U.output,te.globstar=!0,le(j);continue}if($e.type==="slash"&&$e.prev.type!=="bos"&&!mn&&Z()){te.output=te.output.slice(0,-($e.output+U.output).length),$e.output=`(?:${$e.output}`,U.type="globstar",U.output=z(L)+(L.strictSlashes?")":"|$)"),U.value+=j,te.globstar=!0,te.output+=$e.output+U.output,le(j);continue}if($e.type==="slash"&&$e.prev.type!=="bos"&&ie[0]==="/"){const Un=ie[1]!==void 0?"|$":"";te.output=te.output.slice(0,-($e.output+U.output).length),$e.output=`(?:${$e.output}`,U.type="globstar",U.output=`${z(L)}${K}|${K}${Un})`,U.value+=j,te.output+=$e.output+U.output,te.globstar=!0,le(j+De()),Re({type:"slash",value:"/",output:""});continue}if($e.type==="bos"&&ie[0]==="/"){U.type="globstar",U.value+=j,U.output=`(?:^|${K}|${z(L)}${K})`,te.output=U.output,te.globstar=!0,le(j+De()),Re({type:"slash",value:"/",output:""});continue}te.output=te.output.slice(0,-U.output.length),U.type="globstar",U.output=z(L),U.value+=j,te.output+=U.output,te.globstar=!0,le(j);continue}const ae={type:"star",value:j,output:Le};if(L.bash===!0){ae.output=".*?",(U.type==="bos"||U.type==="slash")&&(ae.output=se+ae.output),Re(ae);continue}if(U&&(U.type==="bracket"||U.type==="paren")&&L.regex===!0){ae.output=j,Re(ae);continue}(te.index===te.start||U.type==="slash"||U.type==="dot")&&(U.type==="dot"?(te.output+=V,U.output+=V):L.dot===!0?(te.output+=fe,U.output+=fe):(te.output+=se,U.output+=se),he()!=="*"&&(te.output+=Y,U.output+=Y)),Re(ae)}for(;te.brackets>0;){if(L.strictBrackets===!0)throw new SyntaxError(B("closing","]"));te.output=h.escapeLast(te.output,"["),Ie("brackets")}for(;te.parens>0;){if(L.strictBrackets===!0)throw new SyntaxError(B("closing",")"));te.output=h.escapeLast(te.output,"("),Ie("parens")}for(;te.braces>0;){if(L.strictBrackets===!0)throw new SyntaxError(B("closing","}"));te.output=h.escapeLast(te.output,"{"),Ie("braces")}if(L.strictSlashes!==!0&&(U.type==="star"||U.type==="bracket")&&Re({type:"maybe_slash",value:"",output:`${K}?`}),te.backtrack===!0){te.output="";for(const ie of te.tokens)te.output+=ie.output!=null?ie.output:ie.value,ie.suffix&&(te.output+=ie.suffix)}return te},"parse");W.fastpaths=(P,F)=>{const L={...F},X=typeof L.maxLength=="number"?Math.min(b,L.maxLength):b,J=P.length;if(J>X)throw new SyntaxError(`Input length: ${J}, exceeds maximum allowed length: ${X}`);P=v[P]||P;const ce=h.isWindows(F),{DOT_LITERAL:D,SLASH_LITERAL:M,ONE_CHAR:I,DOTS_SLASH:m,NO_DOT:R,NO_DOTS:T,NO_DOTS_SLASH:G,STAR:K,START_ANCHOR:Y}=w.globChars(ce),re=L.dot?T:R,ve=L.dot?G:R,V=L.capture?"":"?:",fe={negated:!1,prefix:""};let N=L.bash===!0?".*?":K;L.capture&&(N=`(${N})`);const Ne=a(se=>se.noglobstar===!0?N:`(${V}(?:(?!${Y}${se.dot?m:D}).)*?)`,"globstar"),ue=a(se=>{switch(se){case"*":return`${re}${I}${N}`;case".*":return`${D}${I}${N}`;case"*.*":return`${re}${N}${D}${I}${N}`;case"*/*":return`${re}${N}${M}${I}${ve}${N}`;case"**":return re+Ne(L);case"**/*":return`(?:${re}${Ne(L)}${M})?${ve}${I}${N}`;case"**/*.*":return`(?:${re}${Ne(L)}${M})?${ve}${N}${D}${I}${N}`;case"**/.*":return`(?:${re}${Ne(L)}${M})?${D}${I}${N}`;default:{const Ee=/^(.*?)\.(\w+)$/.exec(se);if(!Ee)return;const Le=ue(Ee[1]);return Le?Le+D+Ee[2]:void 0}}},"create"),ee=h.removePrefix(P,fe);let z=ue(ee);return z&&L.strictSlashes!==!0&&(z+=`${M}?`),z},Ve.exports=W},5761:(Ve,d,y)=>{"use strict";const w=y(6470),h=y(9826),b=y(3969),g=y(292),$=y(3889),k=a(p=>p&&typeof p=="object"&&!Array.isArray(p),"isObject"),v=a((p,B,W=!1)=>{if(Array.isArray(p)){const M=p.map(m=>v(m,B,W));return a(m=>{for(const R of M){const T=R(m);if(T)return T}return!1},"arrayMatcher")}const P=k(p)&&p.tokens&&p.input;if(p===""||typeof p!="string"&&!P)throw new TypeError("Expected pattern to be a non-empty string");const F=B||{},L=g.isWindows(B),X=P?v.compileRe(p,B):v.makeRe(p,B,!1,!0),J=X.state;delete X.state;let ce=a(()=>!1,"isIgnored");if(F.ignore){const M={...B,ignore:null,onMatch:null,onResult:null};ce=v(F.ignore,M,W)}const D=a((M,I=!1)=>{const{isMatch:m,match:R,output:T}=v.test(M,X,B,{glob:p,posix:L}),G={glob:p,state:J,regex:X,posix:L,input:M,output:T,match:R,isMatch:m};return typeof F.onResult=="function"&&F.onResult(G),m===!1?(G.isMatch=!1,I?G:!1):ce(M)?(typeof F.onIgnore=="function"&&F.onIgnore(G),G.isMatch=!1,I?G:!1):(typeof F.onMatch=="function"&&F.onMatch(G),I?G:!0)},"matcher");return W&&(D.state=J),D},"picomatch");v.test=(p,B,W,{glob:P,posix:F}={})=>{if(typeof p!="string")throw new TypeError("Expected input to be a string");if(p==="")return{isMatch:!1,output:""};const L=W||{},X=L.format||(F?g.toPosixSlashes:null);let J=p===P,ce=J&&X?X(p):p;return J===!1&&(ce=X?X(p):p,J=ce===P),(J===!1||L.capture===!0)&&(L.matchBase===!0||L.basename===!0?J=v.matchBase(p,B,W,F):J=B.exec(ce)),{isMatch:Boolean(J),match:J,output:ce}},v.matchBase=(p,B,W,P=g.isWindows(W))=>(B instanceof RegExp?B:v.makeRe(B,W)).test(w.basename(p)),v.isMatch=(p,B,W)=>v(B,W)(p),v.parse=(p,B)=>Array.isArray(p)?p.map(W=>v.parse(W,B)):b(p,{...B,fastpaths:!1}),v.scan=(p,B)=>h(p,B),v.compileRe=(p,B,W=!1,P=!1)=>{if(W===!0)return p.output;const F=B||{},L=F.contains?"":"^",X=F.contains?"":"$";let J=`${L}(?:${p.output})${X}`;p&&p.negated===!0&&(J=`^(?!${J}).*$`);const ce=v.toRegex(J,B);return P===!0&&(ce.state=p),ce},v.makeRe=(p,B={},W=!1,P=!1)=>{if(!p||typeof p!="string")throw new TypeError("Expected a non-empty string");let F={negated:!1,fastpaths:!0};return B.fastpaths!==!1&&(p[0]==="."||p[0]==="*")&&(F.output=b.fastpaths(p,B)),F.output||(F=b(p,B)),v.compileRe(F,B,W,P)},v.toRegex=(p,B)=>{try{const W=B||{};return new RegExp(p,W.flags||(W.nocase?"i":""))}catch(W){if(B&&B.debug===!0)throw W;return/$^/}},v.constants=$,Ve.exports=v},9826:(Ve,d,y)=>{"use strict";const w=y(292),{CHAR_ASTERISK:h,CHAR_AT:b,CHAR_BACKWARD_SLASH:g,CHAR_COMMA:$,CHAR_DOT:k,CHAR_EXCLAMATION_MARK:v,CHAR_FORWARD_SLASH:p,CHAR_LEFT_CURLY_BRACE:B,CHAR_LEFT_PARENTHESES:W,CHAR_LEFT_SQUARE_BRACKET:P,CHAR_PLUS:F,CHAR_QUESTION_MARK:L,CHAR_RIGHT_CURLY_BRACE:X,CHAR_RIGHT_PARENTHESES:J,CHAR_RIGHT_SQUARE_BRACKET:ce}=y(3889),D=a(m=>m===p||m===g,"isPathSeparator"),M=a(m=>{m.isPrefix!==!0&&(m.depth=m.isGlobstar?1/0:1)},"depth"),I=a((m,R)=>{const T=R||{},G=m.length-1,K=T.parts===!0||T.scanToEnd===!0,Y=[],re=[],ve=[];let V=m,fe=-1,N=0,Ne=0,ue=!1,ee=!1,z=!1,se=!1,Ee=!1,Le=!1,te=!1,Be=!1,Ke=!1,Je=!1,U=0,j,Z,he={value:"",depth:0,isGlob:!1};const De=a(()=>fe>=G,"eos"),be=a(()=>V.charCodeAt(fe+1),"peek"),le=a(()=>(j=Z,V.charCodeAt(++fe)),"advance");for(;fe<G;){Z=le();let Re;if(Z===g){te=he.backslashes=!0,Z=le(),Z===B&&(Le=!0);continue}if(Le===!0||Z===B){for(U++;De()!==!0&&(Z=le());){if(Z===g){te=he.backslashes=!0,le();continue}if(Z===B){U++;continue}if(Le!==!0&&Z===k&&(Z=le())===k){if(ue=he.isBrace=!0,z=he.isGlob=!0,Je=!0,K===!0)continue;break}if(Le!==!0&&Z===$){if(ue=he.isBrace=!0,z=he.isGlob=!0,Je=!0,K===!0)continue;break}if(Z===X&&(U--,U===0)){Le=!1,ue=he.isBrace=!0,Je=!0;break}}if(K===!0)continue;break}if(Z===p){if(Y.push(fe),re.push(he),he={value:"",depth:0,isGlob:!1},Je===!0)continue;if(j===k&&fe===N+1){N+=2;continue}Ne=fe+1;continue}if(T.noext!==!0&&(Z===F||Z===b||Z===h||Z===L||Z===v)===!0&&be()===W){if(z=he.isGlob=!0,se=he.isExtglob=!0,Je=!0,Z===v&&fe===N&&(Ke=!0),K===!0){for(;De()!==!0&&(Z=le());){if(Z===g){te=he.backslashes=!0,Z=le();continue}if(Z===J){z=he.isGlob=!0,Je=!0;break}}continue}break}if(Z===h){if(j===h&&(Ee=he.isGlobstar=!0),z=he.isGlob=!0,Je=!0,K===!0)continue;break}if(Z===L){if(z=he.isGlob=!0,Je=!0,K===!0)continue;break}if(Z===P){for(;De()!==!0&&(Re=le());){if(Re===g){te=he.backslashes=!0,le();continue}if(Re===ce){ee=he.isBracket=!0,z=he.isGlob=!0,Je=!0;break}}if(K===!0)continue;break}if(T.nonegate!==!0&&Z===v&&fe===N){Be=he.negated=!0,N++;continue}if(T.noparen!==!0&&Z===W){if(z=he.isGlob=!0,K===!0){for(;De()!==!0&&(Z=le());){if(Z===W){te=he.backslashes=!0,Z=le();continue}if(Z===J){Je=!0;break}}continue}break}if(z===!0){if(Je=!0,K===!0)continue;break}}T.noext===!0&&(se=!1,z=!1);let ye=V,Ae="",He="";N>0&&(Ae=V.slice(0,N),V=V.slice(N),Ne-=N),ye&&z===!0&&Ne>0?(ye=V.slice(0,Ne),He=V.slice(Ne)):z===!0?(ye="",He=V):ye=V,ye&&ye!==""&&ye!=="/"&&ye!==V&&D(ye.charCodeAt(ye.length-1))&&(ye=ye.slice(0,-1)),T.unescape===!0&&(He&&(He=w.removeBackslashes(He)),ye&&te===!0&&(ye=w.removeBackslashes(ye)));const Ie={prefix:Ae,input:m,start:N,base:ye,glob:He,isBrace:ue,isBracket:ee,isGlob:z,isExtglob:se,isGlobstar:Ee,negated:Be,negatedExtglob:Ke};if(T.tokens===!0&&(Ie.maxDepth=0,D(Z)||re.push(he),Ie.tokens=re),T.parts===!0||T.tokens===!0){let Re;for(let q=0;q<Y.length;q++){const Ce=Re?Re+1:N,ie=Y[q],ae=m.slice(Ce,ie);T.tokens&&(q===0&&N!==0?(re[q].isPrefix=!0,re[q].value=Ae):re[q].value=ae,M(re[q]),Ie.maxDepth+=re[q].depth),(q!==0||ae!=="")&&ve.push(ae),Re=ie}if(Re&&Re+1<m.length){const q=m.slice(Re+1);ve.push(q),T.tokens&&(re[re.length-1].value=q,M(re[re.length-1]),Ie.maxDepth+=re[re.length-1].depth)}Ie.slashes=Y,Ie.parts=ve}return Ie},"scan");Ve.exports=I},292:(Ve,d,y)=>{"use strict";var w=y(6038);const h=y(6470),b=w.platform==="win32",{REGEX_BACKSLASH:g,REGEX_REMOVE_BACKSLASH:$,REGEX_SPECIAL_CHARS:k,REGEX_SPECIAL_CHARS_GLOBAL:v}=y(3889);d.isObject=p=>p!==null&&typeof p=="object"&&!Array.isArray(p),d.hasRegexChars=p=>k.test(p),d.isRegexChar=p=>p.length===1&&d.hasRegexChars(p),d.escapeRegex=p=>p.replace(v,"\\$1"),d.toPosixSlashes=p=>p.replace(g,"/"),d.removeBackslashes=p=>p.replace($,B=>B==="\\"?"":B),d.supportsLookbehinds=()=>{const p=w.version.slice(1).split(".").map(Number);return p.length===3&&p[0]>=9||p[0]===8&&p[1]>=10},d.isWindows=p=>p&&typeof p.windows=="boolean"?p.windows:b===!0||h.sep==="\\",d.escapeLast=(p,B,W)=>{const P=p.lastIndexOf(B,W);return P===-1?p:p[P-1]==="\\"?d.escapeLast(p,B,P-1):`${p.slice(0,P)}\\${p.slice(P)}`},d.removePrefix=(p,B={})=>{let W=p;return W.startsWith("./")&&(W=W.slice(2),B.prefix="./"),W},d.wrapOutput=(p,B={},W={})=>{const P=W.contains?"":"^",F=W.contains?"":"$";let L=`${P}(?:${p})${F}`;return B.negated===!0&&(L=`(?:^(?!${L}).*$)`),L}},6038:Ve=>{var d=Ve.exports={},y,w;function h(){throw new Error("setTimeout has not been defined")}a(h,"defaultSetTimout");function b(){throw new Error("clearTimeout has not been defined")}a(b,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?y=setTimeout:y=h}catch(X){y=h}try{typeof clearTimeout=="function"?w=clearTimeout:w=b}catch(X){w=b}}();function g(X){if(y===setTimeout)return setTimeout(X,0);if((y===h||!y)&&setTimeout)return y=setTimeout,setTimeout(X,0);try{return y(X,0)}catch(J){try{return y.call(null,X,0)}catch(ce){return y.call(this,X,0)}}}a(g,"runTimeout");function $(X){if(w===clearTimeout)return clearTimeout(X);if((w===b||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(X);try{return w(X)}catch(J){try{return w.call(null,X)}catch(ce){return w.call(this,X)}}}a($,"runClearTimeout");var k=[],v=!1,p,B=-1;function W(){!v||!p||(v=!1,p.length?k=p.concat(k):B=-1,k.length&&P())}a(W,"cleanUpNextTick");function P(){if(!v){var X=g(W);v=!0;for(var J=k.length;J;){for(p=k,k=[];++B<J;)p&&p[B].run();B=-1,J=k.length}p=null,v=!1,$(X)}}a(P,"drainQueue"),d.nextTick=function(X){var J=new Array(arguments.length-1);if(arguments.length>1)for(var ce=1;ce<arguments.length;ce++)J[ce-1]=arguments[ce];k.push(new F(X,J)),k.length===1&&!v&&g(P)};function F(X,J){this.fun=X,this.array=J}a(F,"Item"),F.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={};function L(){}a(L,"noop"),d.on=L,d.addListener=L,d.once=L,d.off=L,d.removeListener=L,d.removeAllListeners=L,d.emit=L,d.prependListener=L,d.prependOnceListener=L,d.listeners=function(X){return[]},d.binding=function(X){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(X){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},5431:(Ve,d,y)=>{"use strict";Ve.exports=y(7905)},7905:(Ve,d,y)=>{"use strict";var w=y(1417);function h(){return!0}a(h,"_toTrue");function b(){return!1}a(b,"_toFalse");function g(J){return J.then(h,b)}a(g,"pSuccess");function $(J){return J}a($,"_pass");function k(J){throw J}a(k,"_throw");function v(J){return J.then($,k)}a(v,"ensurePromise");function p(J,ce){return{result:J,args:ce,expire_id:0,prefetch_id:0,need_prefetch:!1}}a(p,"createCacheObj");function B(J,ce){!J[ce]||(clearTimeout(J[ce].expire_id),clearTimeout(J[ce].prefetch_id),delete J[ce])}a(B,"destroyCacheObj");function W(J,ce){!J[ce]||(J[ce].need_prefetch=!0)}a(W,"askPrefetch");function P(J){var ce=J[0],D=J[1],M=J[2],I=J[3];if(!!D[M]){if(ce){if(!I.maxAge)return;D[M].expire_id=setTimeout(B,I.maxAge,D,M),D[M].prefetch_id=setTimeout(W,I.maxAge*.7,D,M),D[M].expire_id.unref&&D[M].expire_id.unref(),D[M].prefetch_id.unref&&D[M].prefetch_id.unref();return}if(!I.maxErrorAge){B(D,M);return}D[M].expire_id=setTimeout(B,I.maxErrorAge,D,M),D[M].expire_id.unref&&D[M].expire_id.unref()}}a(P,"_track_proceed");function F(J,ce,D){var M=J[ce].result.constructor;M.all([g(J[ce].result),J,ce,D]).then(P)}a(F,"trackCacheObj");function L(J){var ce=J[0],D=J[1],M=J[2],I=J[3],m=J[4][0];!D[M]||!ce||(D[M].result=m,clearTimeout(D[M].expire_id),F(D,M,I))}a(L,"_prefetch_proceed");function X(J,ce,D){var M=v(D.fn.apply(null,J[ce].args)),I=M.constructor;J[ce].need_prefetch=!1,I.all([g(M),J,ce,D,[M]]).then(L)}a(X,"doPrefetch"),Ve.exports=a(function(ce,D){var M={},I=D||{},m=w(I.resolve),R={fn:ce,maxAge:I.maxAge||0,maxErrorAge:I.maxErrorAge||0};function T(){for(var G=new Array(arguments.length),K=0;K<G.length;K++)G[K]=arguments[K];var Y=m(G);return M[Y]?M[Y].need_prefetch&&X(M,Y,R):(M[Y]=p(v(R.fn.apply(null,G)),R.maxAge||R.maxErrorAge?G:null),F(M,Y,R)),M[Y].result}return a(T,"memoizedFn"),T.clear=function(){var G=Object.keys(M);return G.forEach(function(K){B(M,K)}),G.length},T},"promiseMemoize")},1417:Ve=>{"use strict";var d={simple:function(w){return w.length?w.join(""):""},json:function(w){if(!w.length)return"";for(var h=[],b=w.length-1;b>=0;b--)h.push(JSON.stringify(w[b]));return h.join("")}};function y(w){return w.forEach(function(h){if(typeof h=="string"&&!d.hasOwnProperty(h))throw new Error('promise-memoize: unknown value "'+h+'" in resolve option')}),function(h){var b=Math.min(w.length,h.length);if(!b)return"";for(var g=[],$=0;$<b;$++)typeof w[$]=="string"?g.push(d[w[$]]([h[$]])):g.push(w[$](h[$]));return g.join("")}}a(y,"createFlexResolver"),Ve.exports=a(function(h){if(typeof h=="undefined")return d.simple;if(typeof h=="string"&&d.hasOwnProperty(h))return d[h];if(Array.isArray(h))return y(h);if(Object.prototype.toString.call(h)==="[object Function]")return h;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(Ve,d,y)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const w=y(3338),h=a((D,M,I)=>{if(w(D)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(M===void 0||D===M)return String(D);if(w(M)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let m={relaxZeros:!0,...I};typeof m.strictZeros=="boolean"&&(m.relaxZeros=m.strictZeros===!1);let R=String(m.relaxZeros),T=String(m.shorthand),G=String(m.capture),K=String(m.wrap),Y=D+":"+M+"="+R+T+G+K;if(h.cache.hasOwnProperty(Y))return h.cache[Y].result;let re=Math.min(D,M),ve=Math.max(D,M);if(Math.abs(re-ve)===1){let ue=D+"|"+M;return m.capture?`(${ue})`:m.wrap===!1?ue:`(?:${ue})`}let V=J(D)||J(M),fe={min:D,max:M,a:re,b:ve},N=[],Ne=[];if(V&&(fe.isPadded=V,fe.maxLen=String(fe.max).length),re<0){let ue=ve<0?Math.abs(ve):1;Ne=k(ue,Math.abs(re),fe,m),re=fe.a=0}return ve>=0&&(N=k(re,ve,fe,m)),fe.negatives=Ne,fe.positives=N,fe.result=b(Ne,N,m),m.capture===!0?fe.result=`(${fe.result})`:m.wrap!==!1&&N.length+Ne.length>1&&(fe.result=`(?:${fe.result})`),h.cache[Y]=fe,fe.result},"toRegexRange");function b(D,M,I){let m=v(D,M,"-",!1,I)||[],R=v(M,D,"",!1,I)||[],T=v(D,M,"-?",!0,I)||[];return m.concat(T).concat(R).join("|")}a(b,"collatePatterns");function g(D,M){let I=1,m=1,R=P(D,I),T=new Set([M]);for(;D<=R&&R<=M;)T.add(R),I+=1,R=P(D,I);for(R=F(M+1,m)-1;D<R&&R<=M;)T.add(R),m+=1,R=F(M+1,m)-1;return T=[...T],T.sort(B),T}a(g,"splitToRanges");function $(D,M,I){if(D===M)return{pattern:D,count:[],digits:0};let m=p(D,M),R=m.length,T="",G=0;for(let K=0;K<R;K++){let[Y,re]=m[K];Y===re?T+=Y:Y!=="0"||re!=="9"?T+=X(Y,re,I):G++}return G&&(T+=I.shorthand===!0?"\\d":"[0-9]"),{pattern:T,count:[G],digits:R}}a($,"rangeToPattern");function k(D,M,I,m){let R=g(D,M),T=[],G=D,K;for(let Y=0;Y<R.length;Y++){let re=R[Y],ve=$(String(G),String(re),m),V="";if(!I.isPadded&&K&&K.pattern===ve.pattern){K.count.length>1&&K.count.pop(),K.count.push(ve.count[0]),K.string=K.pattern+L(K.count),G=re+1;continue}I.isPadded&&(V=ce(re,I,m)),ve.string=V+ve.pattern+L(ve.count),T.push(ve),G=re+1,K=ve}return T}a(k,"splitToPatterns");function v(D,M,I,m,R){let T=[];for(let G of D){let{string:K}=G;!m&&!W(M,"string",K)&&T.push(I+K),m&&W(M,"string",K)&&T.push(I+K)}return T}a(v,"filterPatterns");function p(D,M){let I=[];for(let m=0;m<D.length;m++)I.push([D[m],M[m]]);return I}a(p,"zip");function B(D,M){return D>M?1:M>D?-1:0}a(B,"compare");function W(D,M,I){return D.some(m=>m[M]===I)}a(W,"contains");function P(D,M){return Number(String(D).slice(0,-M)+"9".repeat(M))}a(P,"countNines");function F(D,M){return D-D%Math.pow(10,M)}a(F,"countZeros");function L(D){let[M=0,I=""]=D;return I||M>1?`{${M+(I?","+I:"")}}`:""}a(L,"toQuantifier");function X(D,M,I){return`[${D}${M-D==1?"":"-"}${M}]`}a(X,"toCharacterClass");function J(D){return/^-?(0+)\d/.test(D)}a(J,"hasPadding");function ce(D,M,I){if(!M.isPadded)return D;let m=Math.abs(M.maxLen-String(D).length),R=I.relaxZeros!==!1;switch(m){case 0:return"";case 1:return R?"0?":"0";case 2:return R?"0{0,2}":"00";default:return R?`0{0,${m}}`:`0{${m}}`}}a(ce,"padZeros"),h.cache={},h.clearCache=()=>h.cache={},Ve.exports=h},7360:function(Ve,d){var y,w,h;(function(b,g){w=[],y=g,h=typeof y=="function"?y.apply(d,w):y,h!==void 0&&(Ve.exports=h)})(this,a(function(){function g(D){var M={single:function(I,m,R){if(!I||(X(I)||(I=M.getPreparedSearch(I)),!m))return null;X(m)||(m=M.getPrepared(m));var T=R&&R.allowTypo!==void 0?R.allowTypo:D&&D.allowTypo!==void 0?D.allowTypo:!0,G=T?M.algorithm:M.algorithmNoTypo;return G(I,m,I[0])},go:function(I,m,R){if(!I)return p;I=M.prepareSearch(I);var T=I[0],G=R&&R.threshold||D&&D.threshold||-9007199254740991,K=R&&R.limit||D&&D.limit||9007199254740991,Y=R&&R.allowTypo!==void 0?R.allowTypo:D&&D.allowTypo!==void 0?D.allowTypo:!0,re=Y?M.algorithm:M.algorithmNoTypo,ve=0,V=0,fe=m.length;if(R&&R.keys)for(var N=R.scoreFn||F,Ne=R.keys,ue=Ne.length,ee=fe-1;ee>=0;--ee){for(var z=m[ee],se=new Array(ue),Ee=ue-1;Ee>=0;--Ee){var Le=Ne[Ee],te=L(z,Le);if(!te){se[Ee]=null;continue}X(te)||(te=M.getPrepared(te)),se[Ee]=re(I,te,T)}se.obj=z;var Be=N(se);Be!==null&&(Be<G||(se.score=Be,ve<K?(ce.add(se),++ve):(++V,Be>ce.peek().score&&ce.replaceTop(se))))}else if(R&&R.key)for(var Le=R.key,ee=fe-1;ee>=0;--ee){var z=m[ee],te=L(z,Le);if(!!te){X(te)||(te=M.getPrepared(te));var Ke=re(I,te,T);Ke!==null&&(Ke.score<G||(Ke={target:Ke.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Ke.score,indexes:Ke.indexes,obj:z},ve<K?(ce.add(Ke),++ve):(++V,Ke.score>ce.peek().score&&ce.replaceTop(Ke))))}}else for(var ee=fe-1;ee>=0;--ee){var te=m[ee];if(!!te){X(te)||(te=M.getPrepared(te));var Ke=re(I,te,T);Ke!==null&&(Ke.score<G||(ve<K?(ce.add(Ke),++ve):(++V,Ke.score>ce.peek().score&&ce.replaceTop(Ke))))}}if(ve===0)return p;for(var Je=new Array(ve),ee=ve-1;ee>=0;--ee)Je[ee]=ce.poll();return Je.total=ve+V,Je},goAsync:function(I,m,R){var T=!1,G=new Promise(function(K,Y){if(!I)return K(p);I=M.prepareSearch(I);var re=I[0],ve=J(),V=m.length-1,fe=R&&R.threshold||D&&D.threshold||-9007199254740991,N=R&&R.limit||D&&D.limit||9007199254740991,Ne=R&&R.allowTypo!==void 0?R.allowTypo:D&&D.allowTypo!==void 0?D.allowTypo:!0,ue=Ne?M.algorithm:M.algorithmNoTypo,ee=0,z=0;function se(){if(T)return Y("canceled");var Ee=Date.now();if(R&&R.keys)for(var Le=R.scoreFn||F,te=R.keys,Be=te.length;V>=0;--V){for(var Ke=m[V],Je=new Array(Be),U=Be-1;U>=0;--U){var j=te[U],Z=L(Ke,j);if(!Z){Je[U]=null;continue}X(Z)||(Z=M.getPrepared(Z)),Je[U]=ue(I,Z,re)}Je.obj=Ke;var he=Le(Je);if(he!==null&&!(he<fe)&&(Je.score=he,ee<N?(ve.add(Je),++ee):(++z,he>ve.peek().score&&ve.replaceTop(Je)),V%1e3==0&&Date.now()-Ee>=10)){$?setImmediate(se):setTimeout(se);return}}else if(R&&R.key)for(var j=R.key;V>=0;--V){var Ke=m[V],Z=L(Ke,j);if(!!Z){X(Z)||(Z=M.getPrepared(Z));var De=ue(I,Z,re);if(De!==null&&!(De.score<fe)&&(De={target:De.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:De.score,indexes:De.indexes,obj:Ke},ee<N?(ve.add(De),++ee):(++z,De.score>ve.peek().score&&ve.replaceTop(De)),V%1e3==0&&Date.now()-Ee>=10)){$?setImmediate(se):setTimeout(se);return}}}else for(;V>=0;--V){var Z=m[V];if(!!Z){X(Z)||(Z=M.getPrepared(Z));var De=ue(I,Z,re);if(De!==null&&!(De.score<fe)&&(ee<N?(ve.add(De),++ee):(++z,De.score>ve.peek().score&&ve.replaceTop(De)),V%1e3==0&&Date.now()-Ee>=10)){$?setImmediate(se):setTimeout(se);return}}}if(ee===0)return K(p);for(var be=new Array(ee),le=ee-1;le>=0;--le)be[le]=ve.poll();be.total=ee+z,K(be)}a(se,"step"),$?setImmediate(se):se()});return G.cancel=function(){T=!0},G},highlight:function(I,m,R){if(I===null)return null;m===void 0&&(m="<b>"),R===void 0&&(R="</b>");for(var T="",G=0,K=!1,Y=I.target,re=Y.length,ve=I.indexes,V=0;V<re;++V){var fe=Y[V];if(ve[G]===V){if(++G,K||(K=!0,T+=m),G===ve.length){T+=fe+R+Y.substr(V+1);break}}else K&&(K=!1,T+=R);T+=fe}return T},prepare:function(I){if(!!I)return{target:I,_targetLowerCodes:M.prepareLowerCodes(I),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(I){if(!!I)return{target:I,_targetLowerCodes:M.prepareLowerCodes(I),_nextBeginningIndexes:M.prepareNextBeginningIndexes(I),score:null,indexes:null,obj:null}},prepareSearch:function(I){if(!!I)return M.prepareLowerCodes(I)},getPrepared:function(I){if(I.length>999)return M.prepare(I);var m=k.get(I);return m!==void 0||(m=M.prepare(I),k.set(I,m)),m},getPreparedSearch:function(I){if(I.length>999)return M.prepareSearch(I);var m=v.get(I);return m!==void 0||(m=M.prepareSearch(I),v.set(I,m)),m},algorithm:function(I,m,R){for(var T=m._targetLowerCodes,G=I.length,K=T.length,Y=0,re=0,ve=0,V=0;;){var fe=R===T[re];if(fe){if(B[V++]=re,++Y,Y===G)break;R=I[ve===0?Y:ve===Y?Y+1:ve===Y-1?Y-1:Y]}if(++re,re>=K)for(;;){if(Y<=1)return null;if(ve===0){--Y;var N=I[Y];if(R===N)continue;ve=Y}else{if(ve===1)return null;--ve,Y=ve,R=I[Y+1];var N=I[Y];if(R===N)continue}V=Y,re=B[V-1]+1;break}}var Y=0,Ne=0,ue=!1,ee=0,z=m._nextBeginningIndexes;z===null&&(z=m._nextBeginningIndexes=M.prepareNextBeginningIndexes(m.target));var se=re=B[0]===0?0:z[B[0]-1];if(re!==K)for(;;)if(re>=K){if(Y<=0){if(++Ne,Ne>G-2)break;if(I[Ne]===I[Ne+1])continue;re=se;continue}--Y;var Ee=W[--ee];re=z[Ee]}else{var fe=I[Ne===0?Y:Ne===Y?Y+1:Ne===Y-1?Y-1:Y]===T[re];if(fe){if(W[ee++]=re,++Y,Y===G){ue=!0;break}++re}else re=z[re]}{if(ue)var Le=W,te=ee;else var Le=B,te=V;for(var Be=0,Ke=-1,Je=0;Je<G;++Je){var re=Le[Je];Ke!==re-1&&(Be-=re),Ke=re}ue?Ne!==0&&(Be+=-20):(Be*=1e3,ve!==0&&(Be+=-20)),Be-=K-G,m.score=Be,m.indexes=new Array(te);for(var Je=te-1;Je>=0;--Je)m.indexes[Je]=Le[Je];return m}},algorithmNoTypo:function(I,m,R){for(var T=m._targetLowerCodes,G=I.length,K=T.length,Y=0,re=0,ve=0;;){var V=R===T[re];if(V){if(B[ve++]=re,++Y,Y===G)break;R=I[Y]}if(++re,re>=K)return null}var Y=0,fe=!1,N=0,Ne=m._nextBeginningIndexes;Ne===null&&(Ne=m._nextBeginningIndexes=M.prepareNextBeginningIndexes(m.target));var ue=re=B[0]===0?0:Ne[B[0]-1];if(re!==K)for(;;)if(re>=K){if(Y<=0)break;--Y;var ee=W[--N];re=Ne[ee]}else{var V=I[Y]===T[re];if(V){if(W[N++]=re,++Y,Y===G){fe=!0;break}++re}else re=Ne[re]}{if(fe)var z=W,se=N;else var z=B,se=ve;for(var Ee=0,Le=-1,te=0;te<G;++te){var re=z[te];Le!==re-1&&(Ee-=re),Le=re}fe||(Ee*=1e3),Ee-=K-G,m.score=Ee,m.indexes=new Array(se);for(var te=se-1;te>=0;--te)m.indexes[te]=z[te];return m}},prepareLowerCodes:function(I){for(var m=I.length,R=[],T=I.toLowerCase(),G=0;G<m;++G)R[G]=T.charCodeAt(G);return R},prepareBeginningIndexes:function(I){for(var m=I.length,R=[],T=0,G=!1,K=!1,Y=0;Y<m;++Y){var re=I.charCodeAt(Y),ve=re>=65&&re<=90,V=ve||re>=97&&re<=122||re>=48&&re<=57,fe=ve&&!G||!K||!V;G=ve,K=V,fe&&(R[T++]=Y)}return R},prepareNextBeginningIndexes:function(I){for(var m=I.length,R=M.prepareBeginningIndexes(I),T=[],G=R[0],K=0,Y=0;Y<m;++Y)G>Y?T[Y]=G:(G=R[++K],T[Y]=G===void 0?m:G);return T},cleanup:P,new:g};return M}a(g,"fuzzysortNew");var $=typeof window=="undefined",k=new Map,v=new Map,p=[];p.total=0;var B=[],W=[];function P(){k.clear(),v.clear(),B=[],W=[]}a(P,"cleanup");function F(D){for(var M=-9007199254740991,I=D.length-1;I>=0;--I){var m=D[I];if(m!==null){var R=m.score;R>M&&(M=R)}}return M===-9007199254740991?null:M}a(F,"defaultScoreFn");function L(D,M){var I=D[M];if(I!==void 0)return I;var m=M;Array.isArray(M)||(m=M.split("."));for(var R=m.length,T=-1;D&&++T<R;)D=D[m[T]];return D}a(L,"getValue");function X(D){return typeof D=="object"}a(X,"isObj");var J=a(function(){var D=[],M=0,I={};function m(){for(var R=0,T=D[R],G=1;G<M;){var K=G+1;R=G,K<M&&D[K].score<D[G].score&&(R=K),D[R-1>>1]=D[R],G=1+(R<<1)}for(var Y=R-1>>1;R>0&&T.score<D[Y].score;Y=(R=Y)-1>>1)D[R]=D[Y];D[R]=T}return a(m,"n"),I.add=function(R){var T=M;D[M++]=R;for(var G=T-1>>1;T>0&&R.score<D[G].score;G=(T=G)-1>>1)D[T]=D[G];D[T]=R},I.poll=function(){if(M!==0){var R=D[0];return D[0]=D[--M],m(),R}},I.peek=function(R){if(M!==0)return D[0]},I.replaceTop=function(R){D[0]=R,m()},I},"fastpriorityqueue"),ce=J();return g()},"UMD"))},6470:(Ve,d,y)=>{"use strict";var w=y(4155);function h(k){if(typeof k!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(k))}a(h,"assertPath");function b(k,v){for(var p="",B=0,W=-1,P=0,F,L=0;L<=k.length;++L){if(L<k.length)F=k.charCodeAt(L);else{if(F===47)break;F=47}if(F===47){if(!(W===L-1||P===1))if(W!==L-1&&P===2){if(p.length<2||B!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var X=p.lastIndexOf("/");if(X!==p.length-1){X===-1?(p="",B=0):(p=p.slice(0,X),B=p.length-1-p.lastIndexOf("/")),W=L,P=0;continue}}else if(p.length===2||p.length===1){p="",B=0,W=L,P=0;continue}}v&&(p.length>0?p+="/..":p="..",B=2)}else p.length>0?p+="/"+k.slice(W+1,L):p=k.slice(W+1,L),B=L-W-1;W=L,P=0}else F===46&&P!==-1?++P:P=-1}return p}a(b,"normalizeStringPosix");function g(k,v){var p=v.dir||v.root,B=v.base||(v.name||"")+(v.ext||"");return p?p===v.root?p+B:p+k+B:B}a(g,"_format");var $={resolve:a(function(){for(var v="",p=!1,B,W=arguments.length-1;W>=-1&&!p;W--){var P;W>=0?P=arguments[W]:(B===void 0&&(B=w.cwd()),P=B),h(P),P.length!==0&&(v=P+"/"+v,p=P.charCodeAt(0)===47)}return v=b(v,!p),p?v.length>0?"/"+v:"/":v.length>0?v:"."},"resolve"),normalize:a(function(v){if(h(v),v.length===0)return".";var p=v.charCodeAt(0)===47,B=v.charCodeAt(v.length-1)===47;return v=b(v,!p),v.length===0&&!p&&(v="."),v.length>0&&B&&(v+="/"),p?"/"+v:v},"normalize"),isAbsolute:a(function(v){return h(v),v.length>0&&v.charCodeAt(0)===47},"isAbsolute"),join:a(function(){if(arguments.length===0)return".";for(var v,p=0;p<arguments.length;++p){var B=arguments[p];h(B),B.length>0&&(v===void 0?v=B:v+="/"+B)}return v===void 0?".":$.normalize(v)},"join"),relative:a(function(v,p){if(h(v),h(p),v===p||(v=$.resolve(v),p=$.resolve(p),v===p))return"";for(var B=1;B<v.length&&v.charCodeAt(B)===47;++B);for(var W=v.length,P=W-B,F=1;F<p.length&&p.charCodeAt(F)===47;++F);for(var L=p.length,X=L-F,J=P<X?P:X,ce=-1,D=0;D<=J;++D){if(D===J){if(X>J){if(p.charCodeAt(F+D)===47)return p.slice(F+D+1);if(D===0)return p.slice(F+D)}else P>J&&(v.charCodeAt(B+D)===47?ce=D:D===0&&(ce=0));break}var M=v.charCodeAt(B+D),I=p.charCodeAt(F+D);if(M!==I)break;M===47&&(ce=D)}var m="";for(D=B+ce+1;D<=W;++D)(D===W||v.charCodeAt(D)===47)&&(m.length===0?m+="..":m+="/..");return m.length>0?m+p.slice(F+ce):(F+=ce,p.charCodeAt(F)===47&&++F,p.slice(F))},"relative"),_makeLong:a(function(v){return v},"_makeLong"),dirname:a(function(v){if(h(v),v.length===0)return".";for(var p=v.charCodeAt(0),B=p===47,W=-1,P=!0,F=v.length-1;F>=1;--F)if(p=v.charCodeAt(F),p===47){if(!P){W=F;break}}else P=!1;return W===-1?B?"/":".":B&&W===1?"//":v.slice(0,W)},"dirname"),basename:a(function(v,p){if(p!==void 0&&typeof p!="string")throw new TypeError('"ext" argument must be a string');h(v);var B=0,W=-1,P=!0,F;if(p!==void 0&&p.length>0&&p.length<=v.length){if(p.length===v.length&&p===v)return"";var L=p.length-1,X=-1;for(F=v.length-1;F>=0;--F){var J=v.charCodeAt(F);if(J===47){if(!P){B=F+1;break}}else X===-1&&(P=!1,X=F+1),L>=0&&(J===p.charCodeAt(L)?--L==-1&&(W=F):(L=-1,W=X))}return B===W?W=X:W===-1&&(W=v.length),v.slice(B,W)}else{for(F=v.length-1;F>=0;--F)if(v.charCodeAt(F)===47){if(!P){B=F+1;break}}else W===-1&&(P=!1,W=F+1);return W===-1?"":v.slice(B,W)}},"basename"),extname:a(function(v){h(v);for(var p=-1,B=0,W=-1,P=!0,F=0,L=v.length-1;L>=0;--L){var X=v.charCodeAt(L);if(X===47){if(!P){B=L+1;break}continue}W===-1&&(P=!1,W=L+1),X===46?p===-1?p=L:F!==1&&(F=1):p!==-1&&(F=-1)}return p===-1||W===-1||F===0||F===1&&p===W-1&&p===B+1?"":v.slice(p,W)},"extname"),format:a(function(v){if(v===null||typeof v!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof v);return g("/",v)},"format"),parse:a(function(v){h(v);var p={root:"",dir:"",base:"",ext:"",name:""};if(v.length===0)return p;var B=v.charCodeAt(0),W=B===47,P;W?(p.root="/",P=1):P=0;for(var F=-1,L=0,X=-1,J=!0,ce=v.length-1,D=0;ce>=P;--ce){if(B=v.charCodeAt(ce),B===47){if(!J){L=ce+1;break}continue}X===-1&&(J=!1,X=ce+1),B===46?F===-1?F=ce:D!==1&&(D=1):F!==-1&&(D=-1)}return F===-1||X===-1||D===0||D===1&&F===X-1&&F===L+1?X!==-1&&(L===0&&W?p.base=p.name=v.slice(1,X):p.base=p.name=v.slice(L,X)):(L===0&&W?(p.name=v.slice(1,F),p.base=v.slice(1,X)):(p.name=v.slice(L,F),p.base=v.slice(L,X)),p.ext=v.slice(F,X)),L>0?p.dir=v.slice(0,L-1):W&&(p.dir="/"),p},"parse"),sep:"/",delimiter:":",win32:null,posix:null};$.posix=$,Ve.exports=$},4155:Ve=>{var d=Ve.exports={},y,w;function h(){throw new Error("setTimeout has not been defined")}a(h,"defaultSetTimout");function b(){throw new Error("clearTimeout has not been defined")}a(b,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?y=setTimeout:y=h}catch(X){y=h}try{typeof clearTimeout=="function"?w=clearTimeout:w=b}catch(X){w=b}}();function g(X){if(y===setTimeout)return setTimeout(X,0);if((y===h||!y)&&setTimeout)return y=setTimeout,setTimeout(X,0);try{return y(X,0)}catch(J){try{return y.call(null,X,0)}catch(ce){return y.call(this,X,0)}}}a(g,"runTimeout");function $(X){if(w===clearTimeout)return clearTimeout(X);if((w===b||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(X);try{return w(X)}catch(J){try{return w.call(null,X)}catch(ce){return w.call(this,X)}}}a($,"runClearTimeout");var k=[],v=!1,p,B=-1;function W(){!v||!p||(v=!1,p.length?k=p.concat(k):B=-1,k.length&&P())}a(W,"cleanUpNextTick");function P(){if(!v){var X=g(W);v=!0;for(var J=k.length;J;){for(p=k,k=[];++B<J;)p&&p[B].run();B=-1,J=k.length}p=null,v=!1,$(X)}}a(P,"drainQueue"),d.nextTick=function(X){var J=new Array(arguments.length-1);if(arguments.length>1)for(var ce=1;ce<arguments.length;ce++)J[ce-1]=arguments[ce];k.push(new F(X,J)),k.length===1&&!v&&g(P)};function F(X,J){this.fun=X,this.array=J}a(F,"Item"),F.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={};function L(){}a(L,"noop"),d.on=L,d.addListener=L,d.once=L,d.off=L,d.removeListener=L,d.removeAllListeners=L,d.emit=L,d.prependListener=L,d.prependOnceListener=L,d.listeners=function(X){return[]},d.binding=function(X){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(X){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},6529:()=>{},6391:()=>{}},ha={};function xn(Ve){var d=ha[Ve];if(d!==void 0)return d.exports;var y=ha[Ve]={id:Ve,loaded:!1,exports:{}};return Ia[Ve].call(y.exports,y,y.exports,xn),y.loaded=!0,y.exports}a(xn,"__webpack_require__"),(()=>{xn.n=Ve=>{var d=Ve&&Ve.__esModule?()=>Ve.default:()=>Ve;return xn.d(d,{a:d}),d}})(),(()=>{xn.d=(Ve,d)=>{for(var y in d)xn.o(d,y)&&!xn.o(Ve,y)&&Object.defineProperty(Ve,y,{enumerable:!0,get:d[y]})}})(),(()=>{xn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(Ve){if(typeof window=="object")return window}}()})(),(()=>{xn.o=(Ve,d)=>Object.prototype.hasOwnProperty.call(Ve,d)})(),(()=>{xn.r=Ve=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ve,"__esModule",{value:!0})}})(),(()=>{xn.nmd=Ve=>(Ve.paths=[],Ve.children||(Ve.children=[]),Ve)})();var Pa={};(()=>{"use strict";xn.r(Pa),xn.d(Pa,{activate:()=>as});var Ve={};xn.r(Ve),xn.d(Ve,{max:()=>Ti,min:()=>mi});const d=require("vscode"),y=new TextDecoder,w=new TextEncoder,h=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function b(n){const e=w.encode(n),t=new Array(e.length);for(let r=0;r<e.length;++r)t[r]=h[e[r]];return t.join("")}a(b,"encodeUtf8Hex");function g(n){const e=n.match(/(\w{2})/g);if(e===null)return"";const t=new Uint8Array(e.map(r=>parseInt(r,16)));return y.decode(t)}a(g,"decodeUtf8Hex");const $=/^[0-9a-f]{40}$/i;function k(n){return n!==void 0&&$.test(n)}a(k,"isSha");const v=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function p(n){return v.test(n)}a(p,"isValidBranchName");function B(n){return n===""||n==="~"||n==="HEAD"?n:n.endsWith("^")?`${n.substr(0,7)}^`:n.substr(0,7)}a(B,"shortenRef");const W=47;function P(n){if(n===void 0)return;const e=n.path.endsWith("/");return!e&&!n.fragment?n.toString():n.with({path:e?n.path.slice(0,-1):n.path,fragment:""}).toString()}a(P,"asKey");function F(n){if(n===void 0)return;const e=n.path.endsWith("/");return!e&&!n.query&&!n.fragment?n.toString():n.with({path:e?n.path.slice(0,-1):n.path,query:"",fragment:""}).toString()}a(F,"asFileKey");function L(n,e){return`${(e==null?void 0:e.excludeScheme)?"":`${n.scheme}-`}${n.authority}${n.path.endsWith("/")?n.path.slice(0,-1):n.path}`}a(L,"asFileStorageKey");function X(n){const e=typeof n=="string"?n:n.path;let t=0,r=-1,i=!0;for(let s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===W){if(!i){t=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":e.slice(t,r)}a(X,"uris_basename");function J(n){const e=n.path;if(e.length===1)return"/";let t,r=-1,i=!0;for(let s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),t===W){if(!i){r=s;break}}else i=!1;return r===-1?"/":e.slice(0,r)}a(J,"dirname");function ce(n){const e=n.path.lastIndexOf("/");return e===-1?n.with({path:"/"}):n.with({path:n.path.substring(0,e)})}a(ce,"getParent");function D(n,e){const t=typeof e=="string"?e:e.path;return t.startsWith(n.path)?d.Uri.joinPath(n,t.substr(n.path.length)):d.Uri.joinPath(n,t)}a(D,"joinRelativePath");function M(n,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),I(n,e)&&n.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):I(n,e)&&n.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}a(M,"isChild");function I(n,e){if(typeof n=="string")return e=typeof e=="string"?e:e.path,e.startsWith("/")||(e=`/${e}`),e.length===1||n.startsWith(e.endsWith("/")?e:`${e}/`);if(typeof e=="string"){e.startsWith("/")||(e=`/${e}`);const t=typeof n=="string"?n:n.path;return e.length===1||t.startsWith(e.endsWith("/")?e:`${e}/`)}return e.scheme===n.scheme&&e.authority===n.authority&&(e.path.length===1||n.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}a(I,"uris_isDescendent");function m(n){return n&&typeof n=="object"&&"scheme"in n}a(m,"isSerializedUri");function R(n){return n.split("/").map(e=>encodeURIComponent(e)).join("/")}a(R,"encodeURIComponentExceptSlashes");var T;(function(n){n.authoritySeparator="+",n.scheme="vscode-vfs",n.baseVirtualWorkspaceUri=d.Uri.parse(`${n.scheme}://`);function e(c){const{authority:_}=c,H=_.indexOf(n.authoritySeparator);return H!==-1?_.substr(0,H):_}a(e,"getProviderId"),n.getProviderId=e;function t(c){return c.scheme!==n.scheme?c:c.with({scheme:e(c)})}a(t,"getProviderUri"),n.getProviderUri=t;function r(c,_){const H=new Map,C=d.workspace.textDocuments;if(C.length===0)return H;for(const ne of C)ne.uri.scheme===c&&_.some(we=>I(ne.uri,we))&&H.set(P(ne.uri),ne.uri);return H}a(r,"getOpenUris"),n.getOpenUris=r;function i(c){return c.scheme===n.scheme?c:c.with({scheme:n.scheme})}a(i,"getVirtualUri"),n.getVirtualUri=i;function s(c,_){const[H,C]=c.authority.split(n.authoritySeparator);let ne;if(C)try{const we=JSON.parse(g(C));ne=_?_(we):we}catch{}return{scheme:H,metadata:ne}}a(s,"decodeAuthority"),n.decodeAuthority=s;function o(c,_){const H=_?`${n.authoritySeparator}${b(JSON.stringify(_))}`:"";return`${c}${H}`}a(o,"encodeAuthority"),n.encodeAuthority=o;function u(c){return c.authority.indexOf(n.authoritySeparator)===-1}a(u,"isCanonicalUri"),n.isCanonicalUri=u;function l(){var c,_;return(_=(c=d.workspace.workspaceFolders)==null?void 0:c.every(H=>H.uri.scheme===n.scheme))!=null?_:!1}a(l,"isVirtualWorkspace"),n.isVirtualWorkspace=l})(T||(T={}));var G;(function(n){n[n.Admin=100]="Admin",n[n.Maintain=40]="Maintain",n[n.WriteToPullRequest=31]="WriteToPullRequest",n[n.Write=30]="Write",n[n.Triage=20]="Triage",n[n.Read=10]="Read",n[n.None=0]="None"})(G||(G={}));var K;(function(n){n[n.Branch=0]="Branch",n[n.RemoteBranch=1]="RemoteBranch",n[n.Tag=2]="Tag",n[n.Commit=3]="Commit"})(K||(K={}));var Y;(function(n){function e(t){return t!==void 0&&t.type===V.Active}a(e,"isActive"),n.isActive=e})(Y||(Y={}));var re;(function(n){function e(t){const r=T.decodeAuthority(t).metadata;if(!(r===void 0||r.idx===void 0)){if(r.idx==="latest")return{type:ve.Latest};if(k(r.idx))return{type:ve.SHA,sha:r.idx}}}a(e,"decode"),n.decode=e})(re||(re={}));var ve;(function(n){n[n.Latest=1]="Latest",n[n.SHA=2]="SHA"})(ve||(ve={}));var V;(function(n){n[n.NotIndexed=0]="NotIndexed",n[n.Indexed=1]="Indexed",n[n.Match=2]="Match",n[n.Active=3]="Active"})(V||(V={})),function(n){function e(t){return t!==void 0&&(t===n.Indexed||t===n.Match||t===n.Active)}a(e,"hasIndex"),n.hasIndex=e}(V||(V={}));var fe;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed",n[n.Merged=2]="Merged"})(fe||(fe={}));var N;(function(n){n[n.Changed=1]="Changed",n[n.Created=2]="Created",n[n.Deleted=3]="Deleted"})(N||(N={}));var Ne;(function(n){n.CurrentWindow="currentWindow",n.NewWindow="newWindow",n.AddToWorkspace="addToWorkspace"})(Ne||(Ne={}));var ue;(function(n){n[n.Branch=0]="Branch",n[n.Tag=1]="Tag",n[n.Commit=2]="Commit",n[n.PullRequest=3]="PullRequest",n[n.Tree=4]="Tree"})(ue||(ue={}));var ee;(function(n){n[n.Abort=0]="Abort",n[n.KeepCurrent=1]="KeepCurrent",n[n.DiscardCurrent=2]="DiscardCurrent",n[n.Merge=3]="Merge"})(ee||(ee={}));var z;(function(n){n[n.Repository=0]="Repository",n[n.PullRequest=1]="PullRequest",n[n.Branch=2]="Branch",n[n.Commit=3]="Commit",n[n.File=4]="File",n[n.Tag=5]="Tag"})(z||(z={}));var se;(function(n){n.Branch="branch",n.RemoteBranch="remoteBranch",n.PullRequestBranch="pullRequestBranch",n.PullRequestRemoteBranch="pullRequestRemoteBranch",n.Tag="tag",n.Commit="commit"})(se||(se={}));var Ee;(function(n){n.None="none",n.Latest="latest",n.Match="match",n.TipPlusLatest="tip+latest"})(Ee||(Ee={}));var Le;(function(n){n.Browse="browse",n.Edit="edit"})(Le||(Le={}));var te;(function(n){n.CommitFailedError="CommitFailedError",n.DetachedHEADError="DetachedHEADError",n.CommitToProtectedBranchError="CommitToProtectedBranchError",n.CommitToArchivedRepositoryError="CommitToArchivedRepositoryError",n.InvalidBranchNameError="InvalidBranchNameError",n.InvalidCredentialsError="InvalidCredentialsError",n.MergeConflictError="MergeConflictError",n.NothingToCommitError="NothingToCommitError",n.SyncConflictsError="SyncConflictsError",n.SyncOrFetchError="SyncOrFetchError",n.UnresolvedConflictsError="UnresolvedConflictsError",n.InvalidRepositoryError="InvalidRepositoryError",n.Unknown="Unknown"})(te||(te={}));class Be extends Error{constructor(e,t,r){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=t,this.action=r}static CommitFailedError(){return new Be("Failed to create and push commit",te.CommitFailedError)}static DetachedHEADError(e){return new Be(e,te.DetachedHEADError)}static CommitToProtectedBranchError(e){return new Be(e,te.CommitToProtectedBranchError)}static CommitToArchivedRepositoryError(e){return new Be(e,te.CommitToArchivedRepositoryError)}static InvalidBranchNameError(e,t=!1){const r=t?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new Be(r,te.InvalidBranchNameError)}static InvalidCredentialsError(e,t){return new Be(e,te.InvalidCredentialsError,t)}static MergeConflictError(e){return new Be(e,te.MergeConflictError)}static NothingToCommitError(e){return new Be(e,te.NothingToCommitError)}static SyncOrFetchError(e=!1){const t=e?"Unable to sync the repository":"Unable to fetch the repository";return new Be(t,te.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new Be(e,te.SyncConflictsError)}static UnresolvedConflictsError(){return new Be("You have unresolved merge conflicts.",te.UnresolvedConflictsError)}static InvalidRepositoryError(){return new Be("The current repository is invalid",te.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:te.Unknown}}a(Be,"VirtualProviderError");const Ke=6;var Je;(function(n){n.Off="off",n.Auto="auto",n.Always="always"})(Je||(Je={}));var U;(function(n){n.None="none",n.Latest="latest",n.Match="match",n.TipPlusLatest="tip+latest"})(U||(U={})),function(n){function e(t){return t===n.None||t===n.Latest||t===n.Match||t===n.TipPlusLatest?t:n.None}a(e,"sanitize"),n.sanitize=e}(U||(U={}));var j;(function(n){n.Browse="browse",n.Edit="edit"})(j||(j={})),function(n){function e(r){return r===n.Browse||r===n.Edit?r:n.Edit}a(e,"sanitize"),n.sanitize=e;function t(r){return r===n.Browse?n.Edit:n.Browse}a(t,"toggle"),n.toggle=t}(j||(j={}));var Z;(function(n){function e(t,r){return t.display===r.display&&t.index===r.index}a(e,"equals"),n.equals=e})(Z||(Z={}));var he;(function(n){const e=new Map([[se.Branch,U.None],[se.RemoteBranch,U.None],[se.PullRequestBranch,U.Match],[se.PullRequestRemoteBranch,U.Match],[se.Commit,U.Match],[se.Tag,U.Match]]),t=new Map([[se.Branch,j.Edit],[se.RemoteBranch,j.Edit],[se.PullRequestBranch,j.Browse],[se.PullRequestRemoteBranch,j.Browse],[se.Commit,j.Browse],[se.Tag,j.Browse]]);function r(s){var o,u;return{display:(o=t.get(s))!=null?o:j.Edit,index:(u=e.get(s))!=null?u:U.None}}a(r,"getDefault"),n.getDefault=r;function i(s){switch(s){case se.Branch:case se.RemoteBranch:return{display:j.Browse,index:U.Latest};case se.PullRequestBranch:case se.PullRequestRemoteBranch:return{display:j.Browse,index:U.Match};case se.Commit:case se.Tag:return{display:j.Browse,index:U.Match};default:return{display:j.Edit,index:U.None}}}a(i,"getIndexDefault"),n.getIndexDefault=i})(he||(he={}));const De=null;var be=xn(5179),le=xn.n(be);const ye="modes",Ae="indexMemento";class He{constructor(){this._onDidChange=new d.EventEmitter,this._onDidChangeAny=new d.EventEmitter,this.memoryState=new Map}static configure(e,t){Ie.configPrefix=e,Ie.state=t.workspaceState,t.subscriptions.push(d.workspace.onDidChangeConfiguration(Ie.onConfigurationChanged,Ie))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(ye),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const t of this.memoryState.entries())this.modes[t[0]]=t[1];this._state.update(ye,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(Ae),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,t,r){const i=this.inspect(e,t);return i===void 0&&r!==void 0?r:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(e,t,r){return r===void 0?d.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e):d.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e,r)}getMode(e,t,r){var i;const s=e.toString();let o=this.modes!==void 0?this.modes[s]:void 0;if(o!==void 0)return{display:j.sanitize(o.display),index:U.sanitize(o.index)};if(o=this.memoryState.get(s),o!==void 0)return o;if(t===se.Branch||t===se.RemoteBranch)switch((i=d.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:i.get("branch")){case"none":return{display:j.Edit,index:U.None};case"latest":return{display:j.Browse,index:U.Latest};case"tipPlusLatest":return{display:j.Edit,index:U.TipPlusLatest}}if(!r)return he.getDefault(t)}setMode(e,t){const r=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(r,t),Promise.resolve()):(this.modes[r]=t,this._state.update(ye,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,t){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=t,this._state.update(Ae,this.indexMemento))}getAny(e,t,r){return r===void 0?d.workspace.getConfiguration(void 0,t).get(e):d.workspace.getConfiguration(void 0,t).get(e,r)}changed(e,t,r){var i;return(i=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${t}`,r))!=null?i:!0}inspect(e,t){return d.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,t){return d.workspace.getConfiguration(void 0,t).inspect(e)}async migrate(e,t,r){const i=Ie.inspect(e);if(i===void 0)return!1;let s=!1;return i.globalValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,d.ConfigurationTarget.Global),s=!0),i.workspaceValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,d.ConfigurationTarget.Workspace),s=!0),i.workspaceFolderValue!==void 0&&(await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,d.ConfigurationTarget.WorkspaceFolder),s=!0),!s&&r.fallbackValue!==void 0&&(await this.update(t,r.fallbackValue,d.ConfigurationTarget.Global),s=!0),s}async migrateIfMissing(e,t,r){const i=Ie.inspect(e);if(i===void 0)return;const s=Ie.inspect(t);i.globalValue!==void 0&&(s===void 0||s.globalValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,d.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(s===void 0||s.workspaceValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,d.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(s===void 0||s.workspaceFolderValue===void 0)&&await this.update(t,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,d.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,t,r){return d.workspace.getConfiguration(this.configPrefix).update(e,t,r)}updateAny(e,t,r,i){return d.workspace.getConfiguration(void 0,r===d.ConfigurationTarget.Global?void 0:i).update(e,t,r)}updateEffective(e,t){const r=Ie.inspect(e);return r.workspaceFolderValue!==void 0?t===r.workspaceFolderValue?Promise.resolve(void 0):Ie.update(e,t,d.ConfigurationTarget.WorkspaceFolder):r.workspaceValue!==void 0?t===r.workspaceValue?Promise.resolve(void 0):Ie.update(e,t,d.ConfigurationTarget.Workspace):r.globalValue===t||r.globalValue===void 0&&t===r.defaultValue?Promise.resolve(void 0):Ie.update(e,le()(t,r.defaultValue)?void 0:t,d.ConfigurationTarget.Global)}}a(He,"Configuration");const Ie=new He,Re="";var q;(function(n){n[n.Off=0]="Off",n[n.Error=1]="Error",n[n.Warn=2]="Warn",n[n.Info=3]="Info",n[n.Debug=4]="Debug"})(q||(q={}));const Ce="[RemoteHub]",ie=a(class{static configure(n,e){this._isDebugging=n.extensionMode===d.ExtensionMode.Development,this.outputChannelName=e}static enabled(n){return this.level>=this.toOrderedLevel(n)}static toOrderedLevel(n){switch(n){case d.LogLevel.Off:return 0;case d.LogLevel.Error:return 1;case d.LogLevel.Warning:return 2;case d.LogLevel.Info:return 3;case d.LogLevel.Debug:case d.LogLevel.Trace:return 4}}static get isDebugging(){return this._isDebugging}static ensureOutputChannel(){var n;this.level=this.toOrderedLevel(d.env.logLevel),this.output=(n=this.output)!=null?n:d.window.createOutputChannel(this.outputChannelName,{log:!0})}static debug(n,...e){var t;this.ensureOutputChannel(),ie.isDebugging&&console.log(Ce,n!=null?n:Re,...e),(t=this.output)==null||t.debug(`${n!=null?n:Re}${this.toLoggableParams(!0,e)}`)}static error(n,e,...t){var r;if(this.ensureOutputChannel(),!(this.level<1&&!ie.isDebugging)){if(e===void 0){const i=n instanceof Error?n.stack:void 0;if(i){const s=/.*\s*?at\s(.+?)\s/.exec(i);s!==null&&(e=s[1])}}ie.isDebugging&&console.error(Ce,e!=null?e:Re,...t,n),(r=this.output)==null||r.error(`${e!=null?e:Re}${this.toLoggableParams(!1,t)}
${String(n)}`)}}static log(n,...e){var t;this.ensureOutputChannel(),ie.isDebugging&&console.log(Ce,n!=null?n:Re,...e),(t=this.output)==null||t.info(`${n!=null?n:Re}${this.toLoggableParams(!1,e)}`)}static warn(n,...e){var t;this.ensureOutputChannel(),ie.isDebugging&&console.warn(Ce,n!=null?n:Re,...e),(t=this.output)==null||t.warn(`${n!=null?n:Re}${this.toLoggableParams(!1,e)}`)}static toLoggable(n,e){if(typeof n!="object")return String(n);if(n instanceof d.Uri)return`Uri(${n.toString(!0)})`;try{return JSON.stringify(n,e)}catch{return"<error>"}}static toLoggableName(n){var e,t,r;let i;if(typeof n=="function"){if(n.prototype===void 0||n.prototype.constructor===void 0)return n.name;i=(e=n.prototype.constructor.name)!=null?e:Re}else i=(r=(t=n.constructor)==null?void 0:t.name)!=null?r:Re;const s=i.indexOf("_");return s===-1?i:i.substr(s+1)}static toLoggableParams(n,e){if(e.length===0||n&&this.level<4&&!ie.isDebugging)return Re;const t=e.map(r=>this.toLoggable(r)).join(", ");return t.length!==0?` \u2014 ${t}`:Re}},"_Logger");let ae=ie;ae.level=0;class $e{constructor(e){this.provider=e,this._timeout=0,this._disposable=Ie.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const t=Ie.get("autoFetch");this._config={enabled:(e=t.enabled)!=null?e:!0,interval:t.interval*1e3}}return this._config}onConfigurationChanged(e){!Ie.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await d.window.withProgress({location:d.ProgressLocation.SourceControl},async()=>{for(const t of e)try{await this.provider.fetch(t.uri)}catch(r){ae.error(r)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}a($e,"AutoFetchService");function ht(){}a(ht,"Diff"),ht.prototype={diff:a(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var s=this;function o(me){return i?(setTimeout(function(){i(void 0,me)},0),!0):me}a(o,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var u=t.length,l=e.length,c=1,_=u+l,H=[{newPos:-1,components:[]}],C=this.extractCommon(H[0],t,e,0);if(H[0].newPos+1>=u&&C+1>=l)return o([{value:this.join(t),count:t.length}]);function ne(){for(var me=-1*c;me<=c;me+=2){var ze=void 0,gt=H[me-1],St=H[me+1],Xt=(St?St.newPos:0)-me;gt&&(H[me-1]=void 0);var un=gt&&gt.newPos+1<u,ln=St&&0<=Xt&&Xt<l;if(!un&&!ln){H[me]=void 0;continue}if(!un||ln&&gt.newPos<St.newPos?(ze=mn(St),s.pushComponent(ze.components,void 0,!0)):(ze=gt,ze.newPos++,s.pushComponent(ze.components,!0,void 0)),Xt=s.extractCommon(ze,t,e,me),ze.newPos+1>=u&&Xt+1>=l)return o(Mt(s,ze.components,t,e,s.useLongestToken));H[me]=ze}c++}if(a(ne,"execEditLength"),i)a(function me(){setTimeout(function(){if(c>_)return i();ne()||me()},0)},"exec")();else for(;c<=_;){var we=ne();if(we)return we}},"diff"),pushComponent:a(function(e,t,r){var i=e[e.length-1];i&&i.added===t&&i.removed===r?e[e.length-1]={count:i.count+1,added:t,removed:r}:e.push({count:1,added:t,removed:r})},"pushComponent"),extractCommon:a(function(e,t,r,i){for(var s=t.length,o=r.length,u=e.newPos,l=u-i,c=0;u+1<s&&l+1<o&&this.equals(t[u+1],r[l+1]);)u++,l++,c++;return c&&e.components.push({count:c}),e.newPos=u,l},"extractCommon"),equals:a(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:a(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:a(function(e){return e},"castInput"),tokenize:a(function(e){return e.split("")},"tokenize"),join:a(function(e){return e.join("")},"join")};function Mt(n,e,t,r,i){for(var s=0,o=e.length,u=0,l=0;s<o;s++){var c=e[s];if(c.removed){if(c.value=n.join(r.slice(l,l+c.count)),l+=c.count,s&&e[s-1].added){var H=e[s-1];e[s-1]=e[s],e[s]=H}}else{if(!c.added&&i){var _=t.slice(u,u+c.count);_=_.map(function(ne,we){var me=r[l+we];return me.length>ne.length?me:ne}),c.value=n.join(_)}else c.value=n.join(t.slice(u,u+c.count));u+=c.count,c.added||(l+=c.count)}}var C=e[o-1];return o>1&&typeof C.value=="string"&&(C.added||C.removed)&&n.equals("",C.value)&&(e[o-2].value+=C.value,e.pop()),e}a(Mt,"buildValues");function mn(n){return{newPos:n.newPos,components:n.components.slice(0)}}a(mn,"clonePath");var an=new ht;function jn(n,e,t){return an.diff(n,e,t)}a(jn,"diffChars");function Un(n,e){if(typeof n=="function")e.callback=n;else if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}a(Un,"generateOptions");var bn=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ir=/\S/,ur=new ht;ur.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!ir.test(n)&&!ir.test(e)},ur.tokenize=function(n){for(var e=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&bn.test(e[t])&&bn.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};function Or(n,e,t){return t=Un(t,{ignoreWhitespace:!0}),ur.diff(n,e,t)}a(Or,"diffWords");function rt(n,e,t){return ur.diff(n,e,t)}a(rt,"diffWordsWithSpace");var Rt=new ht;Rt.tokenize=function(n){var e=[],t=n.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var i=t[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function kt(n,e,t){return Rt.diff(n,e,t)}a(kt,"diffLines");function Bt(n,e,t){var r=Un(t,{ignoreWhitespace:!0});return Rt.diff(n,e,r)}a(Bt,"diffTrimmedLines");var Gt=new ht;Gt.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};function gn(n,e,t){return Gt.diff(n,e,t)}a(gn,"diffSentences");var kn=new ht;kn.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function ar(n,e,t){return kn.diff(n,e,t)}a(ar,"diffCss");function Wn(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wn=a(function(e){return typeof e},"_typeof"):Wn=a(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),Wn(n)}a(Wn,"_typeof");function An(n){return wr(n)||Vn(n)||zn(n)||Sn()}a(An,"_toConsumableArray");function wr(n){if(Array.isArray(n))return lr(n)}a(wr,"_arrayWithoutHoles");function Vn(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}a(Vn,"_iterableToArray");function zn(n,e){if(!!n){if(typeof n=="string")return lr(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lr(n,e)}}a(zn,"_unsupportedIterableToArray");function lr(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}a(lr,"_arrayLikeToArray");function Sn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Sn,"_nonIterableSpread");var Fr=Object.prototype.toString,Jn=new ht;Jn.useLongestToken=!0,Jn.tokenize=Rt.tokenize,Jn.castInput=function(n){var e=this.options,t=e.undefinedReplacement,r=e.stringifyReplacer,i=r===void 0?function(s,o){return typeof o=="undefined"?t:o}:r;return typeof n=="string"?n:JSON.stringify(Kr(n,null,null,i),i,"  ")},Jn.equals=function(n,e){return ht.prototype.equals.call(Jn,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function Mr(n,e,t){return Jn.diff(n,e,t)}a(Mr,"diffJson");function Kr(n,e,t,r,i){e=e||[],t=t||[],r&&(n=r(i,n));var s;for(s=0;s<e.length;s+=1)if(e[s]===n)return t[s];var o;if(Fr.call(n)==="[object Array]"){for(e.push(n),o=new Array(n.length),t.push(o),s=0;s<n.length;s+=1)o[s]=Kr(n[s],e,t,r,i);return e.pop(),t.pop(),o}if(n&&n.toJSON&&(n=n.toJSON()),Wn(n)==="object"&&n!==null){e.push(n),o={},t.push(o);var u=[],l;for(l in n)n.hasOwnProperty(l)&&u.push(l);for(u.sort(),s=0;s<u.length;s+=1)l=u[s],o[l]=Kr(n[l],e,t,r,l);e.pop(),t.pop()}else o=n;return o}a(Kr,"canonicalize");var jr=new ht;jr.tokenize=function(n){return n.slice()},jr.join=jr.removeEmpty=function(n){return n};function yr(n,e,t){return jr.diff(n,e,t)}a(yr,"diffArrays");function A(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.split(/\r\n|[\n\v\f\r\x85]/),r=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],s=0;function o(){var c={};for(i.push(c);s<t.length;){var _=t[s];if(/^(\-\-\-|\+\+\+|@@)\s/.test(_))break;var H=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(_);H&&(c.index=H[1]),s++}for(u(c),u(c),c.hunks=[];s<t.length;){var C=t[s];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(C))break;if(/^@@/.test(C))c.hunks.push(l());else{if(C&&e.strict)throw new Error("Unknown line "+(s+1)+" "+JSON.stringify(C));s++}}}a(o,"parseIndex");function u(c){var _=/^(---|\+\+\+)\s+(.*)$/.exec(t[s]);if(_){var H=_[1]==="---"?"old":"new",C=_[2].split("	",2),ne=C[0].replace(/\\\\/g,"\\");/^".*"$/.test(ne)&&(ne=ne.substr(1,ne.length-2)),c[H+"FileName"]=ne,c[H+"Header"]=(C[1]||"").trim(),s++}}a(u,"parseFileHeader");function l(){var c=s,_=t[s++],H=_.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),C={oldStart:+H[1],oldLines:typeof H[2]=="undefined"?1:+H[2],newStart:+H[3],newLines:typeof H[4]=="undefined"?1:+H[4],lines:[],linedelimiters:[]};C.oldLines===0&&(C.oldStart+=1),C.newLines===0&&(C.newStart+=1);for(var ne=0,we=0;s<t.length&&!(t[s].indexOf("--- ")===0&&s+2<t.length&&t[s+1].indexOf("+++ ")===0&&t[s+2].indexOf("@@")===0);s++){var me=t[s].length==0&&s!=t.length-1?" ":t[s][0];if(me==="+"||me==="-"||me===" "||me==="\\")C.lines.push(t[s]),C.linedelimiters.push(r[s]||`
`),me==="+"?ne++:me==="-"?we++:me===" "&&(ne++,we++);else break}if(!ne&&C.newLines===1&&(C.newLines=0),!we&&C.oldLines===1&&(C.oldLines=0),e.strict){if(ne!==C.newLines)throw new Error("Added line count did not match for hunk at line "+(c+1));if(we!==C.oldLines)throw new Error("Removed line count did not match for hunk at line "+(c+1))}return C}for(a(l,"parseHunk");s<t.length;)o();return i}a(A,"parsePatch");function de(n,e,t){var r=!0,i=!1,s=!1,o=1;return a(function u(){if(r&&!s){if(i?o++:r=!1,n+o<=t)return o;s=!0}if(!i)return s||(r=!0),e<=n-o?-o++:(i=!0,u())},"iterator")}a(de,"distanceIterator");function Se(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=A(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r=n.split(/\r\n|[\n\v\f\r\x85]/),i=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=e.hunks,o=t.compareLine||function(Ya,da,Ra,ki){return da===ki},u=0,l=t.fuzzFactor||0,c=0,_=0,H,C;function ne(Ya,da){for(var Ra=0;Ra<Ya.lines.length;Ra++){var ki=Ya.lines[Ra],Ga=ki.length>0?ki[0]:" ",ss=ki.length>0?ki.substr(1):ki;if(Ga===" "||Ga==="-"){if(!o(da+1,r[da],Ga,ss)&&(u++,u>l))return!1;da++}}return!0}a(ne,"hunkFits");for(var we=0;we<s.length;we++){for(var me=s[we],ze=r.length-me.oldLines,gt=0,St=_+me.oldStart-1,Xt=de(St,c,ze);gt!==void 0;gt=Xt())if(ne(me,St+gt)){me.offset=_+=gt;break}if(gt===void 0)return!1;c=me.offset+me.oldStart+me.oldLines}for(var un=0,ln=0;ln<s.length;ln++){var Cn=s[ln],Gn=Cn.oldStart+Cn.offset+un-1;un+=Cn.newLines-Cn.oldLines;for(var Kn=0;Kn<Cn.lines.length;Kn++){var gr=Cn.lines[Kn],Pr=gr.length>0?gr[0]:" ",gi=gr.length>0?gr.substr(1):gr,Yi=Cn.linedelimiters[Kn];if(Pr===" ")Gn++;else if(Pr==="-")r.splice(Gn,1),i.splice(Gn,1);else if(Pr==="+")r.splice(Gn,0,gi),i.splice(Gn,0,Yi),Gn++;else if(Pr==="\\"){var fa=Cn.lines[Kn-1]?Cn.lines[Kn-1][0]:null;fa==="+"?H=!0:fa==="-"&&(C=!0)}}}if(H)for(;!r[r.length-1];)r.pop(),i.pop();else C&&(r.push(""),i.push(`
`));for(var Ui=0;Ui<r.length-1;Ui++)r[Ui]=r[Ui]+i[Ui];return r.join("")}a(Se,"applyPatch");function Oe(n,e){typeof n=="string"&&(n=A(n));var t=0;function r(){var i=n[t++];if(!i)return e.complete();e.loadFile(i,function(s,o){if(s)return e.complete(s);var u=Se(o,i,e);e.patched(i,u,function(l){if(l)return e.complete(l);r()})})}a(r,"processIndex"),r()}a(Oe,"applyPatches");function Qe(n,e,t,r,i,s,o){o||(o={}),typeof o.context=="undefined"&&(o.context=4);var u=kt(t,r,o);u.push({value:"",lines:[]});function l(gt){return gt.map(function(St){return" "+St})}a(l,"contextLines");for(var c=[],_=0,H=0,C=[],ne=1,we=1,me=a(function(St){var Xt=u[St],un=Xt.lines||Xt.value.replace(/\n$/,"").split(`
`);if(Xt.lines=un,Xt.added||Xt.removed){var ln;if(!_){var Cn=u[St-1];_=ne,H=we,Cn&&(C=o.context>0?l(Cn.lines.slice(-o.context)):[],_-=C.length,H-=C.length)}(ln=C).push.apply(ln,An(un.map(function(Ui){return(Xt.added?"+":"-")+Ui}))),Xt.added?we+=un.length:ne+=un.length}else{if(_)if(un.length<=o.context*2&&St<u.length-2){var Gn;(Gn=C).push.apply(Gn,An(l(un)))}else{var Kn,gr=Math.min(un.length,o.context);(Kn=C).push.apply(Kn,An(l(un.slice(0,gr))));var Pr={oldStart:_,oldLines:ne-_+gr,newStart:H,newLines:we-H+gr,lines:C};if(St>=u.length-2&&un.length<=o.context){var gi=/\n$/.test(t),Yi=/\n$/.test(r),fa=un.length==0&&C.length>Pr.oldLines;!gi&&fa&&t.length>0&&C.splice(Pr.oldLines,0,"\\ No newline at end of file"),(!gi&&!fa||!Yi)&&C.push("\\ No newline at end of file")}c.push(Pr),_=0,H=0,C=[]}ne+=un.length,we+=un.length}},"_loop"),ze=0;ze<u.length;ze++)me(ze);return{oldFileName:n,newFileName:e,oldHeader:i,newHeader:s,hunks:c}}a(Qe,"structuredPatch");function je(n){var e=[];n.oldFileName==n.newFileName&&e.push("Index: "+n.oldFileName),e.push("==================================================================="),e.push("--- "+n.oldFileName+(typeof n.oldHeader=="undefined"?"":"	"+n.oldHeader)),e.push("+++ "+n.newFileName+(typeof n.newHeader=="undefined"?"":"	"+n.newHeader));for(var t=0;t<n.hunks.length;t++){var r=n.hunks[t];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),e.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),e.push.apply(e,r.lines)}return e.join(`
`)+`
`}a(je,"formatPatch");function tt(n,e,t,r,i,s,o){return je(Qe(n,e,t,r,i,s,o))}a(tt,"createTwoFilesPatch");function dt(n,e,t,r,i,s){return tt(n,n,e,t,r,i,s)}a(dt,"createPatch");function _t(n,e){return n.length!==e.length?!1:$t(n,e)}a(_t,"arrayEqual");function $t(n,e){if(e.length>n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}a($t,"arrayStartsWith");function lt(n){var e=fn(n.lines),t=e.oldLines,r=e.newLines;t!==void 0?n.oldLines=t:delete n.oldLines,r!==void 0?n.newLines=r:delete n.newLines}a(lt,"calcLineCount");function Lt(n,e,t){n=Et(n,t),e=Et(e,t);var r={};(n.index||e.index)&&(r.index=n.index||e.index),(n.newFileName||e.newFileName)&&(wt(n)?wt(e)?(r.oldFileName=yt(r,n.oldFileName,e.oldFileName),r.newFileName=yt(r,n.newFileName,e.newFileName),r.oldHeader=yt(r,n.oldHeader,e.oldHeader),r.newHeader=yt(r,n.newHeader,e.newHeader)):(r.oldFileName=n.oldFileName,r.newFileName=n.newFileName,r.oldHeader=n.oldHeader,r.newHeader=n.newHeader):(r.oldFileName=e.oldFileName||n.oldFileName,r.newFileName=e.newFileName||n.newFileName,r.oldHeader=e.oldHeader||n.oldHeader,r.newHeader=e.newHeader||n.newHeader)),r.hunks=[];for(var i=0,s=0,o=0,u=0;i<n.hunks.length||s<e.hunks.length;){var l=n.hunks[i]||{oldStart:1/0},c=e.hunks[s]||{oldStart:1/0};if(Rn(l,c))r.hunks.push(sn(l,o)),i++,u+=l.newLines-l.oldLines;else if(Rn(c,l))r.hunks.push(sn(c,u)),s++,o+=c.newLines-c.oldLines;else{var _={oldStart:Math.min(l.oldStart,c.oldStart),oldLines:0,newStart:Math.min(l.newStart+o,c.oldStart+u),newLines:0,lines:[]};cr(_,l.oldStart,l.lines,c.oldStart,c.lines),s++,i++,r.hunks.push(_)}}return r}a(Lt,"merge");function Et(n,e){if(typeof n=="string"){if(/^@@/m.test(n)||/^Index:/m.test(n))return A(n)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return Qe(void 0,void 0,e,n)}return n}a(Et,"loadPatch");function wt(n){return n.newFileName&&n.newFileName!==n.oldFileName}a(wt,"fileNameChanged");function yt(n,e,t){return e===t?e:(n.conflict=!0,{mine:e,theirs:t})}a(yt,"selectField");function Rn(n,e){return n.oldStart<e.oldStart&&n.oldStart+n.oldLines<e.oldStart}a(Rn,"hunkBefore");function sn(n,e){return{oldStart:n.oldStart,oldLines:n.oldLines,newStart:n.newStart+e,newLines:n.newLines,lines:n.lines}}a(sn,"cloneHunk");function cr(n,e,t,r,i){var s={offset:e,lines:t,index:0},o={offset:r,lines:i,index:0};for(Nr(n,s,o),Nr(n,o,s);s.index<s.lines.length&&o.index<o.lines.length;){var u=s.lines[s.index],l=o.lines[o.index];if((u[0]==="-"||u[0]==="+")&&(l[0]==="-"||l[0]==="+"))Bn(n,s,o);else if(u[0]==="+"&&l[0]===" "){var c;(c=n.lines).push.apply(c,An(nr(s)))}else if(l[0]==="+"&&u[0]===" "){var _;(_=n.lines).push.apply(_,An(nr(o)))}else u[0]==="-"&&l[0]===" "?tr(n,s,o):l[0]==="-"&&u[0]===" "?tr(n,o,s,!0):u===l?(n.lines.push(u),s.index++,o.index++):Lr(n,nr(s),nr(o))}Qn(n,s),Qn(n,o),lt(n)}a(cr,"mergeLines");function Bn(n,e,t){var r=nr(e),i=nr(t);if(In(r)&&In(i)){if($t(r,i)&&wn(t,r,r.length-i.length)){var s;(s=n.lines).push.apply(s,An(r));return}else if($t(i,r)&&wn(e,i,i.length-r.length)){var o;(o=n.lines).push.apply(o,An(i));return}}else if(_t(r,i)){var u;(u=n.lines).push.apply(u,An(r));return}Lr(n,r,i)}a(Bn,"mutualChange");function tr(n,e,t,r){var i=nr(e),s=Nt(t,i);if(s.merged){var o;(o=n.lines).push.apply(o,An(s.merged))}else Lr(n,r?s:i,r?i:s)}a(tr,"removal");function Lr(n,e,t){n.conflict=!0,n.lines.push({conflict:!0,mine:e,theirs:t})}a(Lr,"conflict");function Nr(n,e,t){for(;e.offset<t.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];n.lines.push(r),e.offset++}}a(Nr,"insertLeading");function Qn(n,e){for(;e.index<e.lines.length;){var t=e.lines[e.index++];n.lines.push(t)}}a(Qn,"insertTrailing");function nr(n){for(var e=[],t=n.lines[n.index][0];n.index<n.lines.length;){var r=n.lines[n.index];if(t==="-"&&r[0]==="+"&&(t="+"),t===r[0])e.push(r),n.index++;else break}return e}a(nr,"collectChange");function Nt(n,e){for(var t=[],r=[],i=0,s=!1,o=!1;i<e.length&&n.index<n.lines.length;){var u=n.lines[n.index],l=e[i];if(l[0]==="+")break;if(s=s||u[0]!==" ",r.push(l),i++,u[0]==="+")for(o=!0;u[0]==="+";)t.push(u),u=n.lines[++n.index];l.substr(1)===u.substr(1)?(t.push(u),n.index++):o=!0}if((e[i]||"")[0]==="+"&&s&&(o=!0),o)return t;for(;i<e.length;)r.push(e[i++]);return{merged:r,changes:t}}a(Nt,"collectContext");function In(n){return n.reduce(function(e,t){return e&&t[0]==="-"},!0)}a(In,"allRemoves");function wn(n,e,t){for(var r=0;r<t;r++){var i=e[e.length-t+r].substr(1);if(n.lines[n.index+r]!==" "+i)return!1}return n.index+=t,!0}a(wn,"skipRemoveSuperset");function fn(n){var e=0,t=0;return n.forEach(function(r){if(typeof r!="string"){var i=fn(r.mine),s=fn(r.theirs);e!==void 0&&(i.oldLines===s.oldLines?e+=i.oldLines:e=void 0),t!==void 0&&(i.newLines===s.newLines?t+=i.newLines:t=void 0)}else t!==void 0&&(r[0]==="+"||r[0]===" ")&&t++,e!==void 0&&(r[0]==="-"||r[0]===" ")&&e++}),{oldLines:e,newLines:t}}a(fn,"calcOldNewLineCount");function Nn(n){for(var e=[],t,r,i=0;i<n.length;i++)t=n[i],t.added?r=1:t.removed?r=-1:r=0,e.push([r,t.value]);return e}a(Nn,"convertChangesToDMP");function fr(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(mr(r.value)),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")}a(fr,"convertChangesToXML");function mr(n){var e=n;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}a(mr,"escapeHTML");var xr=/[^a-zA-Z0-9]/,ei=/\s/,pi=/[\r\n]/,ti=/\n\r?\n$/,Pi=/^\r?\n\r?\n/,et;(function(n){n[n.DIFF_DELETE=-1]="DIFF_DELETE",n[n.DIFF_INSERT=1]="DIFF_INSERT",n[n.DIFF_EQUAL=0]="DIFF_EQUAL"})(et||(et={}));function mi(n,e){return n<e?n:e}a(mi,"min");function Ti(n,e){return n>e?n:e}a(Ti,"max");var dr=Ve,ni=function(){function n(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return a(n,"PatchObject"),n.prototype.toString=function(){var e,t;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?t=this.start2+",0":this.length2===1?t=this.start2+1:t=this.start2+1+","+this.length2;for(var r=["@@ -"+e+" +"+t+` @@
`],i,s=0;s<this.diffs.length;s++){switch(this.diffs[s][0]){case et.DIFF_INSERT:i="+";break;case et.DIFF_DELETE:i="-";break;case et.DIFF_EQUAL:i=" ";break}r[s+1]=i+encodeURI(this.diffs[s][1])+`
`}return r.join("").replace(/%20/g," ")},n}(),Yr=function(){function n(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return a(n,"DiffMatchPatch"),n.prototype.diff_main=function(e,t,r,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var s=i;if(e==null||t==null)throw new Error("Null input. (diff_main)");if(e===t)return e?[[et.DIFF_EQUAL,e]]:[];typeof r=="undefined"&&(r=!0);var o=r,u=this.diff_commonPrefix(e,t),l=e.substring(0,u);e=e.substring(u),t=t.substring(u),u=this.diff_commonSuffix(e,t);var c=e.substring(e.length-u);e=e.substring(0,e.length-u),t=t.substring(0,t.length-u);var _=this.diff_compute_(e,t,o,s);return l&&_.unshift([et.DIFF_EQUAL,l]),c&&_.push([et.DIFF_EQUAL,c]),this.diff_cleanupMerge(_),_},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var r=0,i=dr.min(e.length,t.length),s=i,o=0;r<s;)e.substring(o,s)===t.substring(o,s)?(r=s,o=r):i=s,s=Math.floor((i-r)/2+r);return s},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;for(var r=0,i=dr.min(e.length,t.length),s=i,o=0;r<s;)e.substring(e.length-s,e.length-o)===t.substring(t.length-s,t.length-o)?(r=s,o=r):i=s,s=Math.floor((i-r)/2+r);return s},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],i=0,s=null,o=0,u=0,l=0,c=0,_=0;o<e.length;)e[o][0]===et.DIFF_EQUAL?(r[i++]=o,u=c,l=_,c=0,_=0,s=e[o][1]):(e[o][0]===et.DIFF_INSERT?c+=e[o][1].length:_+=e[o][1].length,s&&s.length<=dr.max(u,l)&&s.length<=dr.max(c,_)&&(e.splice(r[i-1],0,[et.DIFF_DELETE,s]),e[r[i-1]+1][0]=et.DIFF_INSERT,i--,i--,o=i>0?r[i-1]:-1,u=0,l=0,c=0,_=0,s=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(e[o-1][0]===et.DIFF_DELETE&&e[o][0]===et.DIFF_INSERT){var H=e[o-1][1],C=e[o][1],ne=this.diff_commonOverlap_(H,C),we=this.diff_commonOverlap_(C,H);ne>=we?(ne>=H.length/2||ne>=C.length/2)&&(e.splice(o,0,[et.DIFF_EQUAL,C.substring(0,ne)]),e[o-1][1]=H.substring(0,H.length-ne),e[o+1][1]=C.substring(ne),o++):(we>=H.length/2||we>=C.length/2)&&(e.splice(o,0,[et.DIFF_EQUAL,H.substring(0,we)]),e[o-1][0]=et.DIFF_INSERT,e[o-1][1]=C.substring(0,C.length-we),e[o+1][0]=et.DIFF_DELETE,e[o+1][1]=H.substring(we),o++),o++}o++}},n.prototype.diff_cleanupSemanticLossless=function(e){for(var t=1;t<e.length-1;){if(e[t-1][0]===et.DIFF_EQUAL&&e[t+1][0]===et.DIFF_EQUAL){var r=e[t-1][1],i=e[t][1],s=e[t+1][1],o=this.diff_commonSuffix(r,i);if(o){var u=i.substring(i.length-o);r=r.substring(0,r.length-o),i=u+i.substring(0,i.length-o),s=u+s}for(var l=r,c=i,_=s,H=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,s);i.charAt(0)===s.charAt(0);){r+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var C=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,s);C>=H&&(H=C,l=r,c=i,_=s)}e[t-1][1]!==l&&(l?e[t-1][1]=l:(e.splice(t-1,1),t--),e[t][1]=c,_?e[t+1][1]=_:(e.splice(t+1,1),t--))}t++}},n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],i=0,s=null,o=0,u=!1,l=!1,c=!1,_=!1;o<e.length;)e[o][0]===et.DIFF_EQUAL?(e[o][1].length<this.diffEditCost&&(c||_)?(r[i++]=o,u=c,l=_,s=e[o][1]):(i=0,s=null),c=_=!1):(e[o][0]===et.DIFF_DELETE?_=!0:c=!0,s&&(u&&l&&c&&_||s.length<this.diffEditCost/2&&Number(u)+Number(l)+Number(c)+Number(_)===3)&&(e.splice(r[i-1],0,[et.DIFF_DELETE,s]),e[r[i-1]+1][0]=et.DIFF_INSERT,i--,s=null,u&&l?(c=_=!0,i=0):(i--,o=i>0?r[i-1]:-1,c=_=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([et.DIFF_EQUAL,""]);for(var t=0,r=0,i=0,s="",o="",u;t<e.length;)switch(e[t][0]){case et.DIFF_INSERT:i++,o+=e[t][1],t++;break;case et.DIFF_DELETE:r++,s+=e[t][1],t++;break;case et.DIFF_EQUAL:r+i>1?(r!==0&&i!==0&&(u=this.diff_commonPrefix(o,s),u!==0&&(t-r-i>0&&e[t-r-i-1][0]===et.DIFF_EQUAL?e[t-r-i-1][1]+=o.substring(0,u):(e.splice(0,0,[et.DIFF_EQUAL,o.substring(0,u)]),t++),o=o.substring(u),s=s.substring(u)),u=this.diff_commonSuffix(o,s),u!==0&&(e[t][1]=o.substring(o.length-u)+e[t][1],o=o.substring(0,o.length-u),s=s.substring(0,s.length-u))),t-=r+i,e.splice(t,r+i),s.length&&(e.splice(t,0,[et.DIFF_DELETE,s]),t++),o.length&&(e.splice(t,0,[et.DIFF_INSERT,o]),t++),t++):t!==0&&e[t-1][0]===et.DIFF_EQUAL?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,i=0,r=0,s="",o="";break}e[e.length-1][1]===""&&e.pop();var l=!1;for(t=1;t<e.length-1;)e[t-1][0]===et.DIFF_EQUAL&&e[t+1][0]===et.DIFF_EQUAL&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),l=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),l=!0)),t++;l&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var r=0,i=0,s=0,o=0,u;for(u=0;u<e.length&&(e[u][0]!==et.DIFF_INSERT&&(r+=e[u][1].length),e[u][0]!==et.DIFF_DELETE&&(i+=e[u][1].length),!(r>t));u++)s=r,o=i;return e.length!==u&&e[u][0]===et.DIFF_DELETE?o:o+(t-s)},n.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,i=/</g,s=/>/g,o=/\n/g,u=0;u<e.length;u++){var l=e[u][0],c=e[u][1],_=c.replace(r,"&amp;").replace(i,"&lt;").replace(s,"&gt;").replace(o,"&para;<br>");switch(l){case et.DIFF_INSERT:t[u]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case et.DIFF_DELETE:t[u]='<del style="background:#ffe6e6;">'+_+"</del>";break;case et.DIFF_EQUAL:t[u]="<span>"+_+"</span>";break}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==et.DIFF_INSERT&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==et.DIFF_DELETE&&(t[r]=e[r][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,r=0,i=0,s=0;s<e.length;s++){var o=e[s][0],u=e[s][1];switch(o){case et.DIFF_INSERT:r+=u.length;break;case et.DIFF_DELETE:i+=u.length;break;case et.DIFF_EQUAL:t+=dr.max(r,i),r=0,i=0;break}}return t+=dr.max(r,i),t},n.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case et.DIFF_INSERT:t[r]="+"+encodeURI(e[r][1]);break;case et.DIFF_DELETE:t[r]="-"+e[r][1].length;break;case et.DIFF_EQUAL:t[r]="="+e[r][1].length;break}return t.join("	").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var r=[],i=0,s=0,o=t.split(/\t/g),u=0;u<o.length;u++){var l=o[u].substring(1);switch(o[u].charAt(0)){case"+":try{r[i++]=[et.DIFF_INSERT,decodeURI(l)]}catch(H){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var _=e.substring(s,s+=c);o[u].charAt(0)==="="?r[i++]=[et.DIFF_EQUAL,_]:r[i++]=[et.DIFF_DELETE,_];break;default:if(o[u])throw new Error("Invalid diff operation in diff_fromDelta: "+o[u])}}if(s!==e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+")");return r},n.prototype.diff_linesToChars=function(e,t){var r=[],i={};r[0]="";var s=this.diff_linesToCharsMunge_(e,r,i,4e4),o=this.diff_linesToCharsMunge_(t,r,i,65535);return{chars1:s,chars2:o,lineArray:r}},n.prototype.diff_charsToLines=function(e,t){for(var r=0;r<e.length;r++){for(var i=e[r][1],s=[],o=0;o<i.length;o++)s[o]=t[i.charCodeAt(o)];e[r][1]=s.join("")}},n.prototype.match_main=function(e,t,r){if(e==null||t==null||r==null)throw new Error("Null input. (match_main)");return r=dr.max(0,dr.min(r,e.length)),e===t?0:e.length?e.substring(r,r+t.length)===t?r:this.match_bitap_(e,t,r):-1},n.prototype.patch_make=function(e,t,r){var i,s;if(typeof e=="string"&&typeof t=="string"&&typeof r=="undefined")i=e,s=this.diff_main(i,t,!0),s.length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&typeof e=="object"&&typeof t=="undefined"&&typeof r=="undefined")s=e,i=this.diff_text1(s);else if(typeof e=="string"&&t&&typeof t=="object"&&typeof r=="undefined")i=e,s=t;else if(typeof e=="string"&&typeof t=="string"&&r&&typeof r=="object")i=e,s=r;else throw new Error("Unknown call format to patch_make");if(s.length===0)return[];for(var o=[],u=new ni,l=0,c=0,_=0,H=i,C=i,ne=0;ne<s.length;ne++){var we=s[ne][0],me=s[ne][1];switch(!l&&we!==et.DIFF_EQUAL&&(u.start1=c,u.start2=_),we){case et.DIFF_INSERT:u.diffs[l++]=s[ne],u.length2+=me.length,C=C.substring(0,_)+me+C.substring(_);break;case et.DIFF_DELETE:u.length1+=me.length,u.diffs[l++]=s[ne],C=C.substring(0,_)+C.substring(_+me.length);break;case et.DIFF_EQUAL:me.length<=2*this.patchMargin&&l&&s.length!==ne+1?(u.diffs[l++]=s[ne],u.length1+=me.length,u.length2+=me.length):me.length>=2*this.patchMargin&&l&&(this.patch_addContext_(u,H),o.push(u),u=new ni,l=0,H=C,c=_);break}we!==et.DIFF_INSERT&&(c+=me.length),we!==et.DIFF_DELETE&&(_+=me.length)}return l&&(this.patch_addContext_(u,H),o.push(u)),o},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){for(var i=e[r],s=new ni,o=0;o<i.diffs.length;o++)s.diffs[o]=[i.diffs[o][0],i.diffs[o][1]];s.start1=i.start1,s.start2=i.start2,s.length1=i.length1,s.length2=i.length2,t[r]=s}return t},n.prototype.patch_apply=function(e,t){if(e.length===0)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var i=0,s=[],o=0;o<e.length;o++){var u=e[o].start2+i,l=this.diff_text1(e[o].diffs),c=void 0,_=-1;if(l.length>this.matchMaxBits?(c=this.match_main(t,l.substring(0,this.matchMaxBits),u),c!==-1&&(_=this.match_main(t,l.substring(l.length-this.matchMaxBits),u+l.length-this.matchMaxBits),(_===-1||c>=_)&&(c=-1))):c=this.match_main(t,l,u),c===-1)s[o]=!1,i-=e[o].length2-e[o].length1;else{s[o]=!0,i=c-u;var H=void 0;if(_===-1?H=t.substring(c,c+l.length):H=t.substring(c,_+this.matchMaxBits),l===H)t=t.substring(0,c)+this.diff_text2(e[o].diffs)+t.substring(c+l.length);else{var C=this.diff_main(l,H,!1);if(l.length>this.matchMaxBits&&this.diff_levenshtein(C)/l.length>this.patchDeleteThreshold)s[o]=!1;else{this.diff_cleanupSemanticLossless(C);for(var ne=0,we=0,me=0;me<e[o].diffs.length;me++){var ze=e[o].diffs[me];ze[0]!==et.DIFF_EQUAL&&(we=this.diff_xIndex(C,ne)),ze[0]===et.DIFF_INSERT?t=t.substring(0,c+we)+ze[1]+t.substring(c+we):ze[0]===et.DIFF_DELETE&&(t=t.substring(0,c+we)+t.substring(c+this.diff_xIndex(C,ne+ze[1].length))),ze[0]!==et.DIFF_DELETE&&(ne+=ze[1].length)}}}}}return t=t.substring(r.length,t.length-r.length),[t,s]},n.prototype.patch_addPadding=function(e){for(var t=this.patchMargin,r="",i=1;i<=t;i++)r+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var s=e[0],o=s.diffs;if(o.length===0||o[0][0]!==et.DIFF_EQUAL)o.unshift([et.DIFF_EQUAL,r]),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t;else if(t>o[0][1].length){var u=t-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],s.start1-=u,s.start2-=u,s.length1+=u,s.length2+=u}if(s=e[e.length-1],o=s.diffs,o.length===0||o[o.length-1][0]!==et.DIFF_EQUAL)o.push([et.DIFF_EQUAL,r]),s.length1+=t,s.length2+=t;else if(t>o[o.length-1][1].length){var u=t-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,u),s.length1+=u,s.length2+=u}return r},n.prototype.patch_splitMax=function(e){for(var t=this.matchMaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=t)){var i=e[r];e.splice(r--,1);for(var s=i.start1,o=i.start2,u="";i.diffs.length!==0;){var l=new ni,c=!0;for(l.start1=s-u.length,l.start2=o-u.length,u!==""&&(l.length1=l.length2=u.length,l.diffs.push([et.DIFF_EQUAL,u]));i.diffs.length!==0&&l.length1<t-this.patchMargin;){var _=i.diffs[0][0],H=i.diffs[0][1];_===et.DIFF_INSERT?(l.length2+=H.length,o+=H.length,l.diffs.push(i.diffs.shift()),c=!1):_===et.DIFF_DELETE&&l.diffs.length===1&&l.diffs[0][0]===et.DIFF_EQUAL&&H.length>2*t?(l.length1+=H.length,s+=H.length,c=!1,l.diffs.push([_,H]),i.diffs.shift()):(H=H.substring(0,t-l.length1-this.patchMargin),l.length1+=H.length,s+=H.length,_===et.DIFF_EQUAL?(l.length2+=H.length,o+=H.length):c=!1,l.diffs.push([_,H]),H===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(H.length))}u=this.diff_text2(l.diffs),u=u.substring(u.length-this.patchMargin);var C=this.diff_text1(i.diffs).substring(0,this.patchMargin);C!==""&&(l.length1+=C.length,l.length2+=C.length,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===et.DIFF_EQUAL?l.diffs[l.diffs.length-1][1]+=C:l.diffs.push([et.DIFF_EQUAL,C])),c||e.splice(++r,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var r=e.split(`
`),i=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var o=r[i].match(s);if(!o)throw new Error("Invalid patch string: "+r[i]);var u=new ni;t.push(u),u.start1=parseInt(o[1],10),o[2]===""?(u.start1--,u.length1=1):o[2]==="0"?u.length1=0:(u.start1--,u.length1=parseInt(o[2],10)),u.start2=parseInt(o[3],10),o[4]===""?(u.start2--,u.length2=1):o[4]==="0"?u.length2=0:(u.start2--,u.length2=parseInt(o[4],10)),i++;for(var l=void 0,c=void 0,_=void 0;i<r.length;){l=r[i].charAt(0),_=r[i].substring(1);try{c=decodeURI(_)}catch(H){throw new Error("Illegal escape in patch_fromText: "+_)}if(l==="-")u.diffs.push([et.DIFF_DELETE,c]);else if(l==="+")u.diffs.push([et.DIFF_INSERT,c]);else if(l===" ")u.diffs.push([et.DIFF_EQUAL,c]);else{if(l==="@")break;if(l!=="")throw new Error('Invalid patch mode "'+l+'" in: '+c)}i++}}return t},n.prototype.diff_compute_=function(e,t,r,i){var s;if(!e)return[[et.DIFF_INSERT,t]];if(!t)return[[et.DIFF_DELETE,e]];var o=e.length>t.length?e:t,u=e.length>t.length?t:e,l=o.indexOf(u);if(l!==-1)return s=[[et.DIFF_INSERT,o.substring(0,l)],[et.DIFF_EQUAL,u],[et.DIFF_INSERT,o.substring(l+u.length)]],e.length>t.length&&(s[0][0]=et.DIFF_DELETE,s[2][0]=et.DIFF_DELETE),s;if(u.length===1)return[[et.DIFF_DELETE,e],[et.DIFF_INSERT,t]];var c=this.diff_halfMatch_(e,t);if(c){var _=c[0],H=c[1],C=c[2],ne=c[3],we=c[4],me=this.diff_main(_,C,r,i),ze=this.diff_main(H,ne,r,i);return me.concat([[et.DIFF_EQUAL,we]],ze)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},n.prototype.diff_lineMode_=function(e,t,r){var i=this.diff_linesToChars(e,t);e=i.chars1,t=i.chars2;var s=i.lineArray,o=this.diff_main(e,t,!1,r);this.diff_charsToLines(o,s),this.diff_cleanupSemantic(o),o.push([et.DIFF_EQUAL,""]);for(var u=0,l=0,c=0,_="",H="";u<o.length;){switch(o[u][0]){case et.DIFF_INSERT:c++,H+=o[u][1];break;case et.DIFF_DELETE:l++,_+=o[u][1];break;case et.DIFF_EQUAL:if(l>=1&&c>=1){o.splice(u-l-c,l+c),u=u-l-c;for(var C=this.diff_main(_,H,!1,r),ne=C.length-1;ne>=0;ne--)o.splice(u,0,C[ne]);u=u+C.length}c=0,l=0,_="",H="";break}u++}return o.pop(),o},n.prototype.diff_bisect_=function(e,t,r){for(var i=e.length,s=t.length,o=Math.ceil((i+s)/2),u=o,l=2*o,c=new Array(l),_=new Array(l),H=0;H<l;H++)c[H]=-1,_[H]=-1;c[u+1]=0,_[u+1]=0;for(var C=i-s,ne=C%2!=0,we=0,me=0,ze=0,gt=0,St=0;St<o&&!(Date.now()>r);St++){for(var Xt=-St+we;Xt<=St-me;Xt+=2){var un=u+Xt,ln=void 0;Xt===-St||Xt!==St&&c[un-1]<c[un+1]?ln=c[un+1]:ln=c[un-1]+1;for(var Cn=ln-Xt;ln<i&&Cn<s&&e.charAt(ln)===t.charAt(Cn);)ln++,Cn++;if(c[un]=ln,ln>i)me+=2;else if(Cn>s)we+=2;else if(ne){var Gn=u+C-Xt;if(Gn>=0&&Gn<l&&_[Gn]!==-1){var Kn=i-_[Gn];if(ln>=Kn)return this.diff_bisectSplit_(e,t,ln,Cn,r)}}}for(var gr=-St+ze;gr<=St-gt;gr+=2){var Gn=u+gr,Kn=void 0;gr===-St||gr!==St&&_[Gn-1]<_[Gn+1]?Kn=_[Gn+1]:Kn=_[Gn-1]+1;for(var Pr=Kn-gr;Kn<i&&Pr<s&&e.charAt(i-Kn-1)===t.charAt(s-Pr-1);)Kn++,Pr++;if(_[Gn]=Kn,Kn>i)gt+=2;else if(Pr>s)ze+=2;else if(!ne){var un=u+C-gr;if(un>=0&&un<l&&c[un]!==-1){var ln=c[un],Cn=u+ln-un;if(Kn=i-Kn,ln>=Kn)return this.diff_bisectSplit_(e,t,ln,Cn,r)}}}}return[[et.DIFF_DELETE,e],[et.DIFF_INSERT,t]]},n.prototype.diff_bisectSplit_=function(e,t,r,i,s){var o=e.substring(0,r),u=t.substring(0,i),l=e.substring(r),c=t.substring(i),_=this.diff_main(o,u,!1,s),H=this.diff_main(l,c,!1,s);return _.concat(H)},n.prototype.diff_linesToCharsMunge_=function(e,t,r,i){for(var s="",o=0,u=-1,l=t.length;u<e.length-1;){u=e.indexOf(`
`,o),u===-1&&(u=e.length-1);var c=e.substring(o,u+1);(r.hasOwnProperty?r.hasOwnProperty(c):r[c]!==void 0)?s+=String.fromCharCode(r[c]):(l===i&&(c=e.substring(o),u=e.length),s+=String.fromCharCode(l),r[c]=l,t[l++]=c),o=u+1}return s},n.prototype.diff_commonOverlap_=function(e,t){var r=e.length,i=t.length;if(r===0||i===0)return 0;r>i?e=e.substring(r-i):r<i&&(t=t.substring(0,r));var s=dr.min(r,i);if(e===t)return s;for(var o=0,u=1;;){var l=e.substring(s-u),c=t.indexOf(l);if(c===-1)return o;u+=c,(c===0||e.substring(s-u)===t.substring(0,u))&&(o=u,u++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.diffTimeout<=0)return null;var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||i.length*2<r.length)return null;var s=this.diff_halfMatchI_(r,i,Math.ceil(r.length/4)),o=this.diff_halfMatchI_(r,i,Math.ceil(r.length/2)),u;if(!s&&!o)return null;o?s?u=s[4].length>o[4].length?s:o:u=o:u=s;var l,c,_,H,C=u[4];return e.length>t.length?(l=u[0],c=u[1],_=u[2],H=u[3]):(_=u[0],H=u[1],l=u[2],c=u[3]),[l,c,_,H,C]},n.prototype.diff_halfMatchI_=function(e,t,r){for(var i=e.substring(r,r+Math.floor(e.length/4)),s="",o,u,l,c,_=t.indexOf(i,0);_!==-1;){var H=this.diff_commonPrefix(e.substring(r),t.substring(_)),C=this.diff_commonSuffix(e.substring(0,r),t.substring(0,_));s.length<C+H&&(s=t.substring(_-C,_)+t.substring(_,_+H),o=e.substring(0,r-C),u=e.substring(r+H),l=t.substring(0,_-C),c=t.substring(_+H)),_=t.indexOf(i,_+1)}return s.length*2>=e.length?[o,u,l,c,s]:null},n.prototype.diff_cleanupSemanticScore_=function(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),i=t.charAt(0),s=r.match(xr),o=i.match(xr),u=s&&r.match(ei),l=o&&i.match(ei),c=u&&r.match(pi),_=l&&i.match(pi),H=c&&e.match(ti),C=_&&t.match(Pi);return H||C?5:c||_?4:s&&!u&&l?3:u||l?2:s||o?1:0},n.prototype.match_bitap_=function(e,t,r){if(t.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(t),s=this.matchThreshold,o=e.indexOf(t,r);o!==-1&&(s=dr.min(this.match_bitapScore_(0,o,t,r),s),o=e.lastIndexOf(t,r+t.length),o!==-1&&(s=dr.min(this.match_bitapScore_(0,o,t,r),s)));var u=1<<t.length-1;o=-1;for(var l,c,_=t.length+e.length,H,C=0;C<t.length;C++){for(l=0,c=_;l<c;)this.match_bitapScore_(C,r+c,t,r)<=s?l=c:_=c,c=Math.floor((_-l)/2+l);_=c;var ne=dr.max(1,r-c+1),we=dr.min(r+c,e.length)+t.length,me=Array(we+2);me[we+1]=(1<<C)-1;for(var ze=we;ze>=ne;ze--){var gt=i[e.charAt(ze-1)];if(C===0?me[ze]=(me[ze+1]<<1|1)&gt:me[ze]=(me[ze+1]<<1|1)&gt|((H[ze+1]|H[ze])<<1|1)|H[ze+1],me[ze]&u){var St=this.match_bitapScore_(C,ze-1,t,r);if(St<=s)if(s=St,o=ze-1,o>r)ne=dr.max(1,2*r-o);else break}}if(this.match_bitapScore_(C+1,r,t,r)>s)break;H=me}return o},n.prototype.match_bitapScore_=function(e,t,r,i){var s=e/r.length,o=Math.abs(i-t);return this.matchDistance?s+o/this.matchDistance:o?1:s},n.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(var r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},n.prototype.patch_addContext_=function(e,t){if(t.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var s=t.substring(e.start2-i,e.start2);s&&e.diffs.unshift([et.DIFF_EQUAL,s]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+i);o&&e.diffs.push([et.DIFF_EQUAL,o]),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+o.length,e.length2+=s.length+o.length}},n}();function Er(n,e){let t={};for(let s=0;s<e.length;s++){const o=e[s];t[o]?t[o].push(s):t[o]=[s]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let s=0;s<n.length;s++){const o=n[s],u=t[o]||[];let l=0,c=i[0];for(let _=0;_<u.length;_++){const H=u[_];let C;for(C=l;C<i.length&&!(i[C].buffer2index<H&&(C===i.length-1||i[C+1].buffer2index>H));C++);if(C<i.length){const ne={buffer1index:s,buffer2index:H,chain:i[C]};if(l===i.length?i.push(c):i[l]=c,l=C+1,c=ne,l===i.length)break}}i[l]=c}return i[i.length-1]}a(Er,"LCS");function Zr(n,e){const t=Er(n,e);let r=[],i=n.length,s=e.length,o={common:[]};function u(){o.common.length&&(o.common.reverse(),r.push(o),o={common:[]})}a(u,"processCommon");for(let l=t;l!==null;l=l.chain){let c={buffer1:[],buffer2:[]};for(;--i>l.buffer1index;)c.buffer1.push(n[i]);for(;--s>l.buffer2index;)c.buffer2.push(e[s]);(c.buffer1.length||c.buffer2.length)&&(u(),c.buffer1.reverse(),c.buffer2.reverse(),r.push(c)),i>=0&&o.common.push(n[i])}return u(),r.reverse(),r}a(Zr,"diffComm");function _i(n,e){const t=Er(n,e);let r=[],i=n.length,s=e.length;for(let o=t;o!==null;o=o.chain){const u=i-o.buffer1index-1,l=s-o.buffer2index-1;i=o.buffer1index,s=o.buffer2index,(u||l)&&r.push({buffer1:[i+1,u],buffer1Content:n.slice(i+1,i+1+u),buffer2:[s+1,l],buffer2Content:e.slice(s+1,s+1+l)})}return r.reverse(),r}a(_i,"diffIndices");function Bi(n,e){const t=Er(n,e);let r=[],i=n.length,s=e.length;function o(u,l,c){let _=[];for(let H=0;H<c;H++)_.push(u[l+H]);return{offset:l,length:c,chunk:_}}a(o,"chunkDescription");for(let u=t;u!==null;u=u.chain){const l=i-u.buffer1index-1,c=s-u.buffer2index-1;i=u.buffer1index,s=u.buffer2index,(l||c)&&r.push({buffer1:o(n,u.buffer1index+1,l),buffer2:o(e,u.buffer2index+1,c)})}return r.reverse(),r}a(Bi,"diffPatch");function $r(n,e,t){let r=[];function i(l,c){r.push({ab:c,oStart:l.buffer1[0],oLength:l.buffer1[1],abStart:l.buffer2[0],abLength:l.buffer2[1]})}a(i,"addHunk"),_i(e,n).forEach(l=>i(l,"a")),_i(e,t).forEach(l=>i(l,"b")),r.sort((l,c)=>l.oStart-c.oStart);let s=[],o=0;function u(l){l>o&&(s.push({stable:!0,buffer:"o",bufferStart:o,bufferLength:l-o,bufferContent:e.slice(o,l)}),o=l)}for(a(u,"advanceTo");r.length;){let l=r.shift(),c=l.oStart,_=l.oStart+l.oLength,H=[l];for(u(c);r.length;){const C=r[0],ne=C.oStart;if(ne>_)break;_=Math.max(_,ne+C.oLength),H.push(r.shift())}if(H.length===1){if(l.abLength>0){const C=l.ab==="a"?n:t;s.push({stable:!0,buffer:l.ab,bufferStart:l.abStart,bufferLength:l.abLength,bufferContent:C.slice(l.abStart,l.abStart+l.abLength)})}}else{let C={a:[n.length,-1,e.length,-1],b:[t.length,-1,e.length,-1]};for(;H.length;){l=H.shift();const St=l.oStart,Xt=St+l.oLength,un=l.abStart,ln=un+l.abLength;let Cn=C[l.ab];Cn[0]=Math.min(un,Cn[0]),Cn[1]=Math.max(ln,Cn[1]),Cn[2]=Math.min(St,Cn[2]),Cn[3]=Math.max(Xt,Cn[3])}const ne=C.a[0]+(c-C.a[2]),we=C.a[1]+(_-C.a[3]),me=C.b[0]+(c-C.b[2]),ze=C.b[1]+(_-C.b[3]);let gt={stable:!1,aStart:ne,aLength:we-ne,aContent:n.slice(ne,we),oStart:c,oLength:_-c,oContent:e.slice(c,_),bStart:me,bLength:ze-me,bContent:t.slice(me,ze)};s.push(gt)}o=_}return u(e.length),s}a($r,"diff3MergeRegions");function ui(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const s=typeof n=="string",o=typeof e=="string",u=typeof t=="string";s&&(n=n.split(r.stringSeparator)),o&&(e=e.split(r.stringSeparator)),u&&(t=t.split(r.stringSeparator));let l=[];const c=$r(n,e,t);let _=[];function H(){_.length&&l.push({ok:_}),_=[]}a(H,"flushOk");function C(ne,we){if(ne.length!==we.length)return!1;for(let me=0;me<ne.length;me++)if(ne[me]!==we[me])return!1;return!0}return a(C,"isFalseConflict"),c.forEach(ne=>{ne.stable?_.push(...ne.bufferContent):r.excludeFalseConflicts&&C(ne.aContent,ne.bContent)?_.push(...ne.aContent):(H(),l.push({conflict:{a:ne.aContent,aIndex:ne.aStart,o:ne.oContent,oIndex:ne.oStart,b:ne.bContent,bIndex:ne.bStart}}))}),H(),l}a(ui,"diff3Merge");function Pe(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},r);const s=ui(n,e,t,r);let o=!1,u=[];return s.forEach(l=>{l.ok?u=u.concat(l.ok):l.conflict&&(o=!0,u.push(`<<<<<<<${r.label.a?` ${r.label.a}`:""}`),u=u.concat(l.conflict.a),u.push(`|||||||${r.label.o?` ${r.label.o}`:""}`),u=u.concat(l.conflict.o),u.push("======="),u=u.concat(l.conflict.b),u.push(`>>>>>>>${r.label.b?` ${r.label.b}`:""}`))}),{conflict:o,result:u}}a(Pe,"mergeDiff3");function Ge(n,e,t,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const s=ui(n,e,t,r);let o=!1,u=[];for(let l=0;l<s.length;l++){const c=s[l];c.ok?u=u.concat(c.ok):(o=!0,u=u.concat([`
<<<<<<<<<
`],c.conflict.a,[`
=========
`],c.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:o,result:u}}a(Ge,"node_diff3_merge");function st(n,e,t,r){r=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},r);const s=ui(n,e,t,r);let o=!1,u=[];for(let l=0;l<s.length;l++){const c=s[l];if(c.ok)u=u.concat(c.ok);else{const _=Zr(c.conflict.a,c.conflict.b);for(let H=0;H<_.length;H++){let C=_[H];C.common?u=u.concat(C.common):(o=!0,u=u.concat([`
<<<<<<<<<
`],C.buffer1,[`
=========
`],C.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:o,result:u}}a(st,"mergeDigIn");function Ze(n,e){let t=[],r=0;function i(s){for(;r<s;)t.push(n[r]),r++}a(i,"advanceTo");for(let s=0;s<e.length;s++){let o=e[s];i(o.buffer1.offset);for(let u=0;u<o.buffer2.chunk.length;u++)t.push(o.buffer2.chunk[u]);r+=o.buffer1.length}return i(n.length),t}a(Ze,"patch");function Tt(n){return n.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}a(Tt,"stripPatch");function Ft(n){return n.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}a(Ft,"invertPatch");const at=new Yr;at.diffTimeout=0;function Ht(n,e,t){return Ie.get("experimental.useDiffMatchPatch")===!0?at.patch_toText(at.patch_make(e,t)):dt(n,e,t)}a(Ht,"diffs_createPatch");function Pt(n,e,t,r){const i=`diff --git a/${n} b/${n}`;switch(r){case"modify":return Ht(n,e,t);case"add":{let s;!t.endsWith(`
`)&&!t.endsWith(`\r
`)?s=`
\\ No newline at end of file`:s="";const o=/\r?\n/g,u=t.split(o),l=t.match(o)||[],c=u.length,_=[];for(let H=0;H<c;H+=1)(H<u.length-1||H===u.length-1&&u[H]!=="")&&_.push("+"),_.push(u[H]),H<l.length&&_.push(l[H]);return t=_.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${n}
@@ -0,0 +1,${c} @@
${t}${s}`}case"delete":{let s=0;return e=e.replace(/\r?\n/g,o=>(s++,`${o}-`)),`${i}
deleted file mode 100644
--- a/${n}
+++ /dev/null
@@ -1,${s} +0,0 @@
-${e}`}}}a(Pt,"createPatch2");function en(n,e,t){return Se(n,e,t)}a(en,"diffs_applyPatch");function on(n,e){const t=[];for(const r of A(n,e))t.push({...r,oldFileName:r.newFileName,oldHeader:r.newHeader,newFileName:r.oldFileName,newHeader:r.oldHeader,hunks:r.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(s=>s[0]==="-"?`+${s.slice(1)}`:s[0]==="+"?`-${s.slice(1)}`:s)}))}),t.push(r);return t}a(on,"reversePatch");function $n(n,e,t,r){let i=`
`;const s=n.match(/(?:\r?\n)/g);if(s!==null&&s.length!==0){const c=s.filter(_=>_===`\r
`).length;i=c>s.length-c?`\r
`:`
`}const o=Ge(n,e,t,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),u=o.result;let l=o.conflict;for(let c=0;c<u.length;c+=1)u[c]===`
<<<<<<<<<
`?u[c]="<<<<<<< HEAD":u[c]===`
=========
`?u[c]="=======":u[c]===`
>>>>>>>>>
`&&(u[c]=`>>>>>>> ${r}`);return{conflicts:l,mergedContent:u.join(i)}}a($n,"diffs_merge");function On(n){return n!==void 0&&typeof n.then=="function"}a(On,"isPromise");const sr="";function yn(...n){if(n.length===1){const e=n[0];return e===void 0?sr:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof d.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(n)}a(yn,"defaultResolver");function It(n){return(e,t,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const s=`$gate$${t}`;r.value=function(...o){const u=o.length===0?s:`${s}$${(n!=null?n:yn)(...o)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let l=this[u];if(l===void 0){let c;try{if(c=i.apply(this,o),c==null||!On(c))return c;this[u]=l=c.then(_=>(this[u]=void 0,_)).catch(_=>{throw this[u]=void 0,_})}catch(_){throw this[u]=void 0,_}}return l}}}a(It,"gate");function Wt(n){const e=performance.now()*.001;let t=Math.floor(e),r=Math.floor(e%1*1e9);return n!==void 0&&(t=t-n[0],r=r-n[1],r<0&&(t--,r+=1e9)),[t,r]}a(Wt,"hrtime");let tn=0;function nn(){return tn===Number.MAX_SAFE_INTEGER&&(tn=0),++tn}a(nn,"getNextInstanceId");const O=a(class{constructor(n,e,...t){this.context=n,this.instance=`[${nn().toString().padStart(5)}] `;var r,i,s,o,u,l;let c;if(typeof(e==null?void 0:e.log)=="boolean"?c=e.log?{}:void 0:c=(r=e==null?void 0:e.log)!=null?r:{},this.logLevel=(i=e==null?void 0:e.logLevel)!=null?i:d.LogLevel.Info,this.time=Wt(),c){if(!ae.enabled(this.logLevel))return;t.length?xe(this.logLevel,`${this.instance}${(s=c.prefix)!=null?s:""}${n}${(o=c.message)!=null?o:""}`,...t):xe(this.logLevel,`${this.instance}${(u=c.prefix)!=null?u:""}${n}${(l=c.message)!=null?l:""}`)}}log(n){this.logCore(this.context,n,!1)}logStep(n,e){(!n||e)&&this.logCore(this.context,e,!1),this.step=n?{time:Wt(),label:n}:void 0}restart(n){this.logCore(this.context,n,!0),this.step=void 0,this.time=Wt()}stop(n){this.restart(n)}logCore(n,e,t){var r,i,s,o,u,l,c;if(!ae.enabled(this.logLevel))return;let _="";if(this.step){const[we,me]=Wt(this.step.time),ze=we*1e3+Math.floor(me/1e6);_=`${this.step.label?`${this.step.label} took `:""}${ze} ms`}if(!t){xe(this.logLevel,`${this.instance}${(r=e==null?void 0:e.prefix)!=null?r:""}${n}${(i=e==null?void 0:e.message)!=null?i:""}${_?` ${_}`:""}${(s=e==null?void 0:e.suffix)!=null?s:""}`);return}const[H,C]=Wt(this.time),ne=H*1e3+Math.floor(C/1e6);xe(ne>500?d.LogLevel.Warning:this.logLevel,`${this.instance}${(o=e==null?void 0:e.prefix)!=null?o:""}${n}${(u=e==null?void 0:e.message)!=null?u:""}${(l=e==null?void 0:e.took)!=null?l:" took "}${ne} ms${_?` (${_})`:""}${(c=e==null?void 0:e.suffix)!=null?c:""}`)}static start(n,e,...t){var r;(r=O.watches.get(n))==null||r.log(),O.watches.set(n,new O(n,e,...t))}static log(n,e){var t;(t=O.watches.get(n))==null||t.log(e)}static stop(n,e){var t;(t=O.watches.get(n))==null||t.stop(e),O.watches.delete(n)}},"_Stopwatch");let Q=O;Q.watches=new Map;function xe(n,e,...t){switch(n){case d.LogLevel.Warning:ae.warn(e,...t);break;case d.LogLevel.Info:ae.log(e,...t);break;default:ae.debug(e,...t);break}}a(xe,"log");let qe=0;function bt(){return qe===Number.MAX_SAFE_INTEGER&&(qe=0),String(++qe)}a(bt,"getNextLockId");class Ct{constructor(){this.id=bt()}async synchronize(e){let t;const r=this.promise;this.promise=new Promise(i=>t=i),await r;try{return await e()}finally{t()}}}a(Ct,"Lock");class Vt{constructor(e){this.lock=new Ct,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,t){let r;const i=new Q(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:d.LogLevel.Debug});let s;await this.lock.synchronize(async()=>{this.writer&&await this.writer,s=new Promise(o=>r=o),this.readers.add(s)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),s!==void 0&&this.readers.delete(s),r()}}async synchronizeWrite(e,t){let r;const i=new Q(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:d.LogLevel.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const s=[...this.readers];this.readers.clear(),await Promise.all(s)}this.writer=new Promise(s=>r=s)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),r(),this.writer=void 0}}}a(Vt,"ReaderWriterLock");class qt{constructor(){this.locks=new Map}async synchronizeRead(e,t,r){let i=this.locks.get(e);return i===void 0&&(i=new Vt(String(e)),this.locks.set(e,i)),i.synchronizeRead(t,r)}async synchronizeWrite(e,t,r){let i=this.locks.get(e);return i===void 0&&(i=new Vt(String(e)),this.locks.set(e,i)),i.synchronizeWrite(t,r)}}a(qt,"KeyedReaderWriterLock");const zt=new TextDecoder,Zt=new TextEncoder;async function Jt(n){const e=typeof n=="string"?Zt.encode(n):n;let t;if(globalThis.crypto.subtle)t=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const r=new Hn;r.update(e),t=r.digest()}return globalThis.btoa(encodeURIComponent(zt.decode(t)))}a(Jt,"sha1");async function Ot(n){const e=await globalThis.crypto.subtle.digest({name:"sha-256"},n);return Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join("")}a(Ot,"sha256");var ut;(function(n){n[n.BLOCK_SIZE=64]="BLOCK_SIZE"})(ut||(ut={}));function dn(n,e,t=32){const r=t-e,i=~((1<<r)-1);return(n<<e|(i&n)>>>r)>>>0}a(dn,"leftRotate");function hn(n,e=0,t=n.byteLength,r=0){for(let i=0;i<t;i++)n[e+i]=r}a(hn,"fill");const En=a(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(n){const e=this._buff;let t=this._buffLen,r=0;const i=n.byteLength;for(;r<i;){const s=Math.min(64-t,i-r);for(let o=0;o<s;o++)e[t++]=n[r++];t>=64&&(this._step(),t-=64,this._totalLen+=64)}this._buffLen=t}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const n=new ArrayBuffer(20),e=new DataView(n);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),n}_wrapUp(){this._buff[this._buffLen++]=128,hn(this._buff,this._buffLen),this._buffLen>56&&(this._step(),hn(this._buff));const n=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(n/4294967296),!1),this._buffDV.setUint32(60,n%4294967296,!1),this._step()}_step(){const n=En._bigBlock32,e=this._buffDV;for(let _=0;_<64;_+=4)n.setUint32(_,e.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)n.setUint32(_,dn(n.getUint32(_-12,!1)^n.getUint32(_-32,!1)^n.getUint32(_-56,!1)^n.getUint32(_-64,!1),1),!1);let t=this._h0,r=this._h1,i=this._h2,s=this._h3,o=this._h4,u,l,c;for(let _=0;_<80;_++)_<20?(u=r&i|~r&s,l=1518500249):_<40?(u=r^i^s,l=1859775393):_<60?(u=r&i|r&s|i&s,l=2400959708):(u=r^i^s,l=3395469782),c=dn(t,5)+u+o+l+n.getUint32(_*4,!1)&4294967295,o=s,s=i,i=dn(r,30),r=t,t=c;this._h0=this._h0+t&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+o&4294967295}},"_SHA1Computer");let Hn=En;Hn._bigBlock32=new DataView(new ArrayBuffer(320));function xt(n){const e=globalThis.atob(n),t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.charCodeAt(i);return r}a(xt,"fromBase64");const{fromCharCode:Cr}=String;function Xn(n){let e;if(typeof n=="string")e=n;else{e="";for(let t=0,{length:r}=n;t<r;t++)e+=Cr(n[t])}return globalThis.btoa(e)}a(Xn,"toBase64");function _n(n,e){if(n===e)return-1;let t=0;for(;n[t]===e[t];)t++;return t}a(_n,"indexOfDifference");function Gr(n){return n.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}a(Gr,"strings_escapeRegExpCharacters");var Dr=Object.defineProperty,Tr=Object.getOwnPropertyDescriptor,qr=a((n,e,t,r)=>{for(var i=r>1?void 0:r?Tr(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&Dr(e,t,i),i},"__decorateClass");const Vr=d.FileSystemError.FileNotFound().code,Jr=`===================================================================
`,Zn=new TextDecoder,ri=new TextEncoder;function ii(n){return n&&"type"in n&&"uri"in n&&"uri"in n&&"fileType"in n&&"revision"in n&&"timestamp"in n}a(ii,"isOperation");function Hr(n,e,t){return{type:n.type,rootUri:e,uri:t!=null?t:n.uri}}a(Hr,"toEvent");const br=a(class{constructor(n,e,t,r,i,s){this.providerService=n,this.storageService=e,this.fileStorageService=t,this.telemetryService=r,this.workspaceId=i,this._onDidChange=new d.EventEmitter,this.cache=new Map,this.lock=new qt,this.scopedStores=new Map,s===void 0&&(this.disposable=d.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var n;(n=this.disposable)==null||n.dispose()}async exportDebugInfo(n){var e;async function t(r){const i=await d.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${r.toString(!0)}

${this.toStorage(await this.getWorkingOperations(r))}`});return void d.window.showTextDocument(i)}if(a(t,"exportCore"),n===void 0)for(const r of(e=d.workspace.workspaceFolders)!=null?e:[])await t.call(this,r.uri);else return t.call(this,n)}async getWorkspacesWithChanges(){var n;const e=new Q("ChangeStore.getWorkspacesWithChanges()");try{const t=[];for(const r of(n=d.workspace.workspaceFolders)!=null?n:[])r.uri.scheme===T.scheme&&await this.hasChanges(r.uri)&&t.push(r.uri);return t.length>0?t:void 0}finally{e.stop()}}async acceptAll(n,e){const t=`ChangeStore.acceptAll(${n.toString()}, ${e==null?void 0:e.staged})`;ae.log(t);const r=[];await this.lock.synchronizeWrite(P(n),async()=>{const i=await this.getWorkingOperations(n),s=[];let o=[];const u=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!i.some(l=>l.staged));for(const l of i){if(u&&!l.staged){o.push(l);continue}l.fileType===d.FileType.File&&await this.discardWorkingContent(n,l.uri);let c;if(l.type===N.Created&&l.fileType===d.FileType.Directory&&(i.some(_=>M(_.uri,l.uri))||(c={type:N.Deleted,rootUri:n,uri:l.uri})),r.push(c!=null?c:Hr(l,n)),l.type===N.Created){let _=l.uri;for(;;){const{parent:H}=this.findParent(_,i,C=>C.type===N.Created);if(H){s.push(H),_=H.uri;continue}break}}}o.length>0&&s.length>0&&(o=o.filter(l=>s.includes(l)?(r.push(Hr(l,n)),!1):!0)),await this.saveWorkingOperations(n,o)},t),r.length!==0&&this._onDidChange.fire(r)}async discard(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.discard(${n.toString()})`;ae.log(t);const r=[];await this.lock.synchronizeWrite(P(e),async()=>this.discardCore(e,n,r),t),r.length!==0&&this._onDidChange.fire(r)}async discardCore(n,e,t){ae.debug(`ChangeStore.discardCore(${e.toString()})`);let r=await this.getWorkingOperations(n);if(r.length===0)return;const i=F(e),s=r.findIndex(l=>F(l.uri)===i);if(s===-1)return;const[o]=r.splice(s,1);let u;switch(o.type){case N.Created:u=N.Deleted;break;case N.Deleted:u=N.Created;break;default:u=o.type;break}if(t.push({type:u,rootUri:n,uri:e}),o.type===N.Created){let l=o.uri;for(;;){const{parent:c,parentIndex:_}=this.findNewParentWithOnlyChild(l,r);if(c){r.splice(_,1),t.push({type:N.Deleted,rootUri:n,uri:c.uri}),l=c.uri;continue}break}}else if(o.type===N.Deleted){let l=o.uri;const c=this.findDeletedParents(l,r);let _=[...r];c.forEach(({parent:H,parentIndex:C})=>{_[C]=void 0,t.push({type:N.Created,rootUri:n,uri:H.uri})}),r=_.filter(H=>H!==void 0)}await this.saveWorkingOperations(n,r),o.fileType===d.FileType.File&&await this.discardWorkingContent(n,e)}async discardAll(n,e){const t=this.getUriScope(n);if(t)return this.getScopedChangeStore(t).discardAll(n,e);const r=`ChangeStore.discardAll(${n.toString()}, ${e==null?void 0:e.staged})`;ae.log(r);const i=[];await this.lock.synchronizeWrite(P(n),async()=>{const s=await this.getWorkingOperations(n),o=[];let u=[];const l=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!s.some(c=>c.staged));for(const c of s){if(l&&!c.staged){u.push(c);continue}c.fileType===d.FileType.File&&await this.discardWorkingContent(n,c.uri);let _;switch(c.type){case N.Created:_=N.Deleted;break;case N.Deleted:_=N.Created;break;default:_=c.type;break}if(i.push({type:_,rootUri:n,uri:c.uri}),c.type===N.Created){let H=c.uri;for(;;){const{parent:C}=this.findNewParentWithOnlyChild(H,s);if(C){o.push(C),H=C.uri;continue}break}}}u.length>0&&o.length>0&&(u=u.filter(c=>o.includes(c)?(i.push({type:N.Deleted,rootUri:n,uri:c.uri}),!1):!0)),await this.saveWorkingOperations(n,u)},r),i.length!==0&&this._onDidChange.fire(i)}async stage(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.stage(${n.toString()})`;ae.log(t);const r=[];await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);i!==void 0&&await this.stageCore(e,n,i,r,s)},t),r.length!==0&&this._onDidChange.fire(r)}async stageAll(n){const e=`ChangeStore.stageAll(${n.toString()})`;ae.log(e);const t=[];await this.lock.synchronizeWrite(P(n),async()=>{const r=(await this.getWorkingOperations(n)).filter(i=>!i.staged);if(r.length!==0)for(const i of r){const{index:s}=await this.getWorkingOperation(i.uri,n);if(!await this.stageCore(n,i.uri,i,t,s))return}},e),t.length!==0&&this._onDidChange.fire(t)}async stageCore(n,e,t,r,i){if(t.conflicts){if(!t.conflicts.status.includes(N.Deleted)){const o=d.l10n.t("Yes");if(await d.window.showWarningMessage(d.l10n.t("Are you sure you want to stage {0} with merge conflicts?",X(e)),{modal:!0},o)!==o)return!1}const[,s]=t.conflicts.status;switch(s){case N.Changed:switch(t.type){case N.Created:return!1;case N.Changed:return await this.spliceOperation(e,i,{...t,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0;case N.Deleted:const o=d.l10n.t("Keep Their Version"),u=d.l10n.t("Delete File"),l=await d.window.showInformationMessage(d.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,X(e)),{modal:!0},o,u);return l===o?(await this.discardCore(n,e,r),!0):l===u?(await this.spliceOperation(e,i,{...t,type:N.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):!1}case N.Created:switch(t.type){case N.Changed:case N.Deleted:return!1;case N.Created:return await this.spliceOperation(e,i,{...t,type:N.Changed,conflicts:void 0,size:t.size,hash:t.hash,originalHash:t.originalHash,staged:!0,timestamp:Date.now()},r),!0}case N.Deleted:switch(t.type){case N.Created:case N.Changed:{const o=d.l10n.t("Keep Our Version"),u=d.l10n.t("Delete File"),l=await d.window.showInformationMessage(d.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,X(e)),{modal:!0},o,u);return l===o?(await this.spliceOperation(e,i,{...t,type:N.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):l===u?(await this.discardCore(n,e,r),!0):!1}case N.Deleted:return await this.discardCore(n,e,r),!0}}}return await this.spliceOperation(e,i,{...t,staged:!0,conflicts:void 0,timestamp:Date.now()},r),!0}async unstage(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=`ChangeStore.unstage(${n.toString()})`;ae.log(t);const r=[];await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);i!==void 0&&await this.spliceOperation(n,s,{...i,staged:!1,timestamp:Date.now()},r)},t),r.length!==0&&this._onDidChange.fire(r)}async unstageAll(n){const e=`ChangeStore.unstageAll(${n.toString()})`;ae.log(e);const t=[];await this.lock.synchronizeWrite(P(n),async()=>{const r=(await this.getWorkingOperations(n)).map(i=>({...i,staged:!1,timestamp:Date.now()}));r.length!==0&&(await this.saveWorkingOperations(n,r),t.push(...r.map(i=>Hr(i,n))))},e),t.length!==0&&this._onDidChange.fire(t)}async hasChanges(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).hasChanges(n);const t=P(n),r=this.cache.get(t);return r!==void 0?r.length!==0:this.lock.synchronizeRead(t,async()=>(await this.getWorkingOperations(n)).length!==0,`ChangeStore.hasChanges(${n.toString()})`)}maybeHasChanges(n,e){const t=this.getUriScope(n);if(t)return this.getScopedChangeStore(t).maybeHasChanges(n,e);const r=P(n),i=this.cache.get(r);if(i===void 0)return;if(i.length===0)return!1;if(e===void 0)return!0;const s=F(e);return i.some(o=>F(o.uri)===s)}async hasMergeConflicts(n){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${n.toString()})`)}async hasStagedChanges(n){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${n.toString()})`)}async hasWorkingChanges(n){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${n.toString()})`)}async getChange(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).getChange(n);const t=this.providerService.getVirtualRootUri(n);if(t!==void 0)return this.lock.synchronizeRead(P(t),async()=>{const{operation:r}=await this.getWorkingOperation(n,t);return r},`ChangeStore.getChange(${n.toString()})`)}async getChanges(n,e){const t=this.getUriScope(n);return t?this.getScopedChangeStore(t).getChanges(n,e):this.lock.synchronizeRead(P(n),async()=>{let r=await this.getWorkingOperations(n);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:i,predicate:s}=e;r=r.filter(o=>{var u;return(!i||o.conflicts===void 0)&&((u=s==null?void 0:s(o))!=null?u:!0)})}return r},`ChangeStore.getChanges(${n.toString()})`)}async getGroupedChanges(n,e){const t=this.getUriScope(n);return t?this.getScopedChangeStore(t).getGroupedChanges(n,e):this.lock.synchronizeRead(P(n),async()=>{var r,i;const s=await this.getWorkingOperations(n),o={conflicts:[],staged:[],working:[]};for(const u of s)!((i=(r=e==null?void 0:e.predicate)==null?void 0:r.call(e,u))!=null?i:!0)||(u.conflicts?o.conflicts.push(u):u.staged?o.staged.push(u):o.working.push(u));return o},`ChangeStore.getChangesByType(${n.toString()})`)}async getContent(n){const e=this.providerService.getVirtualRootUri(n);if(e===void 0)throw new Error(`Unable to find content for ${n.toString()}; Repository not found`);const t=P(e),r=this.cache.get(t);if((r==null?void 0:r.length)===0)throw new Error(`Unable to find content for ${n.toString()}`);return this.lock.synchronizeRead(t,async()=>{const i=Zn.decode(await this.getWorkingContent(e,n));if(i!==void 0)return i;throw new Error(`Unable to find content for ${n.toString()}`)},`ChangeStore.getContent(${n.toString()}}`)}async getMergeConflicts(n,e){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var i,s;return r.conflicts!==void 0&&((s=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?s:!0)}),`ChangeStore.getMergeConflicts(${n.toString()})`)}async getStagedChanges(n,e){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var i,s;return r.staged&&r.conflicts===void 0&&((s=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?s:!0)}),`ChangeStore.getStagedChanges(${n.toString()})`)}async getWorkingChanges(n,e){return this.lock.synchronizeRead(P(n),async()=>(await this.getWorkingOperations(n)).filter(r=>{var i,s;return!r.staged&&r.conflicts===void 0&&((s=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,r))!=null?s:!0)}),`ChangeStore.getWorkingChanges(${n.toString()})`)}async applyChangeset(n,e,t,r){var i;let s;ii(t)?s=t:r=r!=null?r:t,ae.log(`ChangeStore.applyChangeset${n.toString()}`,e.workspaceId,e.uri,s==null?void 0:s.uri,r==null?void 0:r.save);const o=this.getScopedChangeStore(e.workspaceId),u=(i=e.patch)!=null?i:await o.createPatch(e.uri,s==null?void 0:s.uri);await this.applyPatchCore(n,u,{...r,getIncomingContent:async l=>{const c=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,l),e.workspaceId);return Zn.decode(await d.workspace.fs.readFile(c))},merge:async(l,c,_)=>{try{const H=T.getProviderUri(l),C=Zn.decode(await d.workspace.fs.readFile(H)),ne=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,c),e.workspaceId),we=Zn.decode(await d.workspace.fs.readFile(ne)),me=await this.providerService.getMetadata(ne);return{...$n(_,C,we,me.HEAD.sha),baseUri:H,incomingUri:ne}}catch(H){throw new Error(`Unable to apply patch to ${c}: ${String(H)}`)}}})}async applyPatch(n,e,t){if(ae.log(`ChangeStore.applyPatch(${n.toString()})`,t==null?void 0:t.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(n,e,t)}async applyPatchCore(n,e,t={}){const r=`ChangeStore.applyPatchCore(${n.toString()})`;ae.debug(r,t==null?void 0:t.save);const i=new d.WorkspaceEdit,s=[],o=new Map;async function u(C){var ne;const we=P(C),me=d.workspace.textDocuments.find(ze=>P(ze.uri)===we);return(ne=me==null?void 0:me.getText())!=null?ne:Zn.decode(await d.workspace.fs.readFile(C))}a(u,"getContent");async function l(C){try{const ne=await d.workspace.fs.stat(C);return Boolean(ne)}catch{return!1}}a(l,"exists");async function c(C,ne,we){let me=en("",we,{fuzzFactor:0});if(me===!1){if(!t.getIncomingContent)throw new Error(`Unable to apply patch to ${ne}`);me=await t.getIncomingContent(ne)}i.createFile(C,{overwrite:!0}),i.replace(C,new d.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),me)}a(c,"applyCreate");async function _(C,ne,we,me){const ze=await u(C);let gt=en(ze,we,{fuzzFactor:1});if(gt===!1){if(t.merge===void 0)throw new Error(`Unable to apply patch to ${ne}; Resulted in conflicts`);const St={title:d.l10n.t("Merge")},Xt={title:d.l10n.t("Skip File"),isCloseAffordance:!0};if(await d.window.showWarningMessage(d.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,ne),{modal:!0},St,Xt)!==St)return;const ln=await t.merge(C,ne,ze);gt=ln.mergedContent,ln.conflicts&&o.set(P(C),{type:me,baseUri:ln.baseUri,incomingUri:ln.incomingUri})}i.replace(C,new d.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),gt)}a(_,"applyModification");const H=(t==null?void 0:t.reverse)?on(e,{}):A(e,{});for(const C of H)if(C.oldFileName==="/dev/null"){if(!C.newFileName)continue;const ne=C.newFileName.startsWith("b/")?C.newFileName.substr(2):C.newFileName,we=this.providerService.createRelativeVirtualUri(n,ne);s.push(P(we)),!await l(we)?await c(we,ne,C):await _(we,ne,C,N.Created)}else if(C.newFileName==="/dev/null"){if(!C.oldFileName)continue;const ne=C.oldFileName.startsWith("a/")?C.oldFileName.substr(2):C.oldFileName,we=this.providerService.createRelativeVirtualUri(n,ne);await l(we)&&i.deleteFile(we)}else if(C.oldFileName===C.newFileName){if(!C.newFileName)continue;const ne=this.providerService.createRelativeVirtualUri(n,C.newFileName);s.push(P(ne)),!await l(ne)?await c(ne,C.newFileName,C):await _(ne,C.newFileName,C,N.Changed)}else throw new Error(`Unable to apply patch to ${C.oldFileName}; Renames aren't currently supported`);if(await d.workspace.applyEdit(i),t.save&&s.length)for(const C of s){const ne=d.workspace.textDocuments.find(we=>P(we.uri)===C);await(ne==null?void 0:ne.save())}o.size&&setTimeout(async()=>{const C=[];await this.lock.synchronizeWrite(P(n),async()=>{const ne=await this.getWorkingOperations(n);if(ne.length===0)return;let we=-1;for(const me of ne){we++;const ze=o.get(P(me.uri));ze!==void 0&&await this.spliceOperation(me.uri,we,{...me,conflicts:{baseUri:ze.baseUri,incomingUri:ze.incomingUri,status:[me.type,ze.type]},timestamp:Date.now()},C)}},r),C.length!==0&&this._onDidChange.fire(C)},0)}async createChangeset(n){ae.log(`ChangeStore.createChangeset${n.toString()})`);const e=await this.createPatch(n);return e?{workspaceId:this.workspaceId,uri:n,patch:e}:void 0}async createPatch(n,e,t){if(ae.log(`ChangeStore.createPatch${n.toString()})`,e),e===void 0){let s=await this.getWorkingOperations(n);if((t==null?void 0:t.staged)&&(s=s.filter(u=>u.staged)),s.length===0)return"";const o=[];for(const u of s){const l=await this.createPatchCore(n,u);o.push(l)}return o.join("")}const{operation:r}=await this.getWorkingOperation(e,n);if(r===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(t==null?void 0:t.staged)&&r.staged?"":await this.createPatchCore(n,r)}async createPatchCore(n,e){if(e.fileType!==d.FileType.File)return"";const t=this.providerService.getRelativeFilePath(n,e.uri),r=`diff --git a/${t} b/${t}`;if(e.type===N.Created){let l=await this.getContent(e.uri);return Pt(t,"",l,"add")}if(e.type===N.Deleted){let l=Zn.decode(await d.workspace.fs.readFile(T.getProviderUri(e.uri)));return Pt(t,l,"","delete")}const i=await this.getContent(e.uri),s=Zn.decode(await d.workspace.fs.readFile(T.getProviderUri(e.uri))),o=Ht(t,s,i),u=o.indexOf(Jr);return`${r}
${o.substr(u+Jr.length)}`}async keep(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return;const r=`ChangeStore.keep(${n.toString()})`;ae.log(r,e);const i=[];await this.lock.synchronizeWrite(P(t),async()=>{const{operation:s,index:o}=await this.getWorkingOperation(n,t);if(s===void 0)return;if(e===void 0&&s.conflicts){const[,l]=s.conflicts.status;switch(l){case N.Changed:switch(s.type){case N.Changed:case N.Created:case N.Deleted:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},i);break}break;case N.Created:switch(s.type){case N.Changed:case N.Deleted:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},i);break;case N.Created:await this.spliceOperation(n,o,{...s,type:N.Changed,size:s.size,hash:s.hash,originalHash:s.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case N.Deleted:switch(s.type){case N.Deleted:await this.discardCore(t,n,i);break;case N.Changed:await this.spliceOperation(n,o,{...s,type:N.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case N.Created:await this.spliceOperation(n,o,{...s,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(e===void 0)return;switch(e.type){case N.Changed:switch(s.type){case N.Deleted:await this.spliceOperation(n,o,{...s,type:N.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case N.Created:break;case N.Changed:break}break;case N.Created:switch(s.type){case N.Changed:case N.Deleted:return;case N.Created:break}break;case N.Deleted:switch(s.type){case N.Deleted:return this.discardCore(t,n,i);case N.Changed:await this.spliceOperation(n,o,{...s,type:N.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case N.Created:return}}const u=e!==void 0?await d.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(n,o,{...s,type:N.Changed,originalHash:u!==void 0?await Jt(u):s.originalHash,conflicts:void 0,timestamp:Date.now()},i)},r),i.length!==0&&this._onDidChange.fire(i)}async merge(n,e,t){const r=this.providerService.getVirtualWorkspaceUri(n);if(r===void 0)return;const i=`ChangeStore.merge(${n.toString()})`;ae.log(i,e,t);const s=[];await this.lock.synchronizeWrite(P(r),async()=>{const{operation:o,index:u}=await this.getWorkingOperation(n,r);if(o===void 0)return;switch(e.type){case N.Changed:switch(o.type){case N.Deleted:await this.spliceOperation(n,u,{...o,type:N.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]},timestamp:Date.now()},s);return;case N.Created:break;case N.Changed:break}break;case N.Created:switch(o.type){case N.Deleted:case N.Changed:return;case N.Created:const ne=await d.workspace.fs.readFile(e.providerUri);await this.spliceOperation(n,u,{...o,originalHash:ne!==void 0?await Jt(ne):o.originalHash,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]},type:N.Changed,timestamp:Date.now()},s);break}break;case N.Deleted:switch(o.type){case N.Deleted:return this.discardCore(r,n,s);case N.Changed:await this.spliceOperation(n,u,{...o,type:N.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[o.type,e.type]},timestamp:Date.now()},s);return;case N.Created:return}}const l=await this.providerService.getMetadata(e.providerUri),c=await this.getWorkingContent(r,n),_=o.type===N.Created?new Uint8Array(0):await d.workspace.fs.readFile(t.providerUri),H=await d.workspace.fs.readFile(e.providerUri),C=$n(Zn.decode(c),Zn.decode(_),Zn.decode(H),l.HEAD.sha);await this.writeFileCore(r,n,s,ri.encode(C.mergedContent),H!=null?H:new Uint8Array(0),C.conflicts?{baseUri:t.providerUri,incomingUri:e.providerUri,status:[o.type,e.type]}:void 0)},i),s.length!==0&&this._onDidChange.fire(s)}async resolveDiffCommand(n,e,t,r){let i;const s=this.providerService.getVirtualRootUri(n);return s!==void 0&&({operation:i}=await this.getWorkingOperation(n,s)),(i==null?void 0:i.type)===N.Deleted?this.resolveOpenCommand(e):Ie.getAny("git.openDiffOnClick",void 0,!0)?((i==null?void 0:i.type)===N.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,n,t,r]}):this.resolveOpenCommand(n)}resolveOpenCommand(n,e){return{command:"vscode.open",title:"Open File",arguments:[n,e]}}getScopedUri(n,e){const t=typeof e=="string"?e:e.workspaceId;return t===this.workspaceId?n:n.with({fragment:t})}getUriScope(n){return n.fragment||void 0}getScopedChangeStore(n){const e=typeof n=="string"?n:n.workspaceId;ae.log(`ChangeStore.getScopedChangeStore(${e})`);let t=this.scopedStores.get(e);return t===void 0&&(t=e===this.workspaceId?new br.ScopedChangeStore(this,e,this.workspaceId):new br.ScopedChangeStore(new br(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,t)),t}async stat(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).stat(n);const t=this.providerService.getVirtualRootUri(n);if(t===void 0)return;const r=P(t),i=this.cache.get(r);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(r,async()=>{var s;const{operation:o}=await this.getWorkingOperation(n,t);if(o!==void 0){if(o.type===N.Deleted)throw d.FileSystemError.FileNotFound(`The ${o.fileType===d.FileType.Directory?"folder":"file"} has been deleted.`);return{type:o.fileType,size:(s=o.size)!=null?s:0,ctime:0,mtime:o.timestamp}}},`ChangeStore.stat(${n.toString()}`)}async readFile(n){const e=this.getUriScope(n);if(e)return this.getScopedChangeStore(e).readFile(n);const t=new Q(`ChangeStore.readFile(${n.toString()})`);try{const r=this.providerService.getVirtualRootUri(n);if(r===void 0)return;const i=P(r),s=this.cache.get(i);return(s==null?void 0:s.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const o=this.cache.get(i);if((o==null?void 0:o.length)===0){t.log({message:": Not found; no operations"});return}return this.getWorkingContent(r,n)},t.context)}finally{t.stop()}}async createDirectory(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new Q(`ChangeStore.createDirectory(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e),o=await this.providerService.getMetadata(n);let u;i===void 0?u={type:N.Created,uri:n,fileType:d.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:i.type===N.Deleted?u={...i,type:N.Changed,revision:o.HEAD.sha,timestamp:Date.now(),size:0,hash:""}:u={...i,timestamp:Date.now()},await this.spliceOperation(n,s,u,r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}async deleteDirectory(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new Q(`ChangeStore.deleteDirectory(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);if((i==null?void 0:i.type)===N.Created)return this.discardCore(e,n,r);const o=await this.providerService.getMetadata(n);await this.spliceOperation(n,s,{type:N.Deleted,uri:n,fileType:d.FileType.Directory,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}async updateDirectoryEntries(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return e;const r=new Q(`ChangeStore.updateDirectoryEntries(${n.toString()})`,{},e.length);try{const i=P(t),s=this.cache.get(i);return(s==null?void 0:s.length)===0?e:await this.lock.synchronizeRead(i,async()=>{const{path:o}=D(t,n),u=await this.getWorkingOperations(t);for(const l of u)switch(l.type){case N.Changed:break;case N.Created:{if(M(l.uri,o)){const c=this.providerService.getRelativeFilePath(n,l.uri);e.push([c,l.fileType])}break}case N.Deleted:{if(M(l.uri,o)){const c=this.providerService.getRelativeFilePath(n,l.uri),_=e.findIndex(([H])=>H===c);_!==-1&&e.splice(_,1)}break}}return e},r.context)}finally{r.stop()}}async writeFile(n,e,t,r){const i=this.providerService.getVirtualWorkspaceUri(n);if(i===void 0)return;const s=new Q(`ChangeStore.writeFile(${n.toString()})`,{},e.length,r);try{const o=[];if(await this.lock.synchronizeWrite(P(i),async()=>this.writeFileCore(i,n,o,e,t,r),s.context),o.length===0)return;this._onDidChange.fire(o)}finally{s.stop()}}async writeFileCore(n,e,t,r,i,s){const o=new Q(`ChangeStore.writeFileCore(${e.toString()})`,{},r.length,s);try{const[{operation:u,index:l},c,_]=await Promise.all([this.getWorkingOperation(e,n),Jt(r),Jt(i)]);if(c===_&&(!u||(u==null?void 0:u.type)===N.Changed))return this.discardCore(n,e,t);if(c===(u==null?void 0:u.hash)&&_===(u==null?void 0:u.originalHash))return;const[{HEAD:H}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(n,e,r)]);await this.spliceOperation(e,l,u===void 0?{type:N.Changed,uri:e,fileType:d.FileType.File,revision:H.sha,timestamp:Date.now(),size:r.byteLength,hash:c,originalHash:_,conflicts:s,staged:!1}:{...u,revision:H.sha,timestamp:Date.now(),size:r.byteLength,hash:c,originalHash:_,conflicts:s,staged:!1},t)}finally{o.stop()}}async createFile(n,e){const t=this.providerService.getVirtualWorkspaceUri(n);if(t===void 0)return;const r=new Q(`ChangeStore.createFile(${n.toString()})`,{},e.length);try{const i=[];if(await this.lock.synchronizeWrite(P(t),async()=>{const[{operation:s,index:o},u,l]=await Promise.all([this.getWorkingOperation(n,t),Jt(e),this.providerService.getMetadata(n),this.saveWorkingContent(t,n,e)]);await this.spliceOperation(n,o,s===void 0?{type:N.Created,uri:n,fileType:d.FileType.File,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u,originalHash:u}:s.type===N.Deleted?{...s,type:N.Changed,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u}:{...s,type:N.Created,revision:l.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u},i)},r.context),i.length===0)return;this._onDidChange.fire(i)}finally{r.stop()}}async deleteFile(n){const e=this.providerService.getVirtualWorkspaceUri(n);if(e===void 0)return;const t=new Q(`ChangeStore.deleteFile(${n.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(P(e),async()=>{const{operation:i,index:s}=await this.getWorkingOperation(n,e);if((i==null?void 0:i.type)===N.Created)return this.discardCore(e,n,r);const[o]=await Promise.all([this.providerService.getMetadata(n),this.discardWorkingContent(e,n)]);await this.spliceOperation(n,s,{type:N.Deleted,uri:n,fileType:d.FileType.File,revision:o.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},t.context),r.length===0)return;this._onDidChange.fire(r)}finally{t.stop()}}findParent(n,e,t){const r=ce(n),{operation:i,index:s}=this.findWorkingOperation(r,e);return i!==void 0&&t(i,e)?{parent:i,parentIndex:s}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(n,e){const t=F(n);return this.findParent(n,e,(r,i)=>r.type===N.Created&&!i.some(s=>M(s.uri,r.uri)&&F(s.uri)!==t))}findDeletedParents(n,e){const t=[];for(let r=0;r<e.length;r+=1){const i=e[r];i.type===N.Deleted&&I(n,i.uri)&&t.push({parent:i,parentIndex:r})}return t}async getWorkingOperation(n,e){return this.findWorkingOperation(n,await this.getWorkingOperations(e))}findWorkingOperation(n,e){if(e.length===0)return{operation:void 0,index:-1};const t=F(n);let r=-1;const i=e.find((s,o)=>F(s.uri)!==t?!1:(r=o,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:r}}async getWorkingOperations(n){const e=P(n);let t=this.cache.get(e);return t===void 0&&(t=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,t)),t}async saveWorkingOperations(n,e){ae.debug(`ChangeStore.saveWorkingOperations(${n.toString()})`,e.length);const t=P(n);this.cache.set(t,e);try{await this.storageService.store(this.getOperationsStorageKey(t),this.toStorage(e))}catch(r){throw this.cache.delete(t),ae.error(r,`Failed to save repository changes for ${t}`),r}}getOperationsStorageKey(n){return`operations/${n}`}async getWorkingContent(n,e){try{return await this.fileStorageService.get(this.getFileStorageKey(n,e))}catch(t){throw ae.error(t),this.telemetryService.sendException(t),t}}async discardWorkingContent(n,e){ae.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(n,e))}catch(t){if(t instanceof d.FileSystemError&&t.code===Vr)return;throw ae.error(t),this.telemetryService.sendException(t),t}}async saveWorkingContent(n,e,t){ae.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,t.length);try{return await this.fileStorageService.store(this.getFileStorageKey(n,e),t)}catch(r){throw ae.error(r),this.telemetryService.sendException(r),r}}getFileStorageKey(n,e){return`changestore/${L(e)}`}async spliceOperation(n,e,t,r){const i=this.providerService.getVirtualWorkspaceUri(n);if(i===void 0)return;const s=await this.getWorkingOperations(i);e!==-1?s.splice(e,1,t):s.push(t),await this.saveWorkingOperations(i,s),r.push(Hr(t,i,n))}fromStorage(n){if(!n)return[];try{const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&m(r)?typeof r=="string"?d.Uri.parse(r):d.Uri.from(r):r);return Array.isArray(e)?e:e.operations}catch(e){throw ae.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(n){const e={schemaVersion:br.operationsStorageSchemaVersion,operations:n};return JSON.stringify(e)}},"_ChangeStore");let Wr=br;Wr.operationsStorageSchemaVersion=1,Wr.ScopedChangeStore=class{constructor(n,e,t){this.changeStore=n,this.scope=e,this.workspaceId=t}createPatch(n,e,t){return this.changeStore.createPatch(this.stripUriScope(n),this.stripUriScope(e),t)}discardAll(n,e){return this.changeStore.discardAll(this.stripUriScope(n),e)}getChange(n){return this.changeStore.getChange(this.stripUriScope(n))}getChanges(n,e){return this.changeStore.getChanges(this.stripUriScope(n),e)}async getGroupedChanges(n,e){return this.changeStore.getGroupedChanges(this.stripUriScope(n),e)}hasChanges(n){return this.changeStore.hasChanges(this.stripUriScope(n))}maybeHasChanges(n,e){return this.changeStore.maybeHasChanges(this.stripUriScope(n),this.stripUriScope(e))}async stat(n){const t=this.changeStore.getUriScope(n)!==this.workspaceId,r=await this.changeStore.stat(this.stripUriScope(n));return r!==void 0&&t&&(r.permissions=d.FilePermission.Readonly),r}readFile(n){return this.changeStore.readFile(this.stripUriScope(n))}resolveDiffCommand(n,e,t,r){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(n,this.scope),this.changeStore.getScopedUri(e,this.scope),t,r)}stripUriScope(n){return n===void 0||!n.fragment?n:n.with({fragment:""})}},qr([It()],Wr.prototype,"getWorkingOperations",1);function fi(n){switch(n){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}a(fi,"getStatusText");function di(n){const[e,t]=n;switch(e){case OperationType.Changed:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}a(di,"getConflictStatusText");const Ur=a(class{constructor(n){this.storageService=n,this._onDidChange=new d.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(n){const e=P(n),t=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(r){throw ae.error(r,`Failed to delete repository metadata for ${e}`),r}!t||setTimeout(()=>this._onDidChange.fire({uri:n}),0)}async get(n){this.assertMatchingScheme(n);const e=P(n),t=this.cache.get(e);if(t!==void 0)return t;let r;try{r=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(i){throw ae.error(i,`Failed to get repository metadata for ${e}`),i}return r?this.cache.set(e,{revision:r}):this.cache.delete(e),{revision:r}}async set(n,e,t,r){this.assertMatchingScheme(n);const i=(await this.get(n)).revision!==e?"revision":void 0,s=P(n);if(t!==void 0&&!this.validate(t))throw new Error(`Metadata validation failed for ${n.toString()}`);const o={revision:e,cachedMetadata:t};this.cache.set(s,o);try{await this.storageService.store(this.getStorageKey(s),this.toStorage(e))}catch(u){throw this.cache.delete(s),ae.error(u,`Failed to save repository metadata for ${s}`),u}(r==null?void 0:r.silent)||setTimeout(()=>this._onDidChange.fire({uri:n,reason:i}),0)}refresh(){this.cache.clear()}validate(n){var e,t,r,i,s,o,u,l;return typeof n.version=="number"&&n.version>=Ur.schemaVersion&&typeof n.timestamp=="number"&&typeof((e=n.provider)==null?void 0:e.id)=="string"&&typeof n.provider.name=="string"&&typeof n.name=="string"&&n.repo&&typeof n.accessLevel=="number"&&typeof((t=n.HEAD)==null?void 0:t.type)=="number"&&typeof((r=n.HEAD)==null?void 0:r.name)=="string"&&typeof((i=n.HEAD)==null?void 0:i.sha)=="string"&&(typeof((s=n.HEAD.detached)==null?void 0:s.name)=="string"&&typeof((o=n.HEAD.detached)==null?void 0:o.type)=="number"||typeof((u=n.HEAD.branch)==null?void 0:u.name)=="string")&&typeof((l=n.defaultBranch)==null?void 0:l.name)=="string"&&typeof n.defaultBranch.sha=="string"}assertMatchingScheme(n){if(n.scheme!==T.scheme)throw new Error(`Uri scheme '${n.scheme}' must match configured scheme '${T.scheme}'; uri=${n.toString()}`)}getStorageKey(n){return`metadata/${n}`}fromStorage(n){if(!n)return;const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&m(r)?d.Uri.from(r):r);return e==null?void 0:e.revision}toStorage(n){const e={schemaVersion:Ur.storageSchemaVersion,revision:n};return JSON.stringify(e)}},"_MetadataStore");let zr=Ur;zr.schemaVersion=Ke,zr.storageSchemaVersion=1;class qn{constructor(e,t){this.memento=e,this.scope=t,this._onDidChange=new d.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),r=new Q(`MementoStorage.get(${e}): scopedKey=${t}`,{logLevel:d.LogLevel.Debug});try{return await Promise.resolve(this.memento.get(t))}finally{r.stop()}}async getKeys(e){const t=this.getScoped(e),r=new Q(`MementoStorage.getKeys(${e}): scopedPrefix=${t}`,{logLevel:d.LogLevel.Debug});try{let i=this.getKeysCore(e);if(this.scope!==void 0){const s=this.scope.length+1;i=i.map(o=>o.substr(s))}return await Promise.resolve(i)}finally{r.stop()}}getKeysCore(e){let t=this.memento.keys();return e&&(t=t.filter(r=>r.startsWith(e))),t}async store(e,t){const r=this.getScoped(e),i=new Q(`MementoStorage.store(${e}): scopedKey=${r}`,{logLevel:d.LogLevel.Debug});try{return await this.storeCore(e,r,t)}finally{i.stop()}}async storeCore(e,t,r){await this.memento.update(t,r),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),r=new Q(`MementoStorage.delete(${e}): scopedKey=${t}`,{logLevel:d.LogLevel.Debug});try{return await this.storeCore(e,t,void 0)}finally{r.stop()}}async deleteKeys(e){const t=this.getScoped(e),r=new Q(`MementoStorage.deleteKeys(${e}): scopedPrefix=${t}`,{logLevel:d.LogLevel.Debug});try{const i=[],s=this.scope!==void 0?this.scope.length+1:0,o=this.getKeysCore(t);for(const u of o){const l=s!==0?u.substr(s):u;ae.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${l}, scopedKey=${u}`);try{await this.storeCore(l,u,void 0)}catch(c){ae.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${l}, scopedKey=${u}`),i.push(l)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{r.stop()}}with(e){return new qn(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}a(qn,"MementoStorageService");class Qr{constructor(e,t){this.storageUri=e,this.scope=t,this._onDidChange=new d.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),r=new Q(`ExtFileStorageService.get(${e}): scopedKey=${t}`,{logLevel:d.LogLevel.Debug});try{return await d.workspace.fs.readFile(d.Uri.joinPath(this.storageUri,t))}catch(i){return}finally{r.stop()}}async store(e,t){const r=this.getScoped(e),i=new Q(`ExtFileStorageService.store(${e}): scopedKey=${r}`,{logLevel:d.LogLevel.Debug});try{return await this.storeCore(e,r,t)}finally{i.stop()}}async storeCore(e,t,r){await d.workspace.fs.writeFile(d.Uri.joinPath(this.storageUri,t),r),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),r=new Q(`ExtFileStorageService.delete(${e}): scopedKey=${t}`,{logLevel:d.LogLevel.Debug});try{return await d.workspace.fs.delete(d.Uri.joinPath(this.storageUri,t))}finally{r.stop()}}with(e){return new Qr(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}a(Qr,"ExtFileStorageService");const ge=a(async(n,e,t)=>{const r=await Promise.resolve().then(xn.bind(xn,850)),i=await Promise.resolve().then(xn.bind(xn,5229)),s=new r.AppInsightsCore,o=new i.PostChannel,u={instrumentationKey:n,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){u.extensionConfig={};const _={alwaysUseXhrOverride:!0,httpXHROverride:t};u.extensionConfig[o.identifier]=_}const c=e.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(u,[]),s.addTelemetryInitializer(_=>{var H,C;!c||(_.ext=(H=_.ext)!=null?H:{},_.ext.utc=(C=_.ext.utc)!=null?C:{},_.ext.utc.flags=8462029)}),s},"getAICore"),Ye=a(async(n,e,t)=>{const r=await ge(n,e,t);return{logEvent:(s,o)=>{try{r==null||r.track({name:s,baseData:{name:s,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},flush:async()=>{try{r==null||r.unload()}catch(s){throw new Error(`Failed to flush app insights!
`+s.message)}}}},"oneDataSystemClientFactory");var Xe;(function(n){n[n.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",n[n.INSTANTIATING=1]="INSTANTIATING",n[n.INSTANTIATED=2]="INSTANTIATED"})(Xe||(Xe={}));class it{constructor(e,t){this._instantiationStatus=Xe.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==Xe.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==Xe.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===Xe.NOT_INSTANTIATED&&(this._instantiationStatus=Xe.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=Xe.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=Xe.INSTANTIATED}))}}a(it,"BaseTelemetrySender");class pt{constructor(e,t,r){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,r,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logUsage(e,{properties:t,measurements:r})}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1)}sendDangerousTelemetryEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,r,!0)}internalSendTelemetryErrorEvent(e,t,r,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!1)}sendDangerousTelemetryErrorEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,r,!0)}internalSendTelemetryException(e,t,r,i){i?this.telemetrySender.sendErrorData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryException(e,t,r){this.internalSendTelemetryException(e,t,r,!1)}sendDangerousTelemetryException(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,r,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}a(pt,"BaseTelemetryReporter");class vt{static applyReplacements(e,t){for(const r of Object.keys(e))for(const i of t)i.lookup.test(r)&&(i.replacementString!==void 0?e[r]=i.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.7"}}static getInstance(){return vt._instance||(vt._instance=new vt),vt._instance}}a(vt,"TelemetryUtil");const jt=a(async(n,e)=>{let t;try{const i=await Promise.resolve().then(xn.bind(xn,3268));t=new i.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0})}catch(i){return Promise.reject(i)}return{logEvent:(i,s)=>{const o={...s==null?void 0:s.properties,...s==null?void 0:s.measurements};(e==null?void 0:e.length)&&vt.applyReplacements(o,e),t==null||t.track({name:i,data:o})},flush:async()=>{t==null||t.flush()}}},"webAppInsightsClientFactory");function pe(n){if(n.userAgentData){const e=n.userAgentData.brands[n.userAgentData.brands.length-1];return`${n.userAgentData.platform} - ${e==null?void 0:e.brand} v${e==null?void 0:e.version}}`}else return n.appVersion}a(pe,"getBrowserRelease");class ke extends pt{constructor(e,t){let r=a(o=>jt(o,t),"clientFactory");vt.shouldUseOneDataSystemSDK(e)&&(r=a(o=>Ye(o,d),"clientFactory"));const i={release:pe(navigator),platform:"web",architecture:"web"},s=new it(e,r);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(s,d,{additionalCommonProperties:vt.getAdditionalCommonProperties(i)})}}a(ke,"TelemetryReporter");const Ue="Type of classified event does not match event properties",nt=a(class{constructor(n){this.context=n,this.sharedProperties={},nt._instance=this,this.reporter=new ke(nt.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(n,e){e!==Ue&&this.reporter.sendTelemetryEvent(n,{...this.sharedProperties,...e})}sendEvent(n,e,t){this.reporter.sendTelemetryEvent(n,{...this.sharedProperties,...e},t)}sendErrorEvent(n,e,t){this.reporter.sendTelemetryErrorEvent(n,{...this.sharedProperties,...e},t)}sendException(n,e,t){this.reporter.sendTelemetryException(n,{...this.sharedProperties,...e},t)}setSharedProperty(n,e){this.sharedProperties[n]=e}reportWorkbenchLoadResult(n){const e="_codespaces.webeditor.connectWorkspace";d.env.appHost==="github.dev"&&(ae.debug(`Executing ${e}`),n={...n,errorDetail:n.errorDetail instanceof Error?n.errorDetail.name:void 0},d.commands.executeCommand(e,n).then(t=>{},t=>{ae.debug(`Failed to execute ${e}`,t)}))}},"_TelemetryService");let Dt=nt;Dt.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";function Ut(n,e){const t=d.l10n.t("Report Issue"),r=d.l10n.t("Reload");d.window.showErrorMessage(d.l10n.t("The {0} extension failed to activate.",n.extension.packageJSON.displayName),{modal:!0,detail:d.l10n.t("Please try reloading the window, or report an issue.")},r,t).then(i=>{i===t?d.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:n.extension.id,issueTitle:"Extension activation failed",issueBody:e instanceof Error?e.toString():void 0}):i===r&&d.commands.executeCommand("workbench.action.reloadWindow")})}a(Ut,"handleExtensionActivationError");let rn;var cn;(function(n){function e(t){const r=ai(t);return rn=d.env.uiKind===d.UIKind.Web,ae.warn(`Running on the ${rn?"web":"desktop"}${t.extensionRuntime!==d.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${r}; storageUri=${t.globalStorageUri.toString(!0)}`),r}a(e,"configure"),n.configure=e})(cn||(cn={}));const Ln=/\/workspaceStorage\/(?<id>[^/]+)/i;function ai(n){var e;if(n.storageUri===void 0)return"";const t=Ln.exec(n.storageUri.path);let r;if((e=t==null?void 0:t.groups)==null?void 0:e.id)r=t.groups.id;else{r=n.storageUri.path;const i=_n(n.globalStorageUri.path,r),s=`/${n.extension.id}`;r.endsWith(s)?r=r.slice(i,-s.length):r=r.substr(i)}return/-[0-9]$/.test(r)?r.slice(0,-2):r}a(ai,"getWorkspaceId");function bi(n,e){return n.reduce((r,i)=>{const s=e(i),o=r.get(s);return o===void 0?r.set(s,[i]):o.push(i),r},new Map)}a(bi,"groupBy");function Ai(n){let e=0;for(const t of n){if(t===0)return!0;if(e++,e>8e3)break}return!1}a(Ai,"isBinary");function rr(n,e,t=r=>r){return[...n.reduce((i,s)=>{const o=e(s),u=i.get(o);if(u===void 0)i.set(o,s);else{const l=t(u,s);l!==void 0&&i.set(o,l)}return i},new Map).values()]}a(rr,"uniqueBy");const Xr=a(class{constructor(n,e,t,r,i){this.providerService=n,this.storageService=e,this.changeStore=t,this.workspaceId=r,this.context=i,this._onDidChange=new d.EventEmitter,this.cache=new Map,this.lock=new Vt("WorkspaceRepositories"),this.disposable=d.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),Ie.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const n=await d.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void d.window.showTextDocument(n)}onConfigurationChanged(n){if(!Ie.changed(n,"experimental.syncRecentList"))return;const e=Ie.get("experimental.syncRecentList")===!0?[Xr.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(n){const e=rr(n.map(t=>t.rootUri),t=>P(t)).map(t=>this.providerService.getRepository(t)).filter(t=>Boolean(t));this.addOrUpdate(e)}onRepositoriesChanged(n){this.addOrUpdate(n.added)}onRepositoryChanged(n){this.addOrUpdate([n.repository])}async get(n){let e=await this.lock.synchronizeRead(async()=>{let t=this.cache.get("workspaceRepositories");return t===void 0&&(t=[...(await this.getCore()).values()].sort((r,i)=>i.timestamp-r.timestamp),this.cache.set("workspaceRepositories",t)),t},"WorkspaceRepositories.get");if(n){const t=P(n);e=e.filter(r=>P(r.canonicalUri)===t)}return e}async getCore(){return this.fromStorage(await this.storageService.get(Xr.storageKey))}async getRecents(n=10){return(await this.get()).slice(0,n)}async getRemoteWorkspaceSourceProvider(n){const e=await this.getRecents();if(e.length!==0)return e.filter(t=>t.provider.id===n)}refresh(){this.cache.clear()}async remove(n){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),t=`${n.workspaceId}/${P(n.uri)}`,r=e.get(t);if(r===void 0)return;const i=this.changeStore.getScopedChangeStore(r),s=await i.getChanges(r.uri);if(s.length!==0){const o={title:d.l10n.t("Yes")},u={title:d.l10n.t("No"),isCloseAffordance:!0};if(await d.window.showWarningMessage(s.length===1?d.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):d.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,s.length),{modal:!0},o,u)!==o)return;await i.discardAll(r.uri)}this.cache.clear(),e.delete(t);try{await this.storageService.store(Xr.storageKey,this.toStorage(e))}catch(o){throw ae.error(o,"Failed to save workspace repositories"),o}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(n){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const t of n){const[{HEAD:r,pullRequest:i},s]=await Promise.all([t.getMetadata(),t.getIndexMetadata()]),o=await this.changeStore.getChanges(t.uri);e.set(`${this.workspaceId}/${P(t.uri)}`,{workspaceId:this.workspaceId,uri:t.uri,canonicalUri:t.canonicalUri,name:t.name,provider:t.provider,ref:{type:r.type,name:r.name},idx:(s==null?void 0:s.type)&&V.hasIndex(s.type)?{type:s.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:Li(o),timestamp:Date.now()})}try{await this.storageService.store(Xr.storageKey,this.toStorage(e))}catch(t){throw ae.error(t,"Failed to save workspace repositories"),t}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(n){if(!n)return new Map;try{const e=JSON.parse(n,(t,r)=>(t==="uri"||t.endsWith("Uri"))&&m(r)?d.Uri.from(r):r);return new Map(e.workspaceRepositories)}catch(e){return ae.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(n){const e={schemaVersion:Xr.storageSchemaVersion,workspaceRepositories:[...n]};return JSON.stringify(e)}},"_WorkspaceRepositories");let hi=Xr;hi.storageKey="workspaceRepositories",hi.storageSchemaVersion=1;function Oi(n){return n!==void 0&&(n.added!==0||n.changed!==0||n.deleted!==0)}a(Oi,"hasChanges");function Va(n){return Oi(n.changes)}a(Va,"hasUncommittedChanges");function Li(n){let e=0,t=0,r=0;for(const i of n)switch(i.type){case N.Created:e++;break;case N.Changed:t++;break;case N.Deleted:r++;break}return e||t||r?{added:e,changed:t,deleted:r,timestamp:Date.now()}:void 0}a(Li,"toChangesSummary");function va(n,e,{compact:t=!0,preamble:r,separator:i=", ",short:s=!1,single:o=!1}={}){if(!Oi(e))return n===HeadType.Branch||n===HeadType.RemoteBranch?l10n.t("Everything up to date"):l10n.t("No uncommitted changes");const{added:u,changed:l,deleted:c}=e;if(o){const H=u+l+c;return H===1?l10n.t("{0} change",H):l10n.t("{0} changes",H)}let _=`${r!=null?r:""}`;return(u||!t)&&(_+=s?`+${u}`:u===1?l10n.t("{0} file added",u):l10n.t("{0} files added",u),(l||c||!t)&&(_+=i)),(l||!t)&&(_+=s?`~${l}`:l===1?l10n.t("{0} file changed",l):l10n.t("{0} files changed",l),(c||!t)&&(_+=i)),(c||!t)&&(_+=s?`-${c}`:c===1?l10n.t("{0} file deleted",c):l10n.t("{0} files deleted",c)),_}a(va,"formatChangesSummary");const yi=globalThis.fetch;async function ga(n,e,t){const r=new AbortController;t.onCancellationRequested(()=>r.abort());try{return await globalThis.fetch(n,{...e,signal:r.signal})}catch(i){throw t.isCancellationRequested?new d.CancellationError:i}}a(ga,"fetchWithCancellation");async function Gi(n,e,t,r,i){if(t===0)throw new d.CancellationError;const s=new d.CancellationTokenSource;r.onCancellationRequested(()=>s.cancel());try{const o=await ga(n,e,s.token);if(o.body){const u=[];let l=0;const c=o.body.getReader();let _=3;for(;;){let{done:H,value:C}=await c.read();if(H){const we=u.reduce((gt,St)=>gt+St.length,0),me=new Uint8Array(we);let ze=0;for(const gt of u)me.set(gt,ze),ze+=gt.length;return me}C&&(u.push(C),l+=C.length);const ne=Math.floor(l/(1024*1024));if(_<ne){_=ne;const we={message:ne+" MB"};i.report(we)}if(t!==void 0&&l>t)throw c.cancel(),s.cancel(),new Error("LIMIT_HIT")}}}catch(o){throw r.isCancellationRequested?new d.CancellationError:o}throw new d.CancellationError}a(Gi,"fetchUInt8ArrayWithMaxSizeAndCancellation");const pa="microsoft",Oa=["https://management.azure.com/user_impersonation"];class $i{async getTenants(){if(this._tenants)return this._tenants;try{const e=await d.authentication.getSession(pa,Oa,{silent:!0}),t={Accept:"application/json",Authorization:`Bearer ${e.accessToken}`},r=[];let i="https://management.azure.com/tenants?api-version=2020-01-01";for(;i;){const o=await(await yi(i,{method:"GET",headers:t})).json();r.push(...o.value),i=o.nextLink}return this._tenants=r,r}catch{}return[]}}a($i,"AADClient");var Yn=Object.defineProperty,_r=Object.getOwnPropertyDescriptor,li=a((n,e,t,r)=>{for(var i=r>1?void 0:r?_r(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&Yn(e,t,i),i},"messages_decorateClass");class Pn{async showStatus401Message(e){if(!e)return void d.window.showErrorMessage(d.l10n.t("The provided credentials are either invalid or expired."),d.l10n.t("OK"));const t=d.l10n.t("Reauthenticate");await d.window.showErrorMessage(d.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),t)===t&&e()}async showStatus403Message(e){if(!e)return void d.window.showErrorMessage(d.l10n.t("The provided credentials do not have the required access."),d.l10n.t("OK"));const t=d.l10n.t("Reauthenticate");await d.window.showErrorMessage(d.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?"),t)===t&&e()}async showRepositoryEmptyMessage(e){const t=d.l10n.t("Open Repository");await d.window.showErrorMessage(d.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),t)===t&&d.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,t){const r=d.l10n.t("Open Pull Request");await d.window.showErrorMessage(d.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,t),r)===r&&d.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,t){const r=d.l10n.t("OK");await d.window.showWarningMessage(d.l10n.t("Unable to find the source branch for pull request {1} on repository '{0}'.",e,t),r)}async showRepositoryForbiddenMessage(e){const t=d.l10n.t("Open Repository");await d.window.showErrorMessage(d.l10n.t("You don't have access to repository '{0}'. Would you like to open another repository?",e),t)===t&&d.commands.executeCommand("remoteHub.openRepository")}async showRepositoryNotFoundMessage(e){const t=d.l10n.t("Open Repository");await d.window.showErrorMessage(d.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),t)===t&&d.commands.executeCommand("remoteHub.openRepository")}async showUnableToOpenRepositoryMessage(e){const t=d.l10n.t("Open Repository");await d.window.showErrorMessage(d.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),t)===t&&d.commands.executeCommand("remoteHub.openRepository")}}a(Pn,"Messages"),li([It(()=>"")],Pn.prototype,"showStatus401Message",1),li([It(()=>"")],Pn.prototype,"showStatus403Message",1),li([It()],Pn.prototype,"showRepositoryEmptyMessage",1),li([It()],Pn.prototype,"showPullRequestNotFoundMessage",1),li([It()],Pn.prototype,"showPullRequestHeadNotFoundMessage",1),li([It()],Pn.prototype,"showRepositoryForbiddenMessage",1),li([It()],Pn.prototype,"showRepositoryNotFoundMessage",1),li([It()],Pn.prototype,"showUnableToOpenRepositoryMessage",1);const La=new Pn,Ei="microsoft",Ri=null;class vi{constructor(e){this.authService=e,this.apiVersion="7.0",this.apiPageSize=100}async getAccounts(){var e;try{const t=await this.sendRequest({baseUrl:"https://app.vssps.visualstudio.com/_apis",url:"profile/profiles/me"});if(t===void 0)throw new Error("Profile information could not be read.");const r={memberId:t.publicAlias},i=await this.sendRequest({baseUrl:"https://app.vssps.visualstudio.com/_apis",url:"accounts",query:r});return(e=i==null?void 0:i.value)==null?void 0:e.map(s=>s.accountName).sort((s,o)=>s.localeCompare(o))}catch(t){ae.error(t);return}}async getProjects(e){let t=0,r=0;const i=[],s={};do{s.$top=this.apiPageSize,s.$skip=r*this.apiPageSize;const o=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:"projects",query:s});if(!o)break;t=o.value.length,i.push(...o.value),r++}while(t===this.apiPageSize);return i.sort((o,u)=>o.name.localeCompare(u.name))}async createPullRequest(e,t,r,i){const s={supportsIterations:!0};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"pullrequests",query:s,method:"POST",body:JSON.stringify(i)})}async createPushes(e,t,r,i){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"pushes",method:"POST",body:JSON.stringify(i)})}async getBlob(e,t,r,i){return await this.sendRequestBuffer({baseUrl:this.getGitBaseUrl(e,t,r),url:`blobs/${i}`})}async getBranchStats(e,t,r,i){try{const s={name:i};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"stats/branches",query:s})}catch(s){ae.error(s);return}}async getCommit(e,t,r,i){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`commits/${i}`})}async getCommits(e,t,r,i){var s,o,u,l;const c={"searchCriteria.$top":(s=i==null?void 0:i.limit)!=null?s:this.apiPageSize,"searchCriteria.itemPath":(o=i==null?void 0:i.path)!=null?o:"/","searchCriteria.itemVersion.version":(l=(u=i==null?void 0:i.cursor)!=null?u:i==null?void 0:i.ref)!=null?l:"","searchCriteria.itemVersion.versionType":"commit"},_=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"commits",query:c});return _==null?void 0:_.value}async getDiffs(e,t,r,i,s){var o,u,l;const c={diffCommonCommit:!1,baseVersion:i,baseVersionType:"commit",targetVersion:s,targetVersionType:"commit"};let _=0;const H=[];let C;do{if(c.$top=this.apiPageSize,c.$skip=_*this.apiPageSize,C=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"diffs/commits",query:c}),C==null)break;H.push(...(o=C.changes)!=null?o:[]),_++}while(!C.allChangesIncluded);return{ahead:(u=C==null?void 0:C.aheadCount)!=null?u:0,behind:(l=C==null?void 0:C.behindCount)!=null?l:0,changes:H}}async getItem(e,t,r,i,s,o){const u={path:o===void 0||o===""?"/":o,recursionLevel:"none","versionDescriptor.version":i,"versionDescriptor.versionType":s};return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"items",query:u})}async getItems(e,t,r,i,s,o,u){const l={scopePath:u===void 0||u===""?"/":u,recursionLevel:o,"versionDescriptor.version":i,"versionDescriptor.versionType":s},c=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"items",query:l});return c==null?void 0:c.value}async getPullRequest(e,t,r,i){return await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`pullrequests/${i}`})}async getRefs(e,t,r,i){var s,o,u;try{const l={filter:i.filter,filterContains:(s=i.filterContains)!=null?s:"",$top:(o=i.top)!=null?o:this.apiPageSize},c=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"refs",query:l});return(u=c==null?void 0:c.value)!=null?u:[]}catch(l){return ae.error(l),[]}}async getRepositories(e,t){try{const r=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t)});return r==null?void 0:r.value.filter(i=>i.defaultBranch&&!i.isDisabled).sort((i,s)=>i.name.localeCompare(s.name))}catch(r){ae.error(r);return}}async getRepository(e,t,r){try{const i=await this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r)});if(i===void 0)throw new Error(`Repository '${r}' does not exist in Azure DevOps organization/project '${e}/${t}'.`);return i}catch(i){throw ae.error(i),i}}async getTree(e,t,r,i,s){const o={recursive:s};return this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:`trees/${i}`,query:o})}async updateRefs(e,t,r,i){return this.sendRequest({baseUrl:this.getGitBaseUrl(e,t,r),url:"refs",method:"POST",body:JSON.stringify(i)})}async getSearchableBranches(e,t,r){try{return await this.sendRequest({baseUrl:`https://almsearch.dev.azure.com/${e}/${t}/_apis`,url:`search/status/repositories/${r}`,method:"GET"})}catch(i){ae.error(i);return}}async searchCode(e,t,r,i,s){try{const o={searchText:s,$skip:0,$top:1e3,filters:{Project:[t],Repository:[r],Branch:[i],Path:["/"]},$orderBy:[{field:"filename",sortOrder:"ASC"}],includeSnippet:!0};return await this.sendRequest({baseUrl:`https://almsearch.dev.azure.com/${e}/${t}/_apis`,url:"search/codesearchresults",method:"POST",body:JSON.stringify(o)})}catch(o){ae.error(o);return}}async getGitSecurityNamespace(e){try{const t="2e9eb7ed-3c0a-47d4-87c1-0ffdd275fd87",r=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:`securitynamespaces/${t}`,method:"GET"});return(r==null?void 0:r.count)===1?r.value[0]:void 0}catch(t){ae.error(t);return}}async getSecurityPermissionEvaluation(e,t,r){try{const i=t.actions.map(o=>({securityNamespaceId:t.namespaceId,token:r,permissions:o.bit})),s=await this.sendRequest({baseUrl:this.getOrganizationBaseUrl(e),url:"security/permissionevaluationbatch",method:"POST",body:JSON.stringify({alwaysallowadministrators:!1,evaluations:i})});return s==null?void 0:s.evaluations}catch(i){ae.error(i);return}}getGitBaseUrl(e,t,r){return`https://dev.azure.com/${e}/${t}/_apis/git/repositories${r?`/${r}`:""}`}getOrganizationBaseUrl(e){return`https://dev.azure.com/${e}/_apis`}getQueryParameters(e={}){return e={...e,"api-version":this.apiVersion},Object.entries(e).map(([t,r])=>`${t}=${r}`).join("&")}async sendRequest(e){e={...e,headers:{Accept:"application/json","Content-Type":"application/json"}};const t=await this._sendRequest(e);if(t===void 0)return;const r=await t.json();return r!=null?r:void 0}async sendRequestBuffer(e){e={...e,headers:{Accept:"application/octet-stream"}};const t=await this._sendRequest(e);if(t!==void 0)return t.arrayBuffer()}async _sendRequest(e){var t;const r=`${e.baseUrl}${e.url?`/${e.url}`:""}?${this.getQueryParameters(e.query)}`;try{const i=await this.authService.getBase64AuthenticationSessionToken();if(!i)throw Be.InvalidCredentialsError("Unauthenticated",()=>this.authService.reauthenticate(!0));const s={...e.headers,Authorization:`Basic ${i}`},o=await yi(r,{method:(t=e.method)!=null?t:"GET",body:e.body,headers:s});if(o.status===401)throw Be.InvalidCredentialsError("Unauthenticated",()=>this.authService.reauthenticate(!0));if(o.status===403)throw Be.CommitToProtectedBranchError(o.statusText);return o.status===404?void 0:o}catch(i){throw ae.error(i),Be.asVirtualProviderErrorCode(i)===te.InvalidCredentialsError&&La.showStatus401Message(i.action),i}}}a(vi,"AdoClient");var Si=Object.defineProperty,Na=Object.getOwnPropertyDescriptor,Fa=a((n,e,t,r)=>{for(var i=r>1?void 0:r?Na(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&Si(e,t,i),i},"authentication_decorateClass");const ci="microsoft",Vi=["499b84ac-1321-427f-aa17-267ca6975798/.default","offline_access"];class Ji{constructor(e){this.aadClient=e}async ensureAuthenticated(e=!1){const t=new Q("AzDO.ensureAuthenticated");if(this._session!==void 0)return this._session;try{const r=a(async u=>{try{if(e)return await d.authentication.getSession(ci,u,{forceNewSession:e});const l=await d.authentication.getSession(ci,u,{silent:!0});return l||await d.authentication.getSession(ci,u,{createIfNone:!0})}catch{try{const l=await d.authentication.getSession(ci,u,{createIfNone:!1});if(l!==void 0)return l}catch{}return new Promise(l=>{async function c(){const H=await d.authentication.getSession(ci,u,{createIfNone:!0});H!==void 0&&l(H)}a(c,"getSession");const _=d.authentication.onDidChangeSessions(async H=>{H.provider.id===ci&&(_.dispose(),await c())})})}},"waitUntilAuthenticated");this._session=await r(Vi);const i=await this.getTenantId(),s=i?[...Vi,`VSCODE_TENANT:${i}`]:Vi;i&&(this._session=await r(s));const o=d.authentication.onDidChangeSessions(async u=>{if(this._session===void 0){o.dispose();return}u.provider.id===ci&&(await d.authentication.getSession(ci,s,{silent:!0})||(this.clearAuthenticationSession(),o.dispose()))});return this._session}finally{t.stop()}}getBase64AuthenticationSessionToken(e){if(this._sessionTokenBase64===void 0){if(e===void 0)return this.ensureAuthenticated().then(t=>(this._sessionTokenBase64=Xn(`PAT:${t.accessToken}`),this._sessionTokenBase64));this._sessionTokenBase64=Xn(`PAT:${e.accessToken}`)}return this._sessionTokenBase64}async reauthenticate(e=!1){this.clearAuthenticationSession(),await this.ensureAuthenticated(e)}clearAuthenticationSession(){this._session=void 0,this._sessionTokenBase64=void 0}async getTenantId(){const e=await this.aadClient.getTenants();if(e.length<=1)return;const t=e[0],r=await d.window.showQuickPick(e.map(i=>({label:i.displayName,description:i.tenantId===t.tenantId?"Default":void 0,detail:`Tenant ID: ${i.tenantId}`,tenantId:i.tenantId})),{placeHolder:"Choose an Azure Active Directory Tenant",title:"Choose an Azure Active Directory Tenant"});return r&&r.tenantId!==t.tenantId?r.tenantId:void 0}}a(Ji,"AdoAuthenticationService"),Fa([It()],Ji.prototype,"ensureAuthenticated",1);var Qi=xn(7360),Ma=xn(919),Hi=xn.n(Ma),Xi,Ar;(function(n){n.None=0,n.First=1,n.AsOld=n.First,n.Last=2,n.AsNew=n.Last})(Ar||(Ar={}));class Zi{constructor(){this[Xi]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=Ar.None){const r=this._map.get(e);if(!!r)return t!==Ar.None&&this.touch(r,t),r.value}set(e,t,r=Ar.None){let i=this._map.get(e);if(i)i.value=t,r!==Ar.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case Ar.None:this.addItemLast(i);break;case Ar.First:this.addItemFirst(i);break;case Ar.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return Boolean(this.remove(e))}remove(e){const t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const r=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.key,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return r}values(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.value,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return r}entries(){const e=this._state;let t=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:[t.key,t.value],done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return r}[(Xi=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Ar.First&&t!==Ar.Last)){if(t===Ar.First){if(e===this._head)return;const r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Ar.Last){if(e===this._tail)return;const r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,r)=>{e.push([r,t])}),e}fromJSON(e){this.clear();for(const[t,r]of e)this.set(t,r)}}a(Zi,"LinkedMap");class ma extends Zi{constructor(e,t=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Ar.AsNew){return super.get(e,t)}peek(e){return super.get(e,Ar.None)}set(e,t){return super.set(e,t,Ar.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}a(ma,"LRUCache");function xa(n,e,t){if(!(e==null?void 0:e.length)&&!(t==null?void 0:t.length))return new Set(n);let r;if(e==null?void 0:e.length){const i=new Set([...e,...e.map(o=>`${o}/**`)]),s=Hi()(n,[...i],{dot:!0,nocase:!0});r=new Set(s)}if(t==null?void 0:t.length){const i=new Set([...t,...t.map(s=>`${s}/**`)]);if(r===void 0){const s=Hi().not(n,[...i],{dot:!0,nocase:!0});r=new Set(s)}else Hi()(n,[...i],{dot:!0,nocase:!0}).forEach(r.delete,r)}return r}a(xa,"globFilter");function Ua(n,e={}){if(!n)return wa;if(typeof n=="string"||ot(n)){const t=ra(n,e);if(t===oi)return wa;const r=a(function(i,s){return!!t(i,s)},"resultPattern");return t.allBasenames&&(r.allBasenames=t.allBasenames),t.allPaths&&(r.allPaths=t.allPaths),r}return Yt(n,e)}a(Ua,"parse");function ka(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}a(ka,"equals");function qi(n){return!!n&&typeof n.then=="function"}a(qi,"isThenable");function Ja(){return Object.create(null)}a(Ja,"getEmptyExpression");const Wi="**",si="/",zi="[/\\\\]",wi="[^/\\\\]",Ba=/\//g;function _a(n,e){switch(n){case 0:return"";case 1:return`${wi}*?`;default:return`(?:${zi}|${wi}+${zi}${e?`|${zi}${wi}+`:""})*?`}}a(_a,"starsToRegExp");function ea(n,e){if(!n)return[];const t=[];let r=!1,i=!1,s="";for(const o of n){switch(o){case e:if(!r&&!i){t.push(s),s="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":i=!0;break;case"]":i=!1;break}s+=o}return s&&t.push(s),t}a(ea,"splitGlobAware");function ya(n){if(!n)return"";let e="";const t=ea(n,si);if(t.every(r=>r===Wi))e=".*";else{let r=!1;t.forEach((i,s)=>{if(i===Wi){if(r)return;e+=_a(2,s===t.length-1)}else{let o=!1,u="",l=!1,c="";for(const _ of i){if(_!=="}"&&o){u+=_;continue}if(l&&(_!=="]"||!c)){let H;_==="-"?H=_:(_==="^"||_==="!")&&!c?H="^":_===si?H="":H=escapeRegExpCharacters(_),c+=H;continue}switch(_){case"{":o=!0;continue;case"[":l=!0;continue;case"}":{e+=`(?:${ea(u,",").map(ne=>ya(ne)).join("|")})`,o=!1,u="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=wi;continue;case"*":e+=_a(1);continue;default:e+=escapeRegExpCharacters(_)}}s<t.length-1&&(t[s+1]!==Wi||s+2<t.length)&&(e+=zi)}r=i===Wi})}return e}a(ya,"parseRegExp");const $a=/^\*\*\/\*\.[\w\.-]+$/,Ea=/^\*\*\/([\w\.-]+)\/?$/,Qa=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Sa=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,ta=/^\*\*((\/[\w\.-]+)+)\/?$/,na=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Ni=new ma(1e4),wa=a(function(){return!1},"FALSE"),oi=a(function(){return null},"NULL");function ra(n,e){if(!n)return oi;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const r=`${t}_${!!e.trimForExclusions}`;let i=Ni.get(r);if(i)return f(i,n);let s;return $a.test(t)?i=x(t.substr(4),t):(s=Ea.exec(S(t,e)))?i=oe(s[1],t):(e.trimForExclusions?Sa:Qa).test(t)?i=_e(t,e):(s=ta.exec(S(t,e)))?i=Fe(s[1].substr(1),t,!0):(s=na.exec(S(t,e)))?i=Fe(s[1],t,!1):i=We(t),Ni.set(r,i),f(i,n)}a(ra,"parsePattern");function E(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let r=0;for(;n.indexOf(e,r)===r;)r=r+t;return n.substring(r)}a(E,"ltrim");function f(n,e){if(typeof e=="string")return n;const t=a(function(r,i){return isDescendent(r,e.base)?n(E(r.substr(e.base.length),"/"),i):null},"wrappedPattern");return t.allBasenames=n.allBasenames,t.allPaths=n.allPaths,t.basenames=n.basenames,t.patterns=n.patterns,t}a(f,"wrapRelativePattern");function S(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}a(S,"trimForExclusions");function x(n,e){return function(t,r){return typeof t=="string"&&t.endsWith(n)?e:null}}a(x,"trivia1");function oe(n,e){const t=`/${n}`,r=`\\${n}`,i=a(function(o,u){return typeof o!="string"?null:u?u===n?e:null:o===n||o.endsWith(t)||o.endsWith(r)?e:null},"parsedPattern"),s=[n];return i.basenames=s,i.patterns=[e],i.allBasenames=s,i}a(oe,"trivia2");function _e(n,e){const t=hr(n.slice(1,-1).split(",").map(u=>ra(u,e)).filter(u=>u!==oi),n),r=t.length;if(!r)return oi;if(r===1)return t[0];const i=a(function(u,l){for(let c=0,_=t.length;c<_;c++)if(t[c](u,l))return n;return null},"parsedPattern"),s=t.find(u=>!!u.allBasenames);s&&(i.allBasenames=s.allBasenames);const o=t.reduce((u,l)=>l.allPaths?u.concat(l.allPaths):u,[]);return o.length&&(i.allPaths=o),i}a(_e,"trivia3");function Fe(n,e,t){const r="/"+n;let i;return t?i=a(function(s,o){return typeof s=="string"&&s.endsWith(r)?e:null},"parsedPattern"):i=a(function(s,o){return null},"parsedPattern"),i.allPaths=[(t?"*/":"./")+n],i}a(Fe,"trivia4and5");function We(n){try{const e=new RegExp(`^${ya(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch(e){return oi}}a(We,"toRegExp");function ct(n,e,t){return!n||typeof e!="string"?!1:Ua(n)(e,void 0,t)}a(ct,"match");function ot(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}a(ot,"isRelativePattern");function At(n){return n.allBasenames||[]}a(At,"getBasenameTerms");function Qt(n){return n.allPaths||[]}a(Qt,"getPathTerms");function Fn(n){let e=-1,t=0,r=-1,i=!0,s=0;for(let o=n.length-1;o>=0;--o){const u=n.charCodeAt(o);if(u===47){if(!i){t=o+1;break}continue}r===-1&&(i=!1,r=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===t+1?"":n.slice(e,r)}a(Fn,"extname");function Yt(n,e){const t=hr(Object.getOwnPropertyNames(n).map(u=>pn(u,n[u],e)).filter(u=>u!==oi)),r=t.length;if(!r)return oi;if(!t.some(u=>!!u.requiresSiblings)){if(r===1)return t[0];const u=a(function(_,H){let C;for(let ne=0,we=t.length;ne<we;ne++){const me=t[ne](_,H);if(typeof me=="string")return me;qi(me)&&(C||(C=[]),C.push(me))}return C?(async()=>{for(const ne of C){const we=await ne;if(typeof we=="string")return we}return null})():null},"resultExpression2"),l=t.find(_=>!!_.allBasenames);l&&(u.allBasenames=l.allBasenames);const c=t.reduce((_,H)=>H.allPaths?_.concat(H.allPaths):_,[]);return c.length&&(u.allPaths=c),u}const i=a(function(u,l,c){let _,H;for(let C=0,ne=t.length;C<ne;C++){const we=t[C];we.requiresSiblings&&c&&(l||(l=basename(u)),_||(_=l.substr(0,l.length-Fn(u).length)));const me=we(u,l,_,c);if(typeof me=="string")return me;qi(me)&&(H||(H=[]),H.push(me))}return H?(async()=>{for(const C of H){const ne=await C;if(typeof ne=="string")return ne}return null})():null},"resultExpression"),s=t.find(u=>!!u.allBasenames);s&&(i.allBasenames=s.allBasenames);const o=t.reduce((u,l)=>l.allPaths?u.concat(l.allPaths):u,[]);return o.length&&(i.allPaths=o),i}a(Yt,"parsedExpression");function pn(n,e,t){if(e===!1)return oi;const r=ra(n,t);if(r===oi)return oi;if(typeof e=="boolean")return r;if(e){const i=e.when;if(typeof i=="string"){const s=a((o,u,l,c)=>{if(!c||!r(o,u))return null;const _=i.replace("$(basename)",()=>l),H=c(_);return qi(H)?H.then(C=>C?n:null):H?n:null},"result");return s.requiresSiblings=!0,s}}return r}a(pn,"parseExpressionPattern");function hr(n,e){const t=n.filter(u=>!!u.basenames);if(t.length<2)return n;const r=t.reduce((u,l)=>{const c=l.basenames;return c?u.concat(c):u},[]);let i;if(e){i=[];for(let u=0,l=r.length;u<l;u++)i.push(e)}else i=t.reduce((u,l)=>{const c=l.patterns;return c?u.concat(c):u},[]);const s=a(function(u,l){if(typeof u!="string")return null;if(!l){let _;for(_=u.length;_>0;_--){const H=u.charCodeAt(_-1);if(H===47||H===92)break}l=u.substr(_)}const c=r.indexOf(l);return c!==-1?i[c]:null},"aggregate");s.basenames=r,s.patterns=i,s.allBasenames=r;const o=n.filter(u=>!u.basenames);return o.push(s),o}a(hr,"aggregateBasenameMatches");function Me(n,e){return ka(n,e,(t,r)=>typeof t=="string"&&typeof r=="string"?t===r:typeof t!="string"&&typeof r!="string"?t.base===r.base&&t.pattern===r.pattern:!1)}a(Me,"patternsEquals");const er=new TextDecoder,Mn=new TextEncoder;function vr(n){const e=er.decode(n).trim().split(`
`);if(e.length!==3)return{oid:void 0,size:void 0,version:void 0};const t={};for(const u of e){const[l,c]=u.split(" ");t[l]=c}if(!("oid"in t)||!("version"in t)||!("size"in t))return{oid:void 0,size:void 0,version:void 0};let{oid:r,size:i,version:s}=t;const o="sha256:";return r.startsWith(o)&&(r=r.substring(o.length)),{oid:r,size:Number(i),version:s}}a(vr,"parseLfsFile");function or(n,e){const t=n.getAttributesFor(e);return(t==null?void 0:t.filter)==="lfs"}a(or,"isLfsTrackedFile");function Ci(n,e,t="https://git-lfs.github.com/spec/v1"){return Xn(Mn.encode(`version ${t}
oid sha256:${n}
size ${e.toString()}
`))}a(Ci,"createLfsPointerFile");async function Ca(n){const e=await Ot(n),t=n.byteLength;return{oid:e,size:t}}a(Ca,"getLfsOperation");const Ki="";function ji(...n){if(n.length===1){const e=n[0];return e===void 0?Ki:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof d.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(n)}a(ji,"serialize_defaultResolver");function ia(n){return(e,t,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const s=`$serialize$${t}`;r.value=function(...o){const u=o.length===0?s:`${s}$${(n!=null?n:ji)(...o)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let l=this[u];const c=a(()=>i.apply(this,o),"run");return l===void 0?l=c():l=l.then(c,c),this[u]=l,l}}}a(ia,"serialize");function Da(n){const e=n.path.startsWith("/")?n.path.slice(1):n.path,[t,r,i]=e.split("/");return{organization:t,project:r,name:i}}a(Da,"getRepositoryDescriptor");var Ta=Object.defineProperty,aa=Object.getOwnPropertyDescriptor,Fi=a((n,e,t,r)=>{for(var i=r>1?void 0:r?aa(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(i=(r?o(e,t,i):o(i))||i);return r&&i&&Ta(e,t,i),i},"fs_decorateClass");const Ha=d.FileSystemError.FileNotFound().code,sa=/(\/|\\)/g,oa=/(\*|\.)/g;class Ii{constructor(e,t,r,i){this.providerService=e,this.changeStore=t,this.azdo=r,this.adoClient=i,this._onDidChangeFile=new d.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=d.Disposable.from(d.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),d.workspace.registerFileSearchProvider(this.scheme,this),d.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.azdo.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(t=>T.getProviderId(t)===this.scheme).map(t=>T.getProviderUri(t)),e.length!==0){ae.log(`AzDOFS.onRefreshOrRepositoryChanged(${e.map(t=>t.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[t,r]of[...this.pendingUriRequests])e.some(i=>I(r.uri,i))&&(this.pendingUriRequests.delete(t),r.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const t=T.getOpenUris(this.scheme,e);for(const[i,s]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(o=>I(s,o))&&(this.implicitlyWatchedUris.delete(i),t.set(i,s));ae.debug(`AzDOFS.updateOpenOrWatchedUris(${e.map(i=>i.toString()).join(", ")}): uris=${t.size}`);for(const i of e)t.set(P(i),i);const r=[...t.values()].map(i=>({type:d.FileChangeType.Changed,uri:i}));setTimeout(()=>{ae.debug(`AzDOFS.updateOpenOrWatchedUris: Firing events=${r.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(r)},0)}watch(e,t){const r=P(e);return this.watchedUris.set(r,e),{dispose:()=>{this.watchedUris.delete(r)}}}async stat(e){var t;const r=P(e);this.implicitlyWatchedUris.set(r,e);const i=this.azdo.getProviderRootUri(e),{organization:s,project:o,name:u}=Da(e),l=this.providerService.getRelativeFilePath(i,e),c={uri:e,outdated:!1};if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||s&&o&&u)try{this.pendingUriRequests.set(`stat:${r}`,c);const _=await this.azdo.getFileTree(e),H=await _.get(l);if(H==null?void 0:H.stat){if(H.stat.type===d.FileType.File&&Ie.get("lfs.read.enabled")&&!e.path.endsWith(".gitattributes")&&or(await this.azdo.getGitAttributes(i),l)){const C=await this.azdo.getFileContent(e),ne=vr(C).size;H.stat.size=ne!=null?ne:H.stat.size}return H.stat}if(this.implicitlyWatchedUris.delete(r),e.query==="~")return{type:d.FileType.File,size:0,ctime:0,mtime:(t=_.timestamp)!=null?t:Date.now(),permissions:d.FilePermission.Readonly};throw d.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${r}`),(c==null?void 0:c.outdated)&&setTimeout(()=>{ae.log(`AzDOFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:d.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}return{type:d.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:d.FilePermission.Readonly}}async readDirectory(e,t){var r,i,s;this.implicitlyWatchedUris.set(P(e),e);const{organization:o,project:u,name:l}=Da(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o&&u&&l){const c=await this.azdo.getFileTree(e),_=this.providerService.getVirtualRootUri(e),H=this.providerService.getRelativeFilePath(_,e),C=(await c.getChildren(H,t)).map(([ne,{stat:{type:we}}])=>[ne,we]);return H===""&&Q.stop("Time to root directory"),C}else if(o){if(o&&!u)return((i=await this.adoClient.getProjects(o))!=null?i:[]).map(c=>[c.name,d.FileType.Directory]);if(o&&u&&!l)return((s=await this.adoClient.getRepositories(o,u))!=null?s:[]).map(c=>[c.name,d.FileType.Directory])}else return((r=await this.adoClient.getAccounts())!=null?r:[]).map(c=>[c,d.FileType.Directory]);throw d.FileSystemError.FileNotFound(e)}createDirectory(e){throw d.FileSystemError.NoPermissions()}async readFile(e){const t=P(e);this.implicitlyWatchedUris.set(t,e);const r={uri:e,outdated:!1};try{this.pendingUriRequests.set(t,r);const i=await this.azdo.getFileContent(e);if(!Ie.get("lfs.read.enabled")||e.path.endsWith(".gitattributes"))return i;const s=this.azdo.getProviderRootUri(e),o=await this.azdo.getGitAttributes(s);return or(o,e.path)?this.azdo.getLfsContent(s,i):i}catch(i){if(this.implicitlyWatchedUris.delete(t),i instanceof d.FileSystemError&&i.code===Ha&&e.query==="~")return new Uint8Array(0);throw i}finally{this.pendingUriRequests.delete(t),(r==null?void 0:r.outdated)&&setTimeout(()=>{ae.log(`AzDOFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:d.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,t,r){throw d.FileSystemError.NoPermissions()}delete(e,t){throw d.FileSystemError.NoPermissions()}rename(e,t,r){throw d.FileSystemError.NoPermissions()}copy(e,t,r){throw d.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:t,maxResults:r,includes:i,excludes:s},o){const u=`${P(t)}|${JSON.stringify({includes:i,excludes:s})}`;let l=this.fileSearchCache.get(u);if(l===void 0){const _=await this.providerService.getMetadata(t),H=await this.azdo.getRepoItems(_,"",!0);let C=[];for(const ne of H)ne.isFolder||C.push(ne.path);if(C.length===0||o.isCancellationRequested)return[];((i==null?void 0:i.length)||(s==null?void 0:s.length))&&(C=[...xa(C,i,s)]),l=C.map(ne=>Qi.prepareSlow(ne)),this.fileSearchCache.set(u,l)}let c;return e.pattern===""?c=l.map(_=>d.Uri.joinPath(t,_.target)):(c=Qi.go(e.pattern.replace(sa,"/").replace(oa,""),l,{allowTypo:!0,limit:r}).map(_=>d.Uri.joinPath(t,_.target)),Qi.cleanup()),r!==void 0&&r!==0&&r<c.length&&(c=c.slice(0,r)),c}async provideTextSearchResults(e,t,r,i){const s=[],o=await this.providerService.getMetadata(t.folder);if(o.HEAD.type!==K.Branch)return s.push({text:d.l10n.t("Code search is only supported on branches. [Learn More]({0})","https://docs.microsoft.com/en-us/azure/devops/project/search/functional-code-search?view=azure-devops#search-git-projects-and-repositories"),type:d.TextSearchCompleteMessageType.Warning,trusted:!0}),{limitHit:!1,message:s};if(!(await this.azdo.getSearchableBranches(o)).includes(o.HEAD.name))return s.push({text:d.l10n.t("The current branch has not been configured for code search. [Learn More]({0})","https://docs.microsoft.com/en-us/azure/devops/project/search/functional-code-search?view=azure-devops#search-git-projects-and-repositories"),type:d.TextSearchCompleteMessageType.Warning,trusted:!0}),{limitHit:!1,message:s};(e.isCaseSensitive||e.isRegExp||e.isWordMatch)&&s.push({text:d.l10n.t("Search flags are not supported."),type:d.TextSearchCompleteMessageType.Warning});const l=await this.azdo.searchCodeQuery(e.pattern,t.folder,{maxResults:t.maxResults,context:{before:t.beforeContext,after:t.afterContext}});if(l.warnings&&l.warnings.forEach(_=>{s.push({text:_,type:d.TextSearchCompleteMessageType.Warning})}),l===void 0)return{limitHit:!0,message:s};let c;for(const _ of l.matches)c=d.Uri.joinPath(t.folder,_.path),r.report({uri:c,ranges:_.ranges,preview:{text:_.preview,matches:_.matches}});return{limitHit:!1,message:s}}}a(Ii,"AzDOFS"),Fi([ia()],Ii.prototype,"stat",1),Fi([ia()],Ii.prototype,"readDirectory",1),Fi([ia()],Ii.prototype,"readFile",1);var ua=xn(6470),la;(function(n){n[n.Force=0]="Force",n[n.ForceWithLease=1]="ForceWithLease"})(la||(la={}));var Mi;(function(n){n[n.Head=0]="Head",n[n.RemoteHead=1]="RemoteHead",n[n.Tag=2]="Tag"})(Mi||(Mi={}));var ba;(function(n){n[n.INDEX_MODIFIED=0]="INDEX_MODIFIED",n[n.INDEX_ADDED=1]="INDEX_ADDED",n[n.INDEX_DELETED=2]="INDEX_DELETED",n[n.INDEX_RENAMED=3]="INDEX_RENAMED",n[n.INDEX_COPIED=4]="INDEX_COPIED",n[n.MODIFIED=5]="MODIFIED",n[n.DELETED=6]="DELETED",n[n.UNTRACKED=7]="UNTRACKED",n[n.IGNORED=8]="IGNORED",n[n.INTENT_TO_ADD=9]="INTENT_TO_ADD",n[n.ADDED_BY_US=10]="ADDED_BY_US",n[n.ADDED_BY_THEM=11]="ADDED_BY_THEM",n[n.DELETED_BY_US=12]="DELETED_BY_US",n[n.DELETED_BY_THEM=13]="DELETED_BY_THEM",n[n.BOTH_ADDED=14]="BOTH_ADDED",n[n.BOTH_DELETED=15]="BOTH_DELETED",n[n.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(ba||(ba={}));var Aa;(function(n){n.BadConfigFile="BadConfigFile",n.AuthenticationFailed="AuthenticationFailed",n.NoUserNameConfigured="NoUserNameConfigured",n.NoUserEmailConfigured="NoUserEmailConfigured",n.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",n.NotAGitRepository="NotAGitRepository",n.NotAtRepositoryRoot="NotAtRepositoryRoot",n.Conflict="Conflict",n.StashConflict="StashConflict",n.UnmergedChanges="UnmergedChanges",n.PushRejected="PushRejected",n.RemoteConnectionError="RemoteConnectionError",n.DirtyWorkTree="DirtyWorkTree",n.CantOpenResource="CantOpenResource",n.GitNotFound="GitNotFound",n.CantCreatePipe="CantCreatePipe",n.PermissionDenied="PermissionDenied",n.CantAccessRemote="CantAccessRemote",n.RepositoryNotFound="RepositoryNotFound",n.RepositoryIsLocked="RepositoryIsLocked",n.BranchNotFullyMerged="BranchNotFullyMerged",n.NoRemoteReference="NoRemoteReference",n.InvalidBranchName="InvalidBranchName",n.BranchAlreadyExists="BranchAlreadyExists",n.NoLocalChanges="NoLocalChanges",n.NoStashFound="NoStashFound",n.LocalChangesOverwritten="LocalChangesOverwritten",n.NoUpstreamBranch="NoUpstreamBranch",n.IsInSubmodule="IsInSubmodule",n.WrongCase="WrongCase",n.CantLockRef="CantLockRef",n.CantRebaseMultipleBranches="CantRebaseMultipleBranches",n.PatchDoesNotApply="PatchDoesNotApply",n.NoPathFound="NoPathFound",n.UnknownPath="UnknownPath"})(Aa||(Aa={}));class ca{constructor(e){this.rules=[],this.parse(e)}getAttributesFor(e){var t;const r=this.rulesForPath(typeof e=="string"?e:e.path),i={};for(const s of r){const o=(t=s.attrs)!=null?t:{};for(const u of Object.keys(o))i[u]=o[u]}return i}rulesForPath(e){const t=[];for(;/^(\.\/|\.\\)/.test(e);)e=e.substr(2);/^[\/\\]/.test(e)||(e=`/${e}`);for(const r of this.rules){if(!r.pattern)continue;const i=r.pattern[0]==="/"?`${r.pattern}`:`**/${r.pattern}`;Hi().isMatch(e,i)&&t.push(r)}return t}parse(e,t=!1,r=!1){const i=e.split(/\r\n|\r|\n/g);for(const s of i){const o=this.parseRule(s,t,r);o&&this.rules.push(o)}}parseRule(e,t=!1,r=!1){if(e=e.trim(),!e)return r?{comment:void 0,pattern:void 0,attrs:void 0}:void 0;if(e[0]==="#")return t?{comment:e.substr(1),pattern:void 0,attrs:void 0}:void 0;e[0]==="\\"&&e[1]==="#"&&(e=e.substr(1));let i,s;if(e[0]==='"'){const o=/^"(?:[^"\\]|\\.)*"/.exec(e);if(o){try{i=JSON.parse(o[0])}catch(u){i=i.replace(/\\(.)/g,"\\1")}s=e.substr(o[0].length+1).trim()}else i=o==null?void 0:o[0],s=void 0}else{const o=/\s+/g.exec(e);i=o?e.substr(0,o.index):e,s=o?e.substr(o.index+o[0].length):void 0}return{pattern:i,attrs:s?this.parseAttributes(s):{},comment:void 0}}parseAttributes(e){const t={};for(const r of e.split(/\s+/g)){if(r==="=")continue;let i=r,s;if(r.startsWith("-"))i=r.substr(1),s=!1;else if(r.includes("=")){const o=r.indexOf("=");i=r.substr(0,o),s=r.substr(o+1)}else s=!0;t[i]=s,i==="binary"&&s?t.diff=!1:i==="crlf"&&s===!0?t.text=!0:i==="crlf"&&s===!1?t.text=!1:i==="crlf"&&s==="input"&&(t.eol="lf")}return t}}a(ca,"GitAttributes");function*Wa(n,e){for(const t of n)yield*e(t)}a(Wa,"flatMap");function*Te(n,e){for(const t of n)e(t)&&(yield t)}a(Te,"filter");function*ft(n,e){for(const t of n){const r=e(t);r!=null&&(yield r)}}a(ft,"filterMap");function mt(n,e){for(const t of n)if(e(t))return t}a(mt,"find");function Kt(n,e){let t="";const r=n[Symbol.iterator]();let i=r.next();if(i.done)return t;for(;;){const s=i.value.toString();if(i=r.next(),i.done){t+=s;break}t+=s,t+=e}return t}a(Kt,"join");function*vn(n,e){for(const t of n)yield e(t)}a(vn,"map");function Dn(n,e){for(const t of n)if(e(t))return!0;return!1}a(Dn,"some");function*Tn(...n){for(const e of n)for(const t of e)yield t}a(Tn,"union");function*Rr(n){const e=new Set;for(const t of n)e.has(t)||(e.add(t),yield t)}a(Rr,"unique");class kr{constructor(e,t){this.path=e,this.relativePath=t}}a(kr,"TrieNode");class Sr{constructor(){this.root=new kr("","")}get(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const i of e.split("/")){const s=(t=r.children)==null?void 0:t.get(i);if(s===void 0)return;r=s}return r.path===e?r.data:void 0}getChildren(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;if(e)for(const i of e.split("/")){const s=(t=r.children)==null?void 0:t.get(i);if(s===void 0)return[];r=s}return r.children===void 0?[]:[...r.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;const i=[];if(e)for(const s of e.split("/")){const o=(t=r.children)==null?void 0:t.get(s);if(o===void 0)return i;r=o}if(r.children!==void 0){let s=a(function(o,u,l){for(const c of o.values()){const _=`${u?`${u}/`:""}${c.relativePath}`;c.data&&l.push([_,c.data]),c.children!==void 0&&s(c.children,_,l)}},"getDescendantsCore");s(r.children,"",i)}return i}has(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let r=this.root;for(const i of e.split("/")){const s=(t=r.children)==null?void 0:t.get(i);if(s===void 0)return!1;r=s}return r.path===e}set(e,t){var r;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let i=this.root,s="";for(const o of e.split("/")){let u=(r=i.children)==null?void 0:r.get(o);s=`${s?`${s}/`:""}${o}`,u===void 0&&(i.children===void 0&&(i.children=new Map),u=new kr(s,o),i.children.set(o,u)),i=u}i.data=t}}a(Sr,"Trie");var Ir=xn(5431),Br=xn.n(Ir);class pr{constructor(e,t,r,i,s){if(this.rootUri=e,this.sha=t,this.timestamp=r,this.provider=i,this.trie=new Sr,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const o=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&o.push(i.onDidTriggerContentCaching(u=>{(!u||P(u.rootUri)===P(this.rootUri)&&u.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(l=>this._isContentCached=l,()=>this._isContentCached=!0)})),this._loading=this.load(s==null?void 0:s.path,s==null?void 0:s.recursive).then(u=>(this._hasEntireTree=(u==null?void 0:u.success)?u.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var l;return void((l=i.tryCachingContent)==null?void 0:l.call(i,this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(u==null?void 0:u.success)?u.sha:void 0,this.treeSha)),(s==null?void 0:s.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=d.Disposable.from(...o)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var t;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:d.FileType.Directory,size:0,ctime:0,mtime:(t=this.timestamp)!=null?t:Date.now(),permissions:await this.permissions},getContent:void 0};let r=this.trie.get(e);return r!==void 0||(await this.ensureLoaded(e),r=this.trie.get(e)),r}async getChildren(e,t){await this.ensureLoaded(e,!0);const r=(t==null?void 0:t.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(t==null?void 0:t.filter)===void 0?r:r.filter(([,i])=>i.stat.type===t.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,t=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(t)i=this.preloading.get(e);else{const s=mt(this.preloading,([o])=>e.startsWith(o)&&e.lastIndexOf("/")===(o?o.length:-1));i=s==null?void 0:s[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||e==="")return;let r=this.trie.get(e);if(r)return t&&(r==null?void 0:r.loadChildren)?r.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),r=this.trie.get(e),t&&(r==null?void 0:r.loadChildren))return r.loadChildren()}async load(e,t=!1){var r;if(((r=this.provider)==null?void 0:r.getTree)===void 0)return;const i=new Q(`FileTree.load(${this.sha}:${e})`);let s;try{i.logStep("Tree query");const o=await this.provider.getTree(e,t);if(o.truncated){ae.warn(`Loading file tree for path=${e} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${o.sha};`,suffix:" \u2022 Fixing directories..."});for(const[l,c]of this.trie.getDescendants(""))c.stat.type===d.FileType.Directory&&(c.loadChildren=Br()(()=>this.load(l).then(()=>c.loadChildren=void 0)));return s=` \u2022 Tree=${o.sha} \u2022 Truncated`,{sha:o.sha,recursive:!1,success:!0}}let u;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${o.sha};`,suffix:" \u2022 Waiting for permissions..."}),u=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:l,item:c}of o.tree)if(l!==void 0){switch(l=e?`${e}/${l}`:l,c.stat.permissions=u,c.stat.type){case d.FileType.File:c.getContent=Br()(()=>this.provider.getContent(c,l));break;case d.FileType.Directory:t||(c.loadChildren=Br()(()=>this.load(l).then(()=>c.loadChildren=void 0)));break}this.trie.set(l,c)}return s=` \u2022 Tree=${o.sha}`,{sha:o.sha,recursive:t,success:!0}}catch(o){return s=`\u2022 Loading for path=${e} failed; ${String(o)}`,{error:o,success:!1}}finally{i.stop(s?{suffix:s}:void 0)}}}a(pr,"FileTree");const xi=/^https?:\/\/dev\.azure\.com(?:\/defaultcollection)?\/(?<organization>[^/]+)(?:\/(?<project>[^_/][^/]*))?(?:\/_git)?\/(?<repo>[^/?#]+)(?:\/commit\/(?<commit>[0-9a-f]{40})|\/pullrequest\/(?<pull>\d+))?/i,Xa=1,za=Object.freeze({id:"azurerepos",name:"Azure Repos"});function qa(n){return(n.query.includes("&")?n.query:decodeURIComponent(n.query)).split("&").reduce((t,r)=>{const i=r.split("=");return t[i[0]]=i[1],t},{})}a(qa,"parseQuery");function Di(n){const{scheme:e,metadata:t}=T.decodeAuthority(n),[,r,i,s,...o]=n.path.split("/");return{scheme:e,provider:za,name:`${r}/${i}/${s}`,repo:{organization:r,project:i,name:s},path:o.join("/")||"",ref:t==null?void 0:t.ref,idx:t==null?void 0:t.idx}}a(Di,"getAzDOMetadata");function es(n,e){const{repo:t}=e!=null?e:Di(n);return n.with({path:`/${t.organization}/${t.project}/${t.name}`,query:"",fragment:""})}a(es,"getAzDORootUri");function Ka(n,e,t){const{repo:{organization:r,name:i}}=n instanceof d.Uri?Di(n):n;return d.Uri.parse(`azurerepos://${T.encodeAuthority("azurerepos",{v:Xa,ref:{type:ue.Commit,id:e}})}/${r}/${i}/${t}`)}a(Ka,"getAzDORevisionUri");function ja(n){var e,t,r,i,s,o;const u=xi.exec(n);if((u==null?void 0:u.groups)===void 0)return;const{organization:l,project:c,repo:_,commit:H,pull:C}=u.groups,ne=qa(d.Uri.parse(n)),we=/^GB(?<branchName>.+)/i.exec((e=ne.version)!=null?e:""),me=/^GT(?<tagName>.+)/i.exec((t=ne.version)!=null?t:""),ze=/^GC(?<commit>[0-9a-f]{40})/i.exec((r=ne.version)!=null?r:""),gt=ne.path&&ne.path!=="/"?ne.path:void 0;return{organization:l,project:c,repo:_,branch:(i=we==null?void 0:we.groups)==null?void 0:i.branchName,tag:(s=me==null?void 0:me.groups)==null?void 0:s.tagName,commit:H!=null?H:(o=ze==null?void 0:ze.groups)==null?void 0:o.commit,pull:C,path:gt}}a(ja,"parseAzureReposUrl");const ts=new TextDecoder;class Za{constructor(e,t,r,i){this.providerService=e,this.authService=t,this.metadataStore=r,this.adoClient=i,this.fileTreeCache=new Map,this.gitAttributes=new Map,this.disposable=d.Disposable.from(e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s))),rn&&(this.lfsProxyEndpoint=this.getLfsProxyEndpoint())}get scheme(){return"azurerepos"}get repositories(){return[...this.providerService.getRepositories(za.id)]}dispose(){this.disposable.dispose()}canOpenRemoteUrl(e){const t=ja(e);if(t===void 0)return;const{branch:r,tag:i,commit:s,path:o,pull:u}=t;return u?z.PullRequest:o?z.File:r?z.Branch:i?z.Tag:s?z.Commit:z.Repository}async compareCommits(e,t){const r=await this.getMetadata(e),i=await this.getAheadBehindState(e,r,{base:t.base,head:t.compare});return i==null?void 0:i.incomingChanges}async createAndPushCommit(e,t,r,i,s,o){var u,l,c;const _=new Q(`AzureRepos.createAndPushCommit(${e.toString()}${o?`, fork=${o.repo.organization}/${o.repo.project}/${o.repo.name}`:""})`);if(r=r.filter(C=>C.fileType===d.FileType.File),r.length===0)throw _.stop({message:"Aborted; No changes to commit"}),Be.NothingToCommitError("No changes to commit");let H;try{const C=await this.getMetadata(e);let ne;if(i!==void 0)ne=i;else{if(C.HEAD.detached&&!C.HEAD.branch)throw Be.DetachedHEADError("Unable to commit; no current branch");ne=C.HEAD.branch.name}const we=[],me=[],ze=await this.getGitAttributes(e);for(const Xt of r){const un=rs(Xt);if(un===void 0)throw new Error("Unknown commit operation type.");switch(Xt.type){case N.Created:case N.Changed:{try{const ln=await Xt.content;if(Ie.get("lfs.write.enabled")&&or(ze,Xt.path)){const Cn=await Ca(ln);me.push({...Cn,path:Xt.path,binaryContent:ln})}else we.push({changeType:un,item:{path:Xt.path},newContent:{content:Xn(ln),contentType:"base64Encoded"}})}catch(ln){throw ae.error(ln),Be.CommitFailedError()}break}case N.Deleted:we.push({changeType:un,item:{path:Xt.path}});break}}const gt=await this.uploadLfsFiles(e,me);we.push(...gt);const St=await this.adoClient.createPushes(C.repo.organization,C.repo.project,C.repo.name,{commits:[{changes:we,comment:t}],refUpdates:[{name:`refs/heads/${ne}`,oldObjectId:(l=(u=C.HEAD.branch)==null?void 0:u.sha)!=null?l:""}]});if(H=((c=St==null?void 0:St.refUpdates)==null?void 0:c.length)===1?St.refUpdates[0].newObjectId:void 0,H===void 0)throw Be.CommitFailedError();return i===void 0&&!C.HEAD.detached&&H!==void 0&&await this.fastForwardTo(e,H,C),H}catch(C){const{statusCode:ne}=C;throw ne===409?Be.MergeConflictError(C):(ae.error(C),C)}finally{_.stop(H?{message:`: Created and pushed commit ${H}`}:void 0)}}getBatchApiUrl(e){return`${this.getRemoteUri({repo:this.getVirtualUriMetadata(e).repo}).toString()}.git/info/lfs/objects/batch`}async uploadLfsFiles(e,t){var r,i,s,o;const u=this.getBatchApiUrl(e),l=(await this.getAuthentication(e)).session.accessToken,c=[],_=await yi(u,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${l}`},body:JSON.stringify({transfers:["basic"],operation:"upload",objects:t.map(H=>({oid:H.oid,size:H.size}))})});if(_.ok){const H=await _.json();if(H.objects.length!==t.length)throw Be.CommitFailedError();for(let C=0;C<t.length;C++){const ne=H.objects[C],we=t[C];if((i=(r=ne.actions)==null?void 0:r.upload)==null?void 0:i.href){const{href:me,header:ze}=ne.actions.upload;if((await yi(me,{method:"PUT",body:we.binaryContent,headers:{Authorization:`Bearer ${l}`,...ze}})).ok&&((o=(s=ne.actions)==null?void 0:s.verify)==null?void 0:o.href)&&!(await yi(ne.actions.verify.href,{method:"POST",headers:{Authorization:`Bearer ${l}`,...ne.actions.verify.header}})).ok)throw Be.CommitFailedError()}c.push({changeType:"add",item:{path:we.path},newContent:{content:Ci(we.oid,we.size),contentType:"base64Encoded"}})}}return c}async createBranch(e,t,r,i){try{const{repo:s}=await this.getMetadata(e);t.startsWith("refs/heads/")||(t=`refs/heads/${t}`);const o=await this.adoClient.updateRefs(s.organization,s.project,s.name,[{name:t,newObjectId:r,oldObjectId:"0000000000000000000000000000000000000000",repositoryId:s.name}]);if(!o||o.value.length!==1)throw new Error("Branch creation has failed. Unknown error.");const u=o.value[0];if(!u.success)throw u.updateStatus==="staleOldObjectId"?Be.InvalidBranchNameError(t.substring(11),!0):Be.InvalidBranchNameError(t.substring(11),!1);return u.name.substring(11)}catch(s){throw ae.error(s),s}}async createMetadata(e,t){var r,i,s,o;const u=new Q(`AzDO.createMetadata(${e.toString()}, ${t})`);let l;try{let{provider:c,name:_,repo:{organization:H,project:C,name:ne},ref:we}=Di(e);if(!we||we.type===ue.Commit&&/HEAD/i.test(we.id))we={type:ue.Commit,id:"HEAD"};else if((we.type===ue.Branch||we.type===ue.Tag)&&(we=await this.validateBranchOrTagCasing(H,C,ne,we.id,we.type),we===void 0))throw new Error(`Cannot get metadata for Uri(${e.toString(!0)}); Unable to find the specified branch or tag`);const me=await this.getRepositoryInfo(H,C,ne,we);if(me===void 0)throw l=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let ze;if(t)ze=t;else if(we.type===ue.Commit&&we.id!=="HEAD")ze=we.id;else if(ze=(i=(r=me.ref)==null?void 0:r.sha)!=null?i:me.defaultBranch.sha,ze===void 0)throw l=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let gt;((s=me.ref)==null?void 0:s.prefix)==="refs/heads/"?gt={type:K.Branch,name:me.ref.name,sha:ze,branch:{name:me.ref.name,sha:me.ref.sha}}:((o=me.ref)==null?void 0:o.prefix)==="refs/tags/"?gt={type:K.Tag,name:me.ref.name,sha:ze,detached:{type:K.Tag,name:me.ref.name}}:gt={type:K.Commit,name:B(ze),sha:ze,detached:{type:K.Commit,name:B(ze)}};const St={version:Ke,timestamp:Date.now(),provider:c,name:_,repo:me.repo,accessLevel:me.accessLevel,HEAD:gt,defaultBranch:me.defaultBranch,pullRequest:me.pullRequest,cloneUrl:me.cloneUrl};return l=` \u2022 HEAD=${gt.sha}`,St}finally{u.stop(l?{suffix:l}:void 0)}}async createPullRequest(e,t,r,i,s,o){var u,l;const c=new Q(`GitHub.createPullRequest(${e.toString()}, ${t}${o?`, fork=${o.repo.organization}/${o.repo.project}/${o.repo.name}`:""})`);try{const{repo:{organization:_,project:H,name:C},HEAD:{branch:ne},defaultBranch:we}=await this.getMetadata(e),me=await this.adoClient.createPullRequest(_,H,C,{title:r,description:i,sourceRefName:t.startsWith("refs/heads/")?t:`refs/heads/${t}`,targetRefName:`refs/heads/${(u=ne==null?void 0:ne.name)!=null?u:we.name}`,isDraft:(l=s==null?void 0:s.draft)!=null?l:!1});if(me===void 0)throw new Error("Pull request creation failed. Unknown error.");const ze=me.pullRequestId.toString();return{id:ze,uri:d.Uri.parse(`${me.repository.webUrl}/pullrequest/${ze}`)}}catch(_){throw ae.error(_),_}finally{c.stop()}}createVirtualUri(e,{repo:t,ref:r,idx:i},s){if((r==null?void 0:r.type)===ue.Tree)throw new Error(`Invalid ref type '${r.type}'`);const o=r!==void 0||i!==void 0?{v:Xa}:void 0;return o&&(r&&(o.ref={type:r.type,id:r.id}),i&&(o.idx=i)),e.with({authority:T.encodeAuthority("azurerepos",o),path:`/${t.organization}/${t.project}/${t.name}${(s==null?void 0:s.startsWith("/"))?s:`/${s!=null?s:""}`}`})}getHttpsCloneUri(e){const t=e.toString(),r=ja(t);if(r)return this.getRemoteUri({repo:{organization:r.organization,project:r.project,name:r.repo}})}async createWorkspaceForRemoteUrl(e,t=Ne.CurrentWindow){const r=ja(e);if(r===void 0)return;const{organization:i,project:s,repo:o,branch:u,tag:l,commit:c,path:_,pull:H}=r;let C;u?C={type:ue.Branch,id:u}:l?C={type:ue.Tag,id:l}:c?C={type:ue.Commit,id:c}:H&&(C={type:ue.PullRequest,id:H});const ne=this.createVirtualUri(T.baseVirtualWorkspaceUri,{repo:{organization:i,project:s!=null?s:o,name:o},ref:C}),{name:we}=Di(T.getVirtualUri(this.getProviderRootUri(ne)));return{name:we,uri:ne,location:t,filesToOpen:_?[_]:void 0}}async fetch(e,t){const{fetched:r,metadata:i}=await this.fetchCore(e,!1,t);r&&await this.metadataStore.set(T.getVirtualUri(e),i.HEAD.sha,i)}async getAuthentication(e){const t=await this.authService.ensureAuthenticated();return{provider:za,session:t,getRichNavigationHeaders:()=>({"X-Git-AzureDevOps":`Basic ${this.authService.getBase64AuthenticationSessionToken(t)}`})}}async getBranch(e,t){const{branches:r}=await this.getBranches(e,{query:t,limit:1});return r[0]}async getBranches(e,t){const{repo:{organization:r,project:i,name:s}}=Di(e);return{branches:(await this.adoClient.getRefs(r,i,s,{filter:"heads/",filterContains:t.query,top:t.limit})).map(u=>({type:Mi.Head,name:u.name.substring(11),commit:u.objectId,commitUrl:u.url,locked:u.isLocked}))}}async getCommit(e,t){var r,i;try{const{repo:{organization:s,project:o,name:u}}=await this.getMetadata(e),l=await this.adoClient.getCommit(s,o,u,t);return l===void 0?void 0:{hash:l.commitId,message:(r=l.comment)!=null?r:"",parents:(i=l.parents)!=null?i:[],authorDate:new Date(l.author.date),authorEmail:l.author.email,authorName:l.author.name,commitDate:new Date(l.committer.date)}}catch(s){return}}async getCommits(e,t){var r;try{const{repo:{organization:i,project:s,name:o}}=await this.getMetadata(e),u=(r=t==null?void 0:t.limit)!=null?r:100,l=await this.adoClient.getCommits(i,s,o,{...t,limit:u+1});if(l===void 0)return;const c=l.map((H,C)=>({hash:H.commitId,message:H.comment,parents:l[C+1]?[l[C+1].commitId]:[],authorDate:new Date(H.author.date),authorEmail:H.author.email,authorName:H.author.name,commitDate:new Date(H.committer.date)}));let _;return c.length>u&&(c.splice(c.length-1,1),_={cursor:c[c.length-1].hash,more:!0}),{commits:c,paging:_}}catch(i){return}}async getFileContent(e,t,r){try{let i;const s=this.getProviderRootUri(e);if(t&&r&&!this.hasFileTree(e,t)){r.startsWith("/")&&(r=r.slice(1));let o=(0,ua.dirname)(r);(o==="."||o==="/")&&(o=""),i=await(await this.getFileTree(s,t,{path:o,cache:!1,recursive:!1})).get(r)}else{const[o,{path:u}]=await Promise.all([this.getFileTree(e,t),r?{path:void 0}:this.providerService.getMetadata(e)]);i=await o.get(r!=null?r:u)}if((i==null?void 0:i.sha)===void 0)throw d.FileSystemError.FileNotFound(e);return await i.getContent()}catch(i){throw d.env.logLevel===d.LogLevel.Debug&&ae.error(i),i}}async getLfsProxyEndpoint(){try{return d.commands.executeCommand("_remotehub.getLfsProxyEndpoint").then(e=>e==null?void 0:e["dev.azure.com"])}catch(e){return}}async getLfsContent(e,t){var r;const{oid:i,size:s}=vr(t),o=this.getBatchApiUrl(e),u=(await this.getAuthentication(e)).session.accessToken;try{const l=await yi(o,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${u}`},body:JSON.stringify({transfers:["basic"],operation:"download",objects:[{oid:i,size:Number(s)}]})});if(l.ok){const _=(r=(await l.json()).objects[0].actions)==null?void 0:r.download,H=_==null?void 0:_.href;if(rn){const C=await this.lfsProxyEndpoint;if(C!==void 0)return d.window.withProgress({location:d.ProgressLocation.Window},(ne,we)=>Gi(C,{method:"POST",headers:{"Content-Type":"application/json","x-proxy-authorization":`Bearer ${u}`},body:JSON.stringify({fetchUrl:_.href,header:_.header})},void 0,we,ne))}return d.window.withProgress({location:d.ProgressLocation.Window},(C,ne)=>Gi(H,{method:"GET",headers:{Authorization:`Bearer ${u}`,..._.header}},void 0,ne,C))}return t}catch(l){return ae.error(l),t}}async getIncomingChanges(e){var t,r;return(r=(t=(await this.getMetadata(e)).state)==null?void 0:t.incomingChanges)!=null?r:[]}async getModeRefType(e,t){const{HEAD:r,pullRequest:i}=await(t!=null?t:this.getMetadata(e));switch(r.type){case K.Branch:return i!==void 0?se.PullRequestBranch:se.Branch;case K.RemoteBranch:return i!==void 0?se.PullRequestRemoteBranch:se.RemoteBranch;case K.Tag:return se.Tag;case K.Commit:return se.Commit}}async getGitAttributes(e){const t=e.toString(),r=this.gitAttributes.get(t);if(r)return r;const i=this.providerService.createRelativeUri(e,".gitattributes"),s=this.getFileContent(i).then(o=>new ca(ts.decode(o))).catch(o=>{if(o instanceof d.FileSystemError&&o.code===d.FileSystemError.FileNotFound().code)return new ca("");throw o});return this.gitAttributes.set(t,s),s}getProviderRootUri(e){return e=T.getProviderUri(e),es(e)}getRelativeFilePath(e,t){let{path:r}=Di(e);const{path:i}=Di(D(e,t));return r.length!==0&&i!==r&&i.startsWith(r)?(r=r.endsWith("/")?r:`${r}/`,i.slice(r.length)):i}getRemoteUri(e){var t,r;const i=`https://dev.azure.com/${e.repo.organization}/${e.repo.project}/_git/${e.repo.name}`,s=e.path?`&path=/${e.path}`:"",o=(t=e==null?void 0:e.item)==null?void 0:t.selection,u=o&&((r=e.item)==null?void 0:r.resourceUri.scheme)!=="vscode-notebook-cell"?`&line=${o.start.line+1}&lineEnd=${o.end.line+1}&lineStartColumn=${o.start.character+1}&lineEndColumn=${o.end.character+1}`:"";return e.pullRequest?d.Uri.parse(`${i}/pullrequest/${e.pullRequest.id}`):e.branch?d.Uri.parse(`${i}?version=GB${e.branch}${s}${u}`):e.tag?d.Uri.parse(`${i}?version=GT${e.tag}${s}${u}`):e.sha?d.Uri.parse(`${i}?version=GC${e.sha}${s}${u}`):d.Uri.parse(i)}getRemoteWorkspaceSourceProviders(){return[{name:"Azure Repos",icon:"$(azure-devops)",label:d.l10n.t("Open Repository from {0}","Azure Repos"),placeholder:d.l10n.t("Choose a repository"),provideOrganization:async()=>{var e;return(e=await this.getOrganizations())==null?void 0:e.label},provideProject:async e=>{var t;return(t=await this.getProjects(e))==null?void 0:t.label},provideSources:async(e,t,r,i)=>{if(r)return;const s=await this.adoClient.getRepositories(e,t);return s==null?void 0:s.map(o=>({providerId:"azurerepos",name:o.name,icon:"$(repo)",detail:void 0,url:o.webUrl}))}}]}async getTags(e,t){const{repo:{organization:r,project:i,name:s}}=Di(e);return{tags:(await this.adoClient.getRefs(r,i,s,{filter:"tags/",filterContains:t.query,top:t.limit})).map(u=>({type:Mi.Tag,name:u.name.substring(10),commit:u.objectId,commitUrl:u.url}))}}getVirtualUriMetadata(e){const{provider:t,name:r,repo:i,ref:s}=Di(e);return{provider:t,name:r,repo:i,ref:s}}async switchTo(e,t,r){const{name:i,repo:s,HEAD:{branch:o}}=await this.getMetadata(e);let u;if(!(t!==void 0&&(typeof t=="string"?t.startsWith("refs/heads/")?u={type:ue.Branch,id:t.substr(11)}:t.startsWith("refs/tags/")?u={type:ue.Tag,id:t.substr(10)}:u={type:ue.Branch,id:t}:u={...t,type:t.type===ue.Tree?ue.Branch:t.type},(o==null?void 0:o.name)===u.id)))return{name:i,uri:this.createVirtualUri(e,{repo:s,ref:u}),location:(r==null?void 0:r.openInNewWindow)?Ne.NewWindow:Ne.CurrentWindow}}async sync(e,t,r){var i,s,o,u,l,c;const _=new Q(`AzDO.sync(${e.toString()}, resolution=${r.conflictResolution}, to=${r.to})`);let H;try{const{metadata:C}=await this.fetchCore(e,!0,{to:r.to});if(C.HEAD.detached){H=" \u2022 Skipped; detached HEAD";return}if(((s=(i=C==null?void 0:C.state)==null?void 0:i.behind)!=null?s:0)>0&&await t.hasChanges(e)){_.logStep("Fetching upstream changes");const ne=[],we=(u=(o=C.state)==null?void 0:o.incomingChanges)!=null?u:[];if(we.length>0){const me=await t.getChanges(e);for(const ze of me){const gt=this.getRelativeFilePath(e,ze.uri),St=we.find(Xt=>Xt.uri.path===ze.uri.path);if(St!==void 0){ne.push({path:gt,current:ze,incomingType:St.type});break}}}if(ne.length>0)switch(r.conflictResolution){case ee.KeepCurrent:_.logStep("Syncing (keep) upstream changes",{message:`: ${ne.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const me of ne)await t.keep(me.current.uri,{type:me.incomingType,providerUri:Ka(C,C.HEAD.branch.sha,me.path)});break;case ee.DiscardCurrent:_.logStep("Syncing (discard) upstream changes",{message:`: ${ne.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const me of ne)await t.discard(me.current.uri);break;case ee.Merge:_.logStep("Syncing (merge) upstream changes",{message:`: ${ne.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const me of ne)await t.merge(me.current.uri,{type:me.incomingType,providerUri:Ka(C,C.HEAD.branch.sha,me.path)},{providerUri:Ka(C,C.HEAD.sha,me.path)});break;case ee.Abort:default:throw _.logStep("Syncing (abort) upstream changes",{message:`: ${ne.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.metadataStore.set(T.getVirtualUri(e),C.HEAD.sha,C),Be.SyncOrFetchError()}}H=` \u2022 to=${(l=r.to)!=null?l:C.HEAD.branch.sha}`,await this.fastForwardTo(e,(c=r.to)!=null?c:C.HEAD.branch.sha,C)}finally{_.stop(H?{suffix:H}:void 0)}}async fork(e){throw new Error("Forks are currently not supported")}async getFork(e){throw new Error("Forks are currently not supported")}async getObjectDetails(e,t,r){throw new Error("Not able to get object detail")}async getPullRequest(e,t){throw new Error("PRs are currently not supported")}async getTarGz(e,t,r){throw new Error("Getting zip is currently not supported")}async loadWorkspaceContents(e){return!1}async fastForwardTo(e,t,r){if(r.HEAD.detached)throw Be.DetachedHEADError("Unable to fast-forward; no current branch");if(r.HEAD.sha===t&&r.state===void 0)return;const i=this.asFileTreeKey(e,r.HEAD.sha),s=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),s==null||s.dispose(),ae.log(`Fast forward to ${t}; rootUri=${e.toString()}`),await this.metadataStore.set(T.getVirtualUri(e),t,{...r,HEAD:{...r.HEAD,detached:void 0,sha:t},state:t!==r.HEAD.branch.sha?r.state:void 0,timestamp:Date.now()}),t!==r.HEAD.branch.sha&&r.state===void 0&&await this.fetchCore(e,!1,{to:t})}async fetchCore(e,t,r){var i,s,o,u,l,c,_,H;const{force:C,to:ne}={...r,force:t||(r==null?void 0:r.force)},we=new Q(`AzDO.fetch(${e.toString()}, force=${C}, to=${ne})`);let me;try{const ze=await this.getMetadata(e);if(ze.HEAD.detached)return me=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:ze};if(ze.HEAD.type===K.RemoteBranch)return me=" \u2022 Skipped; remote branch",{fetched:!1,metadata:ze};const gt=await this.getBranchTips(e);if(!gt)throw me=" \u2022 Unable to fetch branch tips",Be.SyncOrFetchError(t);if(!C&&!ne&&((i=gt.defaultBranch)==null?void 0:i.sha)!==void 0&&gt.defaultBranch.sha===ze.defaultBranch.sha&&((s=gt.branch)==null?void 0:s.sha)!==void 0&&gt.branch.sha===ze.HEAD.branch.sha)return me=" \u2022 No changes detected",{fetched:!1,metadata:ze};let St;if(((o=gt.defaultBranch)==null?void 0:o.sha)!==void 0&&gt.defaultBranch.sha!==ze.defaultBranch.sha&&(St={defaultBranch:{...ze.defaultBranch,sha:gt.defaultBranch.sha}}),((u=gt.branch)==null?void 0:u.sha)===void 0){if(me=" \u2022 Unable to find branch tip",C)throw Be.SyncOrFetchError(t);return St!==void 0?{fetched:!0,metadata:{...ze,...St}}:{fetched:!1,metadata:ze}}if(gt.branch.sha!==ze.HEAD.branch.sha&&(St={...St,HEAD:{...ze.HEAD,branch:{...ze.HEAD.branch,sha:gt.branch.sha},detached:void 0}}),gt.branch.sha===ze.HEAD.sha)return me=" \u2022 Up to date",ze.state!==void 0||St!==void 0?{fetched:!0,metadata:{...ze,...St,state:void 0}}:{fetched:!1,metadata:ze};we.logStep("Fetching upstream changes");try{const Xt=await this.getAheadBehindState(e,ze,{base:(l=r==null?void 0:r.to)!=null?l:ze.HEAD.sha,head:(H=(_=(c=St==null?void 0:St.HEAD)==null?void 0:c.branch)==null?void 0:_.sha)!=null?H:ze.HEAD.branch.sha});return me=` \u2022 Changes detected; ${Xt==null?void 0:Xt.behind} commits behind`,{fetched:!0,metadata:{...ze,...St,state:Xt?{ahead:Xt.ahead,behind:Xt.behind,incomingChanges:Xt.incomingChanges}:void 0}}}catch(Xt){if(me=` \u2022 Failed fetching upstream changes; ${String(Xt)}`,C)throw Be.SyncOrFetchError(t);return St!==void 0?{fetched:!0,metadata:{...ze,...St}}:{fetched:!1,metadata:ze}}}finally{we.stop(me?{suffix:me}:void 0)}}async getAheadBehindState(e,t,r){var i,s,o,u,l;const{base:c,head:_}={base:t.HEAD.sha,head:(i=t.HEAD.branch)==null?void 0:i.sha,...r},H=new Q(`AzureRepos.getAheadBehindState(${e.toString()}, base=${c}, head=${_})`);let C,ne;try{if(!_){C=` \u2022 Skipped; Unsupported HEAD type (${t.HEAD.type})`;return}const we=await this.adoClient.getDiffs(t.repo.organization,t.repo.project,t.repo.name,c,_),me=[];for(const ze of(s=we==null?void 0:we.changes)!=null?s:[])switch(ze.changeType){case"add":me.push({uri:d.Uri.joinPath(e,ze.item.path),type:N.Created});break;case"delete":me.push({uri:d.Uri.joinPath(e,ze.item.path),type:N.Deleted});break;case"edit":me.push({uri:d.Uri.joinPath(e,ze.item.path),type:N.Changed});break;case"rename":case"targetRename":me.push({uri:d.Uri.joinPath(e,ze.item.path),type:N.Created});break;case"sourceRename":me.push({uri:d.Uri.joinPath(e,ze.item.path),type:N.Deleted});break;default:ae.warn(`AzureRepos.getAheadBehindState(${e.toString()}, base=${c}, head=${_}): Unknown file status encountered '${ze.changeType}'`);break}return ne={ahead:(o=we==null?void 0:we.ahead)!=null?o:0,behind:(u=we==null?void 0:we.behind)!=null?u:0,incomingChanges:me},ne}catch(we){throw C=` \u2022 Failed; ${String(we)}`,ae.error(we),we}finally{H.stop({suffix:C!=null?C:` \u2022 ${(l=ne==null?void 0:ne.behind)!=null?l:0} commits behind`})}}async getBranchTips(e,t){try{const{repo:{organization:r,project:i,name:s},HEAD:{branch:o}}=await this.getMetadata(e);t===void 0?t=o?`heads/${o.name}`:"":t.startsWith("refs/")&&(t=t.slice(5));const l=(await this.adoClient.getRefs(r,i,s,{filter:t})).find(ne=>ne.name===`refs/${t}`);if(l===void 0)return;const c=await this.adoClient.getRepository(r,i,s),_=c.defaultBranch.startsWith("refs/")?c.defaultBranch.slice(5):c.defaultBranch,C=(await this.adoClient.getRefs(r,i,s,{filter:_})).find(ne=>ne.name===`refs/${_}`);return C===void 0?void 0:{branch:l.objectId?{sha:l.objectId}:void 0,defaultBranch:C.objectId?{sha:C.objectId}:void 0}}catch(r){return}}async getRepositoryAccessLevel(e,t,r){var i,s,o,u,l,c;const _=await this.adoClient.getGitSecurityNamespace(e);if(_===void 0)return G.None;try{const H=await this.adoClient.getRepository(e,t,r),C=`repoV2/${H.project.id}/${H.id}`,ne=await this.adoClient.getSecurityPermissionEvaluation(e,_,C),we=(i=_.actions.find(gt=>gt.name==="Administer"))==null?void 0:i.bit;if(we&&((s=ne==null?void 0:ne.find(gt=>gt.permissions===we))==null?void 0:s.value))return G.Admin;const me=(o=_.actions.find(gt=>gt.name==="GenericContribute"))==null?void 0:o.bit;if(me&&((u=ne==null?void 0:ne.find(gt=>gt.permissions===me))==null?void 0:u.value))return G.Write;const ze=(l=_.actions.find(gt=>gt.name==="GenericRead"))==null?void 0:l.bit;if(ze&&((c=ne==null?void 0:ne.find(gt=>gt.permissions===ze))==null?void 0:c.value))return G.Read}catch(H){ae.error(H)}return G.None}async getRepositoryInfo(e,t,r,i){var s,o,u;try{const l=await this.adoClient.getRepository(e,t,r);((s=l.defaultBranch)==null?void 0:s.startsWith("refs/heads/"))&&(l.defaultBranch=l.defaultBranch.substring(11));const c=await this.adoClient.getBranchStats(e,t,r,l.defaultBranch);if(c===void 0)throw new Error("Unable to retrieve the details of the default branch.");const _=await this.getRepositoryAccessLevel(e,t,r),H={repo:{organization:e,project:t,name:r},accessLevel:_,defaultBranch:{name:c.name,sha:c.commit.commitId},cloneUrl:{http:l.remoteUrl,ssh:l.sshUrl}};switch(i.type){case ue.Branch:case ue.Tag:{const C=i.type===ue.Branch?"heads":"tags",we=(await this.adoClient.getRefs(e,t,r,{filter:`${C}/${i.id}`})).find(me=>me.name===`refs/${C}/${i.id}`);return we===void 0?void 0:{...H,ref:{name:i.type===ue.Branch?we.name.substring(11):we.name.substring(10),sha:we.objectId,prefix:i.type===ue.Branch?"refs/heads/":"refs/tags/"}}}case ue.Commit:return{...H,ref:{name:i.id==="HEAD"?l.defaultBranch:i.id,sha:k(i.id)?i.id:c.commit.commitId,prefix:k(i.id)?"":"refs/heads/"}};case ue.PullRequest:{const C=await this.adoClient.getPullRequest(e,t,r,i.id);return{...H,ref:{name:C.sourceRefName.substring(11),sha:(u=(o=C.lastMergeCommit)==null?void 0:o.commitId)!=null?u:C.lastMergeSourceCommit.commitId,prefix:"refs/heads/"},pullRequest:{id:C.pullRequestId.toString(),state:is(C.status),title:C.title}}}default:return}}catch(l){throw l instanceof Error&&l.message.includes("does not exist")?Be.InvalidRepositoryError():l}}onRefreshOrRepositoryChanged(e){e=e.filter(t=>T.getProviderId(t)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(t=>t.dispose()),this.fileTreeCache.clear())}async validateBranchOrTagCasing(e,t,r,i,s){const o=s===ue.Branch?"heads":"tags",u=`${o}/${i}`,c=(await this.adoClient.getRefs(e,t,r,{filter:u})).find(ne=>ne.name===`refs/${o}/${i}`);if(c)return s===ue.Branch?{type:ue.Branch,id:c.name.substring(11)}:{type:ue.Tag,id:c.name.substring(10)};const _=`${o}/`,C=(await this.adoClient.getRefs(e,t,r,{filter:_,filterContains:i})).find(ne=>{var we;return((we=ne.name)==null?void 0:we.toLowerCase())===`refs/${o}/${i.toLowerCase()}`});if(C)return s===ue.Branch?{type:ue.Branch,id:C.name.substring(11)}:{type:ue.Tag,id:C.name.substring(10)}}async getFileTree(e,t,r){var i,s,o,u,l;const c=this.isInWorkspace(e);let _=(i=r==null?void 0:r.cache)!=null?i:c,H,C,ne;if(_||!t){const gt=(o=(s=r==null?void 0:r.prefetched)==null?void 0:s.metadata)!=null?o:this.getMetadata(e);ne=c?this.getFileTreePermissions(e,gt):void 0;let St;({repo:C,HEAD:{sha:St},timestamp:H}=(u=r==null?void 0:r.prefetched)!=null?u:await gt),t&&St!==t?(_=!1,H=Date.now()):t=St}else({repo:C}=(l=r==null?void 0:r.prefetched)!=null?l:this.getVirtualUriMetadata(e)),H=Date.now();const we=this.asFileTreeKey(e,t),me=this.getProviderRootUri(e),ze=new Q(`AzureRepos.getFileTree(${we}): ${e.toString()}`,{log:!1,logLevel:d.LogLevel.Debug});try{let gt=a(function(){var Xt;const un=new Q(`AzureRepos.createFileTree(${we})`);let ln;const Cn={dispose:()=>ln==null?void 0:ln.dispose(),permissions:ne,getContent:async Gn=>{const Kn=await this.adoClient.getBlob(C.organization,C.project,C.name,Gn.sha);return new Uint8Array(Kn)},getTree:async(Gn,Kn)=>{const gr=await this.adoClient.getItem(C.organization,C.project,C.name,t,"commit",Gn);if(gr==null)throw new Error(`Git item was not found. CommitId: ${t}`);const Pr=await this.adoClient.getTree(C.organization,C.project,C.name,gr.objectId,Kn);if(Pr==null)throw new Error(`Git tree was not found. ObjectId: ${gr.objectId}`);return{sha:Pr.objectId,truncated:!1,tree:Pr.treeEntries.map(gi=>{var Yi;return{path:gi.relativePath,item:{mode:gi.mode,sha:gi.objectId,stat:{type:ns(gi.gitObjectType),size:(Yi=gi.size)!=null?Yi:0,ctime:0,mtime:H}}}})}},onDidTriggerContentCaching:void 0,tryCachingContent:void 0};try{return new pr(me,t,H,Cn,{path:r==null?void 0:r.path,recursive:(Xt=r==null?void 0:r.recursive)!=null?Xt:!1,preload:_||(r==null?void 0:r.recursive)})}catch(Gn){return ae.error(Gn),new pr(me,t,H,void 0)}finally{un.stop()}},"createFileTree"),St=this.fileTreeCache.get(we);return St!==void 0||(St=gt.call(this),_&&this.fileTreeCache.set(we,St)),St}finally{ze.stop()}}hasFileTree(e,t){return t?this.fileTreeCache.has(this.asFileTreeKey(e,t)):this.getMetadata(e).then(r=>this.fileTreeCache.has(this.asFileTreeKey(e,r.HEAD.sha)))}async getFileTreePermissions(e,t){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,t)).display===j.Edit)return;const i=await this.providerService.getIndexMetadata(e);return Y.isActive(i)?d.FilePermission.Readonly:void 0}asFileTreeKey(e,t){return e=T.getProviderUri(e),`${F(this.getProviderRootUri(e))}:${t}`}async getSearchableBranches(e){const t=await this.adoClient.getSearchableBranches(e.repo.organization,e.repo.project,e.repo.name);return t===void 0?(ae.debug("AzDOProvider.getSearchableBranches returned empty result"),[]):t.indexedBranches.map(r=>r.name)}async getRepoItems(e,t,r){const[,,,,...i]=t.split("/");let s;e.HEAD.type===K.Commit?s={version:e.HEAD.sha,versionType:"commit"}:e.HEAD.type===K.Branch?s={version:e.HEAD.branch.name,versionType:"branch"}:e.HEAD.type===K.Tag&&(s={version:e.HEAD.name,versionType:"tag"});const o=await this.adoClient.getItems(e.repo.organization,e.repo.project,e.repo.name,s.version,s.versionType,r?"full":"oneLevel",i.join("/"));return o===void 0?(ae.debug(`AzDOProvider.getRepoItems returned empty result for path ${t}`),[]):o}async searchCodeQuery(e,t,r){var i;const{repo:{organization:s,project:o,name:u},HEAD:l,defaultBranch:c}=await this.getMetadata(t);try{const _=await this.adoClient.searchCode(s,o,u,l.branch?l.branch.name:c.name,e),H=new d.Range(0,0,0,0),C=[];let ne;for(const we of(i=_==null?void 0:_.results)!=null?i:[])for(const me of we.matches.content){ne={path:we.path,ranges:[],preview:"",matches:[]};const ze=Math.max(0,me.line-1),gt=me.charOffset,St=gt+me.length;ne.preview=me.codeSnippet?me.codeSnippet:`CharOffset: ${me.charOffset}, Type: ${me.type}`,ne.ranges.push(new d.Range(ze,gt,ze,St)),ne.matches.push(H),C.push(ne)}return{matches:C,limitHit:!1}}catch(_){return ae.error(_),{matches:[],limitHit:!1}}}async getOrganizations(){await this.authService.reauthenticate();const e=a(async()=>{const t=await this.adoClient.getAccounts();return t?t.map(r=>({label:r})):[]},"getQuickPickItems");return d.window.showQuickPick(e(),{placeHolder:"Choose an Azure DevOps Organization",title:"Choose an Azure DevOps Organization"})}async getProjects(e){const t=a(async()=>(await this.adoClient.getProjects(e)).map(i=>({label:i.name,description:i.description})),"getQuickPickItems");return d.window.showQuickPick(t(),{placeholder:"Choose an Azure DevOps project",title:"Choose an Azure DevOps project"})}async getMetadata(e){return this.providerService.getMetadata(e)}isInWorkspace(e){var t;return((t=d.workspace.getWorkspaceFolder(T.getVirtualUri(e)))==null?void 0:t.uri)!==void 0}}a(Za,"AzDORepositoryProvider");function ns(n){switch(n){case"blob":return d.FileType.File;case"tree":return d.FileType.Directory;default:return d.FileType.Unknown}}a(ns,"gitObjectTypeToFileType");function rs(n){switch(n.type){case N.Created:return"add";case N.Changed:return"edit";case N.Deleted:return"delete";default:return}}a(rs,"operationTypeToVersionControlChangeType");function is(n){switch(n){case"active":return fe.Open;case"completed":return fe.Merged;case"abandoned":return fe.Closed}}a(is,"toPullRequestState");function as(n){return{registerVirtualProviderService:function(e){He.configure("azureRepos",n),ae.configure(n,"Azure Repos"),Q.start("Time to root directory",{log:!1});const t=cn.configure(n),r=new Dt(n);try{const i=new qn(n.globalState),s=i.with(t),o=new Qr(n.globalStorageUri,t),u=new zr(s),l=new Wr(e,s,o,r,t);l.getWorkspacesWithChanges();const c=new hi(e,i,l,t,n),_=new Ji(new $i),H=new vi(_),C=new Za(e,_,u,H),ne=new Ii(e,l,C,H);n.subscriptions.push(new $e(C),c,l,C,ne),e.register("azurerepos","Azure Repos",C,ne,i,l,u,c),r.publicLog2("activate")}catch(i){throw ae.error(i),Ut(n,i),i}}}}a(as,"activate")})(),module.exports=Pa})();
