(()=>{var e={873:(e,t,o)=>{var n=o(325).Symbol;e.exports=n},932:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,r=Array(n);++o<n;)r[o]=t(e[o],o,e);return r}},552:(e,t,o)=>{var n=o(873),r=o(659),i=o(350),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):i(e)}},556:(e,t,o)=>{var n=o(873),r=o(932),i=o(449),s=o(394),a=n?n.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(s(t))return c?c.call(t):"";var o=t+"";return"0"==o&&1/t==-1/0?"-0":o}},128:(e,t,o)=>{var n=o(800),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},840:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},659:(e,t,o)=>{var n=o(873),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),o=e[a];try{e[a]=void 0;var n=!0}catch(e){}var r=s.call(e);return n&&(t?e[a]=o:delete e[a]),r}},350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},325:(e,t,o)=>{var n=o(840),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i},800:e=>{var t=/\s/;e.exports=function(e){for(var o=e.length;o--&&t.test(e.charAt(o)););return o}},221:(e,t,o)=>{var n=o(805),r=o(124),i=o(374),s=Math.max,a=Math.min;e.exports=function(e,t,o){var c,l,g,d,u,f,h=0,m=!1,p=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function w(t){var o=c,n=l;return c=l=void 0,h=t,d=e.apply(n,o)}function b(e){var o=e-f;return void 0===f||o>=t||o<0||p&&e-h>=g}function $(){var e=r();if(b(e))return C(e);u=setTimeout($,function(e){var o=t-(e-f);return p?a(o,g-(e-h)):o}(e))}function C(e){return u=void 0,v&&c?w(e):(c=l=void 0,d)}function I(){var e=r(),o=b(e);if(c=arguments,l=this,f=e,o){if(void 0===u)return function(e){return h=e,u=setTimeout($,t),m?w(e):d}(f);if(p)return clearTimeout(u),u=setTimeout($,t),w(f)}return void 0===u&&(u=setTimeout($,t)),d}return t=i(t)||0,n(o)&&(m=!!o.leading,g=(p="maxWait"in o)?s(i(o.maxWait)||0,t):g,v="trailing"in o?!!o.trailing:v),I.cancel=function(){void 0!==u&&clearTimeout(u),h=0,c=f=l=u=void 0},I.flush=function(){return void 0===u?d:C(r())},I}},680:(e,t,o)=>{var n=o(222),r=/[\\^$.*+?()[\]{}|]/g,i=RegExp(r.source);e.exports=function(e){return(e=n(e))&&i.test(e)?e.replace(r,"\\$&"):e}},449:e=>{var t=Array.isArray;e.exports=t},805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},394:(e,t,o)=>{var n=o(552),r=o(346);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},124:(e,t,o)=>{var n=o(325);e.exports=function(){return n.Date.now()}},969:(e,t,o)=>{var n=o(221),r=o(805);e.exports=function(e,t,o){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(o)&&(i="leading"in o?!!o.leading:i,s="trailing"in o?!!o.trailing:s),n(e,t,{leading:i,maxWait:t,trailing:s})}},374:(e,t,o)=>{var n=o(128),r=o(805),i=o(394),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var o=a.test(e);return o||c.test(e)?l(e.slice(2),o?2:8):s.test(e)?NaN:+e}},222:(e,t,o)=>{var n=o(556);e.exports=function(e){return null==e?"":n(e)}},707:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorLensCodeLens=void 0;const n=o(265),r=o(135),i=o(398),s=o(968);t.ErrorLensCodeLens=class{constructor(e){this.onDidChangeEventEmitter=new i.EventEmitter,this.onDidChangeCodeLenses=this.onDidChangeEventEmitter.event,this.disposables=[this.onDidChangeEventEmitter,i.languages.registerCodeLensProvider("*",this)]}formatDiagnostic(e){return s.extUtils.prepareMessage({template:n.$config.codeLensTemplate,diagnostic:e,lineProblemCount:1,removeLinebreaks:!0,replaceLinebreaksSymbol:n.$config.replaceLinebreaksSymbol})}createTooltip(e){return e.map(this.formatDiagnostic).join("\n")}createTitle(e){const t=this.formatDiagnostic(e);return r.utils.truncateString(t,n.$config.codeLensLength.max).padEnd(n.$config.codeLensLength.min,"â €")}provideCodeLenses(e,t){if(!this.isEnabled())return[];if(n.$state.excludePatterns)for(const t of n.$state.excludePatterns)if(0!==i.languages.match(t,e))return[];const o=s.extUtils.groupDiagnosticsByLine(i.languages.getDiagnostics(e.uri)),r=[];for(const e in o){const t=o[e];for(const o of t)r.push(new i.CodeLens(new i.Range(Number(e),0,Number(e),0),{title:this.createTitle(o),command:"errorLens.codeLensOnClick",tooltip:this.createTooltip(t),arguments:[o]}))}return r}isEnabled(){return n.$config.enabled&&n.$config.codeLensEnabled}update(){this.onDidChangeEventEmitter.fire()}dispose(){this.update(),setInterval((()=>{for(const e of this.disposables)e?.dispose();this.disposables=[]}),500)}}},916:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAllCommands=void 0;const n=o(158),r=o(149),i=o(247),s=o(84),a=o(573),c=o(476),l=o(559),g=o(572),d=o(923),u=o(955),f=o(897),h=o(477),m=o(265),p=o(301),v=o(398);t.registerAllCommands=function(e){e.subscriptions.push(v.commands.registerCommand("errorLens.toggle",(()=>{p.vscodeUtils.updateGlobalSetting("errorLens.enabled",!m.$config.enabled)}))),e.subscriptions.push(v.commands.registerCommand("errorLens.toggleError",(()=>{(0,f.toggleEnabledLevels)("error",m.$config.enabledDiagnosticLevels)}))),e.subscriptions.push(v.commands.registerCommand("errorLens.toggleWarning",(()=>{(0,f.toggleEnabledLevels)("warning",m.$config.enabledDiagnosticLevels)}))),e.subscriptions.push(v.commands.registerCommand("errorLens.toggleInfo",(()=>{(0,f.toggleEnabledLevels)("info",m.$config.enabledDiagnosticLevels)}))),e.subscriptions.push(v.commands.registerCommand("errorLens.toggleHint",(()=>{(0,f.toggleEnabledLevels)("hint",m.$config.enabledDiagnosticLevels)}))),e.subscriptions.push(v.commands.registerCommand("errorLens.toggleInlineMessage",(()=>{p.vscodeUtils.toggleGlobalBooleanSetting("errorLens.messageEnabled")}))),e.subscriptions.push(v.commands.registerCommand("errorlens.toggleWorkspace",h.toggleWorkspaceCommand)),e.subscriptions.push(v.commands.registerCommand("errorLens.findLinterRuleDefinition",c.findLinterRuleDefinitionCommand)),e.subscriptions.push(v.commands.registerCommand("errorLens.copyProblemCode",r.copyProblemCodeCommand)),e.subscriptions.push(v.commands.registerCommand("errorLens.searchForProblem",g.searchForProblemCommand)),e.subscriptions.push(v.commands.registerCommand("errorLens.disableLine",s.disableLineCommand)),e.subscriptions.push(v.commands.registerTextEditorCommand("errorLens.selectProblem",d.selectProblemCommand)),e.subscriptions.push(v.commands.registerTextEditorCommand("errorLens.copyProblemMessage",i.copyProblemMessageCommand)),e.subscriptions.push(v.commands.registerCommand("errorLens.codeLensOnClick",n.codeLensOnClickCommand)),e.subscriptions.push(v.commands.registerCommand("errorLens.revealLine",l.revealLineCommand)),e.subscriptions.push(v.commands.registerCommand("errorLens.excludeProblem",a.excludeProblemCommand)),e.subscriptions.push(v.commands.registerTextEditorCommand("errorLens.statusBarCommand",u.statusBarCommand))}},158:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeLensOnClickCommand=void 0;const n=o(265),r=o(301),i=o(398);t.codeLensOnClickCommand=function(e){switch(n.$config.codeLensOnClick){case"showProblemsView":i.commands.executeCommand("workbench.actions.view.problems");break;case"showQuickFix":r.vscodeUtils.setCaretInEditor({range:e.range}),i.commands.executeCommand("editor.action.quickFix",e);break;case"searchForProblem":r.vscodeUtils.setCaretInEditor({range:e.range}),i.commands.executeCommand("errorLens.searchForProblem",e)}}},149:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyProblemCodeCommand=void 0;const n=o(968),r=o(398);t.copyProblemCodeCommand=function(e){if(e)return void("string"==typeof e.code&&r.env.clipboard.writeText(e.code));const t=r.window.activeTextEditor;if(!t)return;const o=n.extUtils.getDiagnosticAtLine(t.document.uri,t.selection.active.line);if(!o)return;const i=n.extUtils.getDiagnosticCode(o);i&&r.env.clipboard.writeText(i)}},247:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyProblemMessageCommand=void 0;const n=o(968),r=o(398);t.copyProblemMessageCommand=function(e){const t=n.extUtils.groupDiagnosticsByLine(r.languages.getDiagnostics(e.document.uri))[e.selection.active.line];if(!t)return void r.window.showInformationMessage("There's no problem at the active line.");const o=t[0],i=o.source?`[${o.source}] `:"";r.env.clipboard.writeText(i+o.message)}},84:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disableLineCommand=void 0;const n=o(265),r=o(968),i=o(301),s=o(398);t.disableLineCommand=function(e){const t=s.window.activeTextEditor;if(!t)return;let o;if(e)o=e.range[0].line;else{const n=r.extUtils.getDiagnosticAtLine(t.document.uri,t.selection.active.line);if(!n)return;o=(e=n).range.start.line}if(!e.source)return void s.window.showWarningMessage('Diagnostic has no "source".');let a=n.$config.disableLineComments[e.source];const c=a.includes("SAME_LINE");if(c&&(a=a.replace(/\s?SAME_LINE\s?/u,"")),!a)return void async function(e){const t="Show Settings";await s.window.showInformationMessage(`Comment not specified for source "${e}"`,t)===t&&i.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens disableLineComments")}(e.source);let l,g=r.extUtils.diagnosticToInlineMessage(a,e,0);c?l=t.document.validatePosition(new s.Position(o,1/0)):(l=o<=1?new s.Position(0,0):new s.Position(o,0),g=`${i.vscodeUtils.getIndentationAtLine(t.document,o)}${g}\n`),t.edit((e=>{e.insert(l,g)}))}},573:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.excludeProblemCommand=void 0;const r=n(o(680)),i=o(265),s=o(968),a=o(301),c=o(398);async function l(e,t){const o=(0,r.default)(await c.window.showInputBox({title:`${e}: Exclude by message:`,value:t.message}));o&&(i.$config.exclude.includes(o)||(await a.vscodeUtils.updateGlobalSetting("errorLens.exclude",[...i.$config.exclude,o]),async function(e){const t="Open Setting";await c.window.showInformationMessage(`Excluded problem by message: "${e}"`,t)===t&&a.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens errorLens.exclude")}(o)))}t.excludeProblemCommand=async function(e){const t=s.extUtils.getDiagnosticCode(e),o=e.source;if(!o)return void l('Diagnostic has no "source".',e);if(!t)return void l('Diagnostic has no "code".',e);const n=s.extUtils.diagnosticToSourceCodeString(o,t);i.$config.excludeBySource.includes(n)||(await a.vscodeUtils.updateGlobalSetting("errorLens.excludeBySource",[...i.$config.excludeBySource,n]),async function(e){const t="Open Setting";await c.window.showInformationMessage(`Excluded problem by source+code: "${e}"`,t)===t&&a.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens excludeBySource")}(n))}},476:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findLinterRuleDefinitionCommand=void 0;const n=o(265),r=o(968),i=o(301),s=o(398);async function a(e){const t="Open Setting";await s.window.showWarningMessage(e,t)===t&&i.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens lintFilePaths")}async function c(e,t,o){const n=await i.vscodeUtils.openFileInVscode(e),r=function(e,t){const o=e.split("\n");for(let e=0;e<o.length;e++)if(o[e].includes(t))return e}(t,o);r&&i.vscodeUtils.revealLine(n,r)}t.findLinterRuleDefinitionCommand=async function(e){let t=e?.source,o=e?.code;if(!e){const e=function(){const e=s.window.activeTextEditor;if(!e)return;const t=e.selection.active.line,o=s.languages.getDiagnostics(e.document.uri),n=r.extUtils.groupDiagnosticsByLine(o);return n[t]?.[0]}();e&&(o=r.extUtils.getDiagnosticCode(e),t=e.source)}if(!t)return void s.window.showWarningMessage('Diagnostic has no "source".');if(!o)return void s.window.showWarningMessage('Diagnostic has no "code".');const l=n.$config.lintFilePaths[t];if("none"===l)return;if(!l)return void a(`No linter files specified for source: "${t}".`);const g=[];for(const e of l)g.push(s.workspace.findFiles(e,"**/node_modules/**",10));const d=(await Promise.all(g)).flat();if(!d.length)return void a(`No linter files found that match any of the globs: ${JSON.stringify(d)}.`);const u=[];for(const e of d){const t=await i.vscodeUtils.readFileVscode(e.fsPath);t.includes(o)&&u.push({fileContents:t,linterFilePath:e})}if(!u.length){const e=`No linter file with "${o}" found.`;if(1===d.length){!async function(e,t){const o="Search",n="Open Setting",r=await s.window.showWarningMessage(e,n,o);r===n?i.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens lintFilePaths"):r===o&&s.commands.executeCommand("workbench.action.findInFiles",{query:t,isRegex:!1,triggerSearch:!0,excludeSettingAndIgnoreFiles:!0})}(e,o);const t=await i.vscodeUtils.openFileInVscode(d[0]);i.vscodeUtils.revealLine(t,0)}else{const t=await s.window.showQuickPick(d.map((e=>e.fsPath)),{title:e});t&&i.vscodeUtils.openFileInVscode(t)}return}if(1===u.length){const e=u[0];return void await c(e.linterFilePath.fsPath,e.fileContents,o)}const f=await s.window.showQuickPick(u.map((e=>({label:e.linterFilePath.fsPath,linterFilePath:e.linterFilePath,fileContents:e.fileContents}))),{title:`"${o}" is found in multiple files:`});f&&c(f.linterFilePath,f.fileContents,o)}},559:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.revealLineCommand=void 0;const n=o(398);t.revealLineCommand=async function(e,[t,o]){const r=new n.Range(t,o,t,o),i=await n.workspace.openTextDocument(e),s=await n.window.showTextDocument(i);s.revealRange(r),s.selection=new n.Selection(r.start.line,r.start.character,r.start.line,r.start.character)}},572:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchForProblemCommand=void 0;const n=o(265),r=o(968),i=o(398);t.searchForProblemCommand=function(e){if(!e){const t=i.window.activeTextEditor;if(!t)return;const o=r.extUtils.getDiagnosticAtLine(t.document.uri,t.selection.active.line);if(!o)return;e=o}const t=r.extUtils.diagnosticToInlineMessage(n.$config.searchForProblemQuery,e,0);i.env.openExternal(i.Uri.parse(t))}},923:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectProblemCommand=void 0;const n=o(265),r=o(968),i=o(398);t.selectProblemCommand=function(e){let t;"closestProblem"===n.$config.selectProblemType?t=r.extUtils.getClosestDiagnostic(e):"closestSeverity"===n.$config.selectProblemType?t=r.extUtils.getClosestBySeverityDiagnostic(e):"activeLine"===n.$config.selectProblemType&&(t=r.extUtils.getDiagnosticAtLine(e.document.uri,e.selection.active.line)),t&&(e.selection=new i.Selection(t.range.start,t.range.end),e.revealRange(t.range))}},955:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statusBarCommand=void 0;const n=o(265),r=o(398);t.statusBarCommand=async function(e){if("goToLine"===n.$config.statusBarCommand||"goToProblem"===n.$config.statusBarCommand){const t=new r.Range(n.$state.statusBarMessage.activeMessagePosition,n.$state.statusBarMessage.activeMessagePosition);e.selection=new r.Selection(t.start,t.end),e.revealRange(t,r.TextEditorRevealType.Default),await r.commands.executeCommand("workbench.action.focusActiveEditorGroup"),"goToProblem"===n.$config.statusBarCommand&&r.commands.executeCommand("editor.action.marker.next")}else if("copyMessage"===n.$config.statusBarCommand){const e=n.$state.statusBarMessage.activeMessageSource?`[${n.$state.statusBarMessage.activeMessageSource}] `:"";r.env.clipboard.writeText(e+n.$state.statusBarMessage.activeMessageText)}}},897:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleEnabledLevels=void 0;const n=o(301);t.toggleEnabledLevels=async function(e,t){const o=t.indexOf(e);-1===o?t.push(e):t.splice(o,1),await n.vscodeUtils.updateGlobalSetting("errorLens.enabledDiagnosticLevels",t)}},477:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleWorkspaceCommand=void 0;const n=o(265),r=o(301),i=o(398);async function s(e){await i.window.showInformationMessage(e,"Open Settings UI")&&r.vscodeUtils.openSettingGuiAt("@ext:usernamehw.errorlens excludeWorkspaces")}t.toggleWorkspaceCommand=async function(){const e=i.window.activeTextEditor;let t,o;e?(t=i.workspace.getWorkspaceFolder(e?.document?.uri)?.uri.fsPath,t||i.window.showWarningMessage(`Counldn't find workspace folder for "${e.document.uri.toString()}".`)):(t=await async function(){const e=i.workspace.workspaceFolders;if(e?.length)return 1===e.length?e[0].uri.fsPath:await i.window.showQuickPick(e.map((e=>e.uri.fsPath)),{title:"Pick workspace folder to include/exclude:"})}(),t||i.window.showWarningMessage("No opened/picked workspace folder.")),t&&(n.$config.excludeWorkspaces?.includes(t)?(o=n.$config.excludeWorkspaces.filter((e=>e!==t)),s(`"${t}" - Removed from "errorLens.excludeWorkspaces"`)):(o=[...n.$config.excludeWorkspaces||[],t],s(`"${t}" - Added to "errorLens.excludeWorkspaces" (now ignored)`)),r.vscodeUtils.updateGlobalSetting("errorLens.excludeWorkspaces",o))}},687:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disposeAllDecorations=t.updateWorkaroundGutterIcon=t.updateDecorationsForUri=t.updateDecorationsForAllVisibleEditors=t.doUpdateDecorations=t.setDecorationStyle=t.decorationTypes=void 0;const n=o(217),r=o(265),i=o(517),s=o(563),a=o(968),c=o(175),l=o(398);t.decorationTypes={};let g="";function d(e,o,d){const u=[],h=[],m=[],p=[],v=[],w=[],b=[],$=[];let C;if("closestProblem"===r.$config.followCursor||"closestProblemMultiline"===r.$config.followCursor){void 0===d&&(d=e.selection);const t=d.start.line,n=Object.entries(o).sort(((e,o)=>Math.abs(t-Number(e[0]))-Math.abs(t-Number(o[0]))));n.length=r.$config.followCursorMore+1,C=n.map((e=>e[1][0].range.start.line))}"closestProblemMultiline"!==r.$config.followCursor&&"closestProblemMultilineInViewport"!==r.$config.followCursor&&"closestProblemMultilineBySeverity"!==r.$config.followCursor||(0,c.showMultilineDecoration)(e);for(const t in o){const i=o[t],c=i[0],f=c.severity;let I;I=a.extUtils.shouldShowInlineMessage()?a.extUtils.prepareMessage({diagnostic:c,template:r.$config.messageTemplate,lineProblemCount:i.length,removeLinebreaks:r.$config.removeLinebreaks,replaceLinebreaksSymbol:r.$config.replaceLinebreaksSymbol}):void 0;let L,y="";if(a.extUtils.shouldAlign()){const o=(0,n.getStyleForAlignment)({isMultilineDecoration:!1,alignmentKind:r.$config.alignMessage.useFixedPosition?"fixed":"normal",textLine:e.document.lineAt(Number(t)),indentSize:e.options.tabSize,indentStyle:e.options.insertSpaces?"spaces":"tab",minimumMargin:r.$config.alignMessage.minimumMargin,minVisualLineLength:r.$config.alignMessage.start,start:r.$config.alignMessage.start,end:r.$config.alignMessage.end,problemMessage:I??""});y=o.styleStr,L=o.range}const x={after:{contentText:I,textDecoration:a.extUtils.shouldAlign()?`${g};${y}`:void 0}};let T;if("allLines"===r.$config.followCursor)T=c.range;else{void 0===d&&(d=e.selection);const t=c.range;if("activeLine"===r.$config.followCursor){const e=d.start.line-r.$config.followCursorMore,o=d.end.line+r.$config.followCursorMore;(t.start.line>=e&&t.start.line<=o||t.end.line>=e&&t.end.line<=o)&&(T=t)}else if("allLinesExceptActive"===r.$config.followCursor){const e=d.start.line,o=d.end.line;T=t.start.line>=e&&t.start.line<=o||t.end.line>=e&&t.end.line<=o?void 0:t}else"closestProblem"===r.$config.followCursor&&(C.includes(t.start.line)||C.includes(t.end.line))&&(T=t);if(!T)continue}const S={range:L??new l.Range(T.start.line,T.start.character,T.start.line,T.start.character),hoverMessage:(0,s.createHoverForDiagnostic)({diagnostic:c,buttonsEnabled:r.$config.editorHoverPartsEnabled.buttonsEnabled,messageEnabled:r.$config.editorHoverPartsEnabled.messageEnabled,sourceCodeEnabled:r.$config.editorHoverPartsEnabled.sourceCodeEnabled,lintFilePaths:r.$config.lintFilePaths}),renderOptions:x};switch(f){case 0:u.push(S),r.$config.problemRangeDecorationEnabled&&v.push({range:T});break;case 1:h.push(S),r.$config.problemRangeDecorationEnabled&&w.push({range:T});break;case 2:m.push(S),r.$config.problemRangeDecorationEnabled&&b.push({range:T});break;case 3:p.push(S),r.$config.problemRangeDecorationEnabled&&$.push({range:T})}}a.extUtils.shouldShowGutterIcons()&&f(e),e.setDecorations(t.decorationTypes.error,u),e.setDecorations(t.decorationTypes.warning,h),e.setDecorations(t.decorationTypes.info,m),e.setDecorations(t.decorationTypes.hint,p),r.$config.problemRangeDecorationEnabled&&(e.setDecorations(t.decorationTypes.errorRange,v),e.setDecorations(t.decorationTypes.warningRange,w),e.setDecorations(t.decorationTypes.infoRange,b),e.setDecorations(t.decorationTypes.hintRange,$)),r.$state.renderGutterIconsAsSeparateDecoration&&(0,i.doUpdateGutterDecorations)(e,o),r.$state.statusBarMessage.updateText(e,o),r.$state.codeLens.update()}function u({uri:e,editor:t,groupedDiagnostics:o,range:n}){if(void 0===t&&(t=l.window.activeTextEditor),!t)return;if(!t.document.uri.fsPath)return;if(r.$config.ignoreUntitled&&"untitled"===t.document.uri.scheme)return;if(!r.$config.enableOnDiffView&&void 0===t.viewColumn&&"vscode-notebook-cell"!==t.document.uri.scheme)return void d(t,{});if(!r.$config.enabledInMergeConflict){const e=t.document.getText();if(e.includes("<<<<<<<")||e.includes("=======")||e.includes(">>>>>>>"))return void d(t,{})}if(r.$state.excludePatterns)for(const e of r.$state.excludePatterns)if(0!==l.languages.match(e,t.document))return;const i=l.workspace.getWorkspaceFolder(t.document.uri)?.uri.fsPath;i&&r.$config.excludeWorkspaces.includes(i)||(r.$state.log("updateDecorationsForUri()",e.toString(!0)),d(t,o??a.extUtils.groupDiagnosticsByLine(l.languages.getDiagnostics(e)),n))}function f(e){const o=[];for(const t of l.debug.breakpoints){const n=t?.location;n&&n.uri.toString(!0)===e?.document.uri.toString(!0)&&o.push(n.range)}e.setDecorations(t.decorationTypes.transparent1x1Icon,o)}function h(){for(const e of Object.values(t.decorationTypes))e?.dispose()}t.setDecorationStyle=function(e){let o;h(),a.extUtils.shouldShowGutterIcons()&&(o=(0,i.getGutterStyles)(e),r.$state.renderGutterIconsAsSeparateDecoration&&(t.decorationTypes.gutterError=l.window.createTextEditorDecorationType({gutterIconPath:o.errorIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:o.errorIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),t.decorationTypes.gutterWarning=l.window.createTextEditorDecorationType({gutterIconPath:o.warningIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:o.warningIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),t.decorationTypes.gutterInfo=l.window.createTextEditorDecorationType({gutterIconPath:o.infoIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:o.infoIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),t.decorationTypes.gutterHint=l.window.createTextEditorDecorationType({gutterIconPath:o.hintIconPath,gutterIconSize:r.$config.gutterIconSize,light:{gutterIconPath:o.hintIconPathLight,gutterIconSize:r.$config.gutterIconSize}}),o=void 0)),"closestProblemMultiline"!==r.$config.followCursor&&"closestProblemMultilineInViewport"!==r.$config.followCursor&&"closestProblemMultilineBySeverity"!==r.$config.followCursor||(0,c.createMultilineDecorations)();let n=new l.ThemeColor("errorLens.errorBackground"),s=new l.ThemeColor("errorLens.errorBackgroundLight");const d=new l.ThemeColor("errorLens.errorForeground"),u=new l.ThemeColor("errorLens.errorForegroundLight");let f=new l.ThemeColor("errorLens.errorMessageBackground"),m=new l.ThemeColor("errorLens.warningBackground"),p=new l.ThemeColor("errorLens.warningBackgroundLight");const v=new l.ThemeColor("errorLens.warningForeground"),w=new l.ThemeColor("errorLens.warningForegroundLight");let b=new l.ThemeColor("errorLens.warningMessageBackground"),$=new l.ThemeColor("errorLens.infoBackground"),C=new l.ThemeColor("errorLens.infoBackgroundLight");const I=new l.ThemeColor("errorLens.infoForeground"),L=new l.ThemeColor("errorLens.infoForegroundLight");let y=new l.ThemeColor("errorLens.infoMessageBackground"),x=new l.ThemeColor("errorLens.hintBackground"),T=new l.ThemeColor("errorLens.hintBackgroundLight");const S=new l.ThemeColor("errorLens.hintForeground"),D=new l.ThemeColor("errorLens.hintForegroundLight");let P=new l.ThemeColor("errorLens.hintMessageBackground");const M=new l.ThemeColor("errorLens.statusBarErrorForeground"),k=new l.ThemeColor("errorLens.statusBarWarningForeground"),E=new l.ThemeColor("errorLens.statusBarInfoForeground"),U=new l.ThemeColor("errorLens.statusBarHintForeground");"line"===r.$config.messageBackgroundMode?(f=void 0,b=void 0,y=void 0,P=void 0):"message"===r.$config.messageBackgroundMode?(n=void 0,s=void 0,m=void 0,p=void 0,$=void 0,C=void 0,x=void 0,T=void 0):"none"===r.$config.messageBackgroundMode&&(n=void 0,s=void 0,m=void 0,p=void 0,$=void 0,C=void 0,x=void 0,T=void 0,f=void 0,b=void 0,y=void 0,P=void 0);const B=/^\d+$/u,F=r.$config.fontFamily?`font-family:${r.$config.fontFamily}`:"",A=r.$config.fontSize?`font-size:${B.test(r.$config.fontSize)?`${r.$config.fontSize}px`:r.$config.fontSize}`:"",G=B.test(r.$config.margin)?`${r.$config.margin}px`:r.$config.margin,R=r.$config.padding?`padding:${B.test(r.$config.padding)?`${r.$config.padding}px`:r.$config.padding}`:"",O=`border-radius: ${r.$config.borderRadius||"0"}`,_=r.$config.scrollbarHackEnabled?"position:absolute;pointer-events:none;top:50%;transform:translateY(-50%);":"";g=`none;${F};${A};${O}`;const j={fontStyle:r.$config.fontStyleItalic?"italic":"normal",fontWeight:r.$config.fontWeight,margin:`0 0 0 ${G}`,textDecoration:`${g};${R};${_}`},W={backgroundColor:n,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.errorIconPath,after:{...j,color:d,backgroundColor:f,...r.$config.decorations?.errorMessage},light:{backgroundColor:s,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.errorIconPathLight,after:{color:u,...r.$config.decorations?.errorMessage,...r.$config.decorations?.errorMessage?.light}},isWholeLine:!0},V={backgroundColor:m,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.warningIconPath,after:{...j,color:v,backgroundColor:b,...r.$config.decorations?.warningMessage},light:{backgroundColor:p,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.warningIconPathLight,after:{color:w,...r.$config.decorations?.warningMessage,...r.$config.decorations?.warningMessage?.light}},isWholeLine:!0},z={backgroundColor:$,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.infoIconPath,after:{...j,color:I,backgroundColor:y,...r.$config.decorations?.infoMessage},light:{backgroundColor:C,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.infoIconPathLight,after:{color:L,...r.$config.decorations?.infoMessage,...r.$config.decorations?.infoMessage?.light}},isWholeLine:!0},N={backgroundColor:x,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.hintIconPath,after:{...j,color:S,backgroundColor:P,...r.$config.decorations?.hintMessage},light:{backgroundColor:T,gutterIconSize:r.$config.gutterIconSize,gutterIconPath:o?.hintIconPathLight,after:{color:D,...r.$config.decorations?.hintMessage,...r.$config.decorations?.hintMessage?.light}},isWholeLine:!0};a.extUtils.shouldShowInlineMessage()||(W.backgroundColor=void 0,W.after=void 0,W.light.backgroundColor=void 0,W.light.after=void 0,V.backgroundColor=void 0,V.after=void 0,V.light.backgroundColor=void 0,V.light.after=void 0,z.backgroundColor=void 0,z.after=void 0,z.light.backgroundColor=void 0,z.light.after=void 0,N.backgroundColor=void 0,N.after=void 0,N.light.backgroundColor=void 0,N.light.after=void 0),t.decorationTypes.error=l.window.createTextEditorDecorationType(W),t.decorationTypes.warning=l.window.createTextEditorDecorationType(V),t.decorationTypes.info=l.window.createTextEditorDecorationType(z),t.decorationTypes.hint=l.window.createTextEditorDecorationType(N),t.decorationTypes.errorRange=l.window.createTextEditorDecorationType({backgroundColor:new l.ThemeColor("errorLens.errorRangeBackground"),rangeBehavior:l.DecorationRangeBehavior.ClosedClosed,...r.$config.decorations.errorRange}),t.decorationTypes.warningRange=l.window.createTextEditorDecorationType({backgroundColor:new l.ThemeColor("errorLens.warningRangeBackground"),rangeBehavior:l.DecorationRangeBehavior.ClosedClosed,...r.$config.decorations.warningRange}),t.decorationTypes.infoRange=l.window.createTextEditorDecorationType({backgroundColor:new l.ThemeColor("errorLens.infoRangeBackground"),rangeBehavior:l.DecorationRangeBehavior.ClosedClosed,...r.$config.decorations.infoRange}),t.decorationTypes.hintRange=l.window.createTextEditorDecorationType({backgroundColor:new l.ThemeColor("errorLens.hintRangeBackground"),rangeBehavior:l.DecorationRangeBehavior.ClosedClosed,...r.$config.decorations.hintRange});const H={gutterIconPath:o?.transparent1x1Icon,light:{gutterIconPath:o?.transparent1x1Icon}};t.decorationTypes.transparent1x1Icon=l.window.createTextEditorDecorationType(H),r.$state.statusBarMessage.statusBarColors=[M,k,E,U]},t.doUpdateDecorations=d,t.updateDecorationsForAllVisibleEditors=function(){if(!r.$config.onSave||r.$config.onSaveUpdateOnActiveEditorChange)for(const e of l.window.visibleTextEditors)r.$state.log("updateDecorationsForAllVisibleEditors()"),u({uri:e.document.uri,editor:e})},t.updateDecorationsForUri=u,t.updateWorkaroundGutterIcon=f,t.disposeAllDecorations=h},217:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStyleForAlignment=void 0;const n=o(968),r=o(398);t.getStyleForAlignment=function({isMultilineDecoration:e,alignmentKind:t,textLine:o,indentSize:i,indentStyle:s,minVisualLineLength:a,minimumMargin:c,problemMessage:l,start:g,end:d}){let u,f="";const h=n.extUtils.getVisualLineLength(o,i,s);let m=c+a-h;if(e);else{const e=function({start:e,end:t,message:o,minimumMargin:n,visualLineLength:r}){let i=0;if(e)i=e<=r?0:e-r;else if(t){const e=t-o.length-r;i=e<0?0:e}return i<n?n:i}({start:g,end:d,visualLineLength:h,message:l,minimumMargin:c});m=e}return"fixed"===t?(u=new r.Range(o.range.start,o.range.start),f=`position:fixed;left:${m+h}ch;padding:0;margin:0`):(u=new r.Range(o.range.start.line,o.range.end.character,o.range.start.line,o.range.end.character),f=`margin:0 0 0 ${m>=0?m:0}ch`),{range:u,styleStr:f}}},934:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomDelay=void 0;const r=n(o(221)),i=n(o(969)),s=o(687),a=o(265),c=o(968),l=o(398);t.CustomDelay=class{constructor(e){this.cachedDiagnostics={},this.onDiagnosticChange=e=>{if(e.uris.length)for(const t of e.uris)this.updateCachedDiagnosticForUri(t);else this.cachedDiagnostics={}},this.updateCachedDiagnosticForUri=e=>{const t=e.toString(),o=l.languages.getDiagnostics(e),n=this.cachedDiagnostics[t],r={[t]:{}};for(const e of o)r[t]&&(r[t][this.convertDiagnosticToId(e)]=e);if(n){const o=r[t],i=Object.keys(n),s=Object.keys(o);for(const t of i)if(!s.includes(t))return void this.updateDecorationsThrottled(e);for(const t of s)if(!i.includes(t))return void this.updateDecorationsDebounced(e)}else this.cachedDiagnostics[t]=r[t],this.updateDecorationsThrottled(e)},this.updateDecorations=e=>{const t=e.toString(),o=l.languages.getDiagnostics(e),n=c.extUtils.groupDiagnosticsByLine(o);this.cachedDiagnostics[t]={};for(const e of o)this.cachedDiagnostics[t][this.convertDiagnosticToId(e)]=e;for(const t of l.window.visibleTextEditors)t.document.uri.toString(!0)===e.toString(!0)&&(a.$state.log("CustomDelay => updateDecorations()"),(0,s.updateDecorationsForUri)({uri:e,editor:t,groupedDiagnostics:n}));a.$state.statusBarIcons.updateText()},this.updateDecorationsThrottled=(0,i.default)(this.updateDecorations,300,{leading:!0,trailing:!0}),this.updateDecorationsDebounced=(0,r.default)(this.updateDecorationsThrottled,e,{leading:!1,trailing:!0})}convertDiagnosticToId(e){return`${e.range.start.line}_${e.message}`}}},59:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NewDelay=void 0;const r=n(o(221)),i=o(687),s=o(265),a=o(398);t.NewDelay=class{constructor(e){this.onDiagnosticChange=e=>{for(const t of e.uris)for(const e of a.window.visibleTextEditors)e.document.uri.toString(!0)===t.toString(!0)&&this.updateDecorationsDebounced(t)},this.updateDecorations=e=>{s.$state.log("NewDelay => updateDecorations()",e.toString(!0)),(0,i.updateDecorationsForUri)({uri:e}),s.$state.statusBarIcons.updateText()},this.updateDecorationsDebounced=(0,r.default)(this.updateDecorations,e,{leading:!1,trailing:!0}),this.documentChangeDisposable=a.workspace.onDidChangeTextDocument((e=>{this.clearDecorationsForUri(e.document.uri),this.updateDecorationsDebounced(e.document.uri)}))}dispose(){this.documentChangeDisposable?.dispose()}clearDecorationsForUri(e){(0,i.updateDecorationsForUri)({uri:e,groupedDiagnostics:{}})}}},795:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.disposeAllEventListeners=t.updateChangeBreakpointsListener=t.updateOnSaveListener=t.updateOnVisibleRangesListener=t.updateCursorChangeListener=t.updateChangeDiagnosticListener=t.updateChangeVisibleTextEditorsListener=t.updateChangedActiveTextEditorListener=void 0;const r=n(o(221)),i=o(687),s=o(934),a=o(59),c=o(265),l=o(968),g=o(398);let d,u,f,h,m,p,v,w,b;t.updateChangedActiveTextEditorListener=function(){u?.dispose(),u=g.window.onDidChangeActiveTextEditor((e=>{c.$state.log("onDidChangeActiveTextEditor()",e?.document.uri.toString(!0)),c.$config.onSave&&!c.$config.onSaveUpdateOnActiveEditorChange||(e?(0,i.updateDecorationsForUri)({uri:e.document.uri,editor:e}):c.$state.statusBarMessage.clear())}))},t.updateChangeVisibleTextEditorsListener=function(){f?.dispose(),f=g.window.onDidChangeVisibleTextEditors(i.updateDecorationsForAllVisibleEditors)},t.updateChangeDiagnosticListener=function(){function e(e){for(const t of e.uris)for(const e of g.window.visibleTextEditors)t.toString(!0)===e.document.uri.toString(!0)&&(c.$state.log("onChangedDiagnostics()"),(0,i.updateDecorationsForUri)({uri:t,editor:e}));c.$state.statusBarIcons.updateText()}if(d?.dispose(),!c.$config.onSave)if("number"==typeof c.$config.delay&&c.$config.delay>0){const t=Math.max(c.$config.delay,500)||500;if("old"===c.$config.delayMode){const e=new s.CustomDelay(t);d=g.languages.onDidChangeDiagnostics(e.onDiagnosticChange)}else"debounce"===c.$config.delayMode?d=g.languages.onDidChangeDiagnostics((0,r.default)((t=>{e(t)}),t)):"new"===c.$config.delayMode&&(b?.dispose(),b=new a.NewDelay(t),d=g.languages.onDidChangeDiagnostics(b.onDiagnosticChange))}else d=g.languages.onDidChangeDiagnostics(e)},t.updateCursorChangeListener=function(){h?.dispose();const e="activeLine"===c.$config.followCursor||"closestProblem"===c.$config.followCursor||"allLinesExceptActive"===c.$config.followCursor||"closestProblemMultiline"===c.$config.followCursor;if(e||l.extUtils.shouldShowStatusBarMessage()){let t=-1;h=g.window.onDidChangeTextEditorSelection((o=>{const n=o.selections[0];(function(e,t){return 1===e.length&&e[0].isEmpty&&t!==e[0].active.line})(o.selections,t)&&(c.$state.log("caret moved to another line"),e&&(0,i.updateDecorationsForUri)({uri:o.textEditor.document.uri,editor:o.textEditor,range:n}),l.extUtils.shouldShowStatusBarMessage()&&c.$state.statusBarMessage.updateText(o.textEditor,l.extUtils.groupDiagnosticsByLine(g.languages.getDiagnostics(o.textEditor.document.uri))),t=o.selections[0].active.line),"activeCursor"===c.$config.statusBarMessageType&&c.$state.statusBarMessage.updateText(o.textEditor,l.extUtils.groupDiagnosticsByLine(g.languages.getDiagnostics(o.textEditor.document.uri)))}))}},t.updateOnVisibleRangesListener=function(){p?.dispose(),c.$state.shouldUpdateOnEditorScrollEvent&&(p=g.window.onDidChangeTextEditorVisibleRanges((e=>{c.$state.log("scrolling"),(0,i.updateDecorationsForUri)({uri:e.textEditor.document.uri,editor:e.textEditor})})))},t.updateOnSaveListener=function(){w?.dispose(),v?.dispose(),c.$config.onSave&&(w=g.workspace.onWillSaveTextDocument((e=>{c.$state.log("onWillSaveTextDocument()"),e.reason===g.TextDocumentSaveReason.Manual&&(setTimeout((()=>{(0,i.updateDecorationsForUri)({uri:e.document.uri})}),250),setTimeout((()=>{(0,i.updateDecorationsForUri)({uri:e.document.uri})}),c.$config.onSaveTimeout))})),v=g.workspace.onDidChangeTextDocument((e=>{(0,i.updateDecorationsForUri)({uri:e.document.uri,groupedDiagnostics:{}})})))},t.updateChangeBreakpointsListener=function(){m?.dispose(),l.extUtils.shouldShowGutterIcons()&&(m=g.debug.onDidChangeBreakpoints((()=>{for(const e of g.window.visibleTextEditors)(0,i.updateWorkaroundGutterIcon)(e)})))},t.disposeAllEventListeners=function(){f?.dispose(),d?.dispose(),u?.dispose(),h?.dispose(),m?.dispose(),p?.dispose(),w?.dispose(),v?.dispose(),b?.dispose()}},265:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.disposeEverything=t.updateEverything=t.activate=t.$state=t.$config=void 0;const n=o(916),r=o(687),i=o(795),s=o(541),a=o(712),c=o(968),l=o(628),g=o(398),d=o(707);class u{}function f(e){u.replaceRegexp=t.$config.replace.map((e=>({matcher:h(e.matcher),message:e.message}))),function(){u.excludeRegexp=[],u.excludeSources=[],u.excludePatterns=void 0;for(const e of t.$config.excludeBySource){const t=c.extUtils.parseSourceCodeFromString(e);t.source&&u.excludeSources.push({source:t.source,code:t.code})}for(const e of t.$config.exclude)"string"==typeof e&&u.excludeRegexp.push(h(e));Array.isArray(t.$config.excludePatterns)&&0!==t.$config.excludePatterns.length&&(u.excludePatterns=t.$config.excludePatterns.map((e=>({pattern:e}))))}(),u.renderGutterIconsAsSeparateDecoration=t.$config.gutterIconsEnabled&&t.$config.gutterIconsFollowCursorOverride&&"allLines"!==t.$config.followCursor,u.shouldUpdateOnEditorScrollEvent="closestProblemMultiline"===t.$config.followCursor||"closestProblemMultilineInViewport"===t.$config.followCursor||"closestProblemMultilineBySeverity"===t.$config.followCursor,u.statusBarMessage?.dispose(),u.statusBarIcons?.dispose(),u.statusBarMessage=new a.StatusBarMessage({isEnabled:c.extUtils.shouldShowStatusBarMessage(),colorsEnabled:t.$config.statusBarColorsEnabled,messageType:t.$config.statusBarMessageType,priority:t.$config.statusBarMessagePriority,alignment:t.$config.statusBarMessageAlignment}),u.statusBarIcons=new s.StatusBarIcons({isEnabled:c.extUtils.shouldShowStatusBarIcons(),atZero:t.$config.statusBarIconsAtZero,useBackground:t.$config.statusBarIconsUseBackground,priority:t.$config.statusBarIconsPriority,alignment:t.$config.statusBarIconsAlignment,targetProblems:t.$config.statusBarIconsTargetProblems}),u.codeLens?.dispose(),u.codeLens=new d.ErrorLensCodeLens(e),u.configErrorEnabled=t.$config.enabledDiagnosticLevels.includes("error"),u.configWarningEnabled=t.$config.enabledDiagnosticLevels.includes("warning"),u.configInfoEnabled=t.$config.enabledDiagnosticLevels.includes("info"),u.configHintEnabled=t.$config.enabledDiagnosticLevels.includes("hint"),(0,r.setDecorationStyle)(e),(0,r.updateDecorationsForAllVisibleEditors)(),u.statusBarIcons.updateText(),(0,i.updateChangeDiagnosticListener)(),(0,i.updateChangeVisibleTextEditorsListener)(),(0,i.updateOnSaveListener)(),(0,i.updateCursorChangeListener)(),(0,i.updateChangedActiveTextEditorListener)(),(0,i.updateChangeBreakpointsListener)(),(0,i.updateOnVisibleRangesListener)()}function h(e){return new RegExp(e,"iu")}function m(){(0,i.disposeAllEventListeners)(),u.statusBarMessage?.dispose(),u.statusBarIcons?.dispose(),u.codeLens?.dispose(),(0,r.disposeAllDecorations)()}t.$state=u,u.configErrorEnabled=!0,u.configWarningEnabled=!0,u.configInfoEnabled=!0,u.configHintEnabled=!0,u.vscodeGlobalProblemsEnabled=!0,u.replaceRegexp=void 0,u.excludeRegexp=[],u.excludeSources=[],u.excludePatterns=void 0,u.log=(e,...t)=>{u.logger.log(e,...t)},t.activate=function(e){function o(){t.$config=g.workspace.getConfiguration().get("errorLens"),u.vscodeGlobalProblemsEnabled=g.workspace.getConfiguration("problems").get("visibility")??!0,m(),t.$config.enabled&&f(e)}u.logger=new l.Logger({isDev:!1}),o(),(0,n.registerAllCommands)(e),t.$config.onSave&&t.$config.onSaveUpdateOnActiveEditorChange&&setTimeout((()=>{(0,r.updateDecorationsForAllVisibleEditors)()}),2*t.$config.onSaveTimeout),e.subscriptions.push(g.workspace.onDidChangeConfiguration((e=>{(e.affectsConfiguration("errorLens")||e.affectsConfiguration("problems.visibility"))&&o()})))},t.updateEverything=f,t.disposeEverything=m,t.deactivate=function(){}},517:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doUpdateGutterDecorations=t.getGutterStyles=void 0;const n=o(687),r=o(265),i=o(301),s=o(398);function a(e){return`<svg xmlns="http://www.w3.org/2000/svg" height="30" width="30"><circle cx="15" cy="15" r="7" fill="${f(e)}"/></svg>`}function c(e,t=0){return`<svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" height="40" width="40"><g transform="translate(12, 12)"><rect width="16" height="16" rx="${t}" fill="${f(e)}"/></g></svg>`}function l(e){return c(e,3)}t.getGutterStyles=function(e){const t={};return t.iconSet=r.$config.gutterIconSet,"circle"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(a(r.$config.errorGutterIconColor)),t.errorIconPathLight=i.vscodeUtils.svgToUri(a(r.$config.light.errorGutterIconColor||r.$config.errorGutterIconColor)),t.warningIconPath=i.vscodeUtils.svgToUri(a(r.$config.warningGutterIconColor)),t.warningIconPathLight=i.vscodeUtils.svgToUri(a(r.$config.light.warningGutterIconColor||r.$config.warningGutterIconColor)),t.infoIconPath=i.vscodeUtils.svgToUri(a(r.$config.infoGutterIconColor)),t.infoIconPathLight=i.vscodeUtils.svgToUri(a(r.$config.light.infoGutterIconColor||r.$config.infoGutterIconColor)),t.hintIconPath=i.vscodeUtils.svgToUri(a(r.$config.hintGutterIconColor)),t.hintIconPathLight=i.vscodeUtils.svgToUri(a(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconColor))):"square"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(c(r.$config.errorGutterIconColor)),t.errorIconPathLight=i.vscodeUtils.svgToUri(c(r.$config.light.errorGutterIconColor||r.$config.errorGutterIconColor)),t.warningIconPath=i.vscodeUtils.svgToUri(c(r.$config.warningGutterIconColor)),t.warningIconPathLight=i.vscodeUtils.svgToUri(c(r.$config.light.warningGutterIconColor||r.$config.warningGutterIconColor)),t.infoIconPath=i.vscodeUtils.svgToUri(c(r.$config.infoGutterIconColor)),t.infoIconPathLight=i.vscodeUtils.svgToUri(c(r.$config.light.infoGutterIconColor||r.$config.infoGutterIconColor)),t.hintIconPath=i.vscodeUtils.svgToUri(c(r.$config.hintGutterIconColor)),t.hintIconPathLight=i.vscodeUtils.svgToUri(c(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconColor))):"squareRounded"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(l(r.$config.errorGutterIconColor)),t.errorIconPathLight=i.vscodeUtils.svgToUri(l(r.$config.light.errorGutterIconColor||r.$config.errorGutterIconColor)),t.warningIconPath=i.vscodeUtils.svgToUri(l(r.$config.warningGutterIconColor)),t.warningIconPathLight=i.vscodeUtils.svgToUri(l(r.$config.light.warningGutterIconColor||r.$config.warningGutterIconColor)),t.infoIconPath=i.vscodeUtils.svgToUri(l(r.$config.infoGutterIconColor)),t.infoIconPathLight=i.vscodeUtils.svgToUri(l(r.$config.light.infoGutterIconColor||r.$config.infoGutterIconColor)),t.hintIconPath=i.vscodeUtils.svgToUri(l(r.$config.hintGutterIconColor)),t.hintIconPathLight=i.vscodeUtils.svgToUri(l(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconColor))):"letter"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(d(r.$config.errorGutterIconColor,"E")),t.errorIconPathLight=i.vscodeUtils.svgToUri(d(r.$config.light.errorGutterIconColor||r.$config.errorGutterIconColor,"E")),t.warningIconPath=i.vscodeUtils.svgToUri(d(r.$config.warningGutterIconColor,"W")),t.warningIconPathLight=i.vscodeUtils.svgToUri(d(r.$config.light.warningGutterIconColor||r.$config.warningGutterIconColor,"W")),t.infoIconPath=i.vscodeUtils.svgToUri(d(r.$config.infoGutterIconColor,"I")),t.infoIconPathLight=i.vscodeUtils.svgToUri(d(r.$config.light.infoGutterIconColor||r.$config.infoGutterIconColor,"I")),t.hintIconPath=i.vscodeUtils.svgToUri(d(r.$config.hintGutterIconColor,"H")),t.hintIconPathLight=i.vscodeUtils.svgToUri(d(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconColor,"H"))):"emoji"===r.$config.gutterIconSet?(t.errorIconPath=i.vscodeUtils.svgToUri(u(r.$config.gutterEmoji.error)),t.errorIconPathLight=i.vscodeUtils.svgToUri(u(r.$config.gutterEmoji.error)),t.warningIconPath=i.vscodeUtils.svgToUri(u(r.$config.gutterEmoji.warning)),t.warningIconPathLight=i.vscodeUtils.svgToUri(u(r.$config.gutterEmoji.warning)),t.infoIconPath=i.vscodeUtils.svgToUri(u(r.$config.gutterEmoji.info)),t.infoIconPathLight=i.vscodeUtils.svgToUri(u(r.$config.gutterEmoji.info)),t.hintIconPath=i.vscodeUtils.svgToUri(u(r.$config.gutterEmoji.hint)),t.hintIconPathLight=i.vscodeUtils.svgToUri(u(r.$config.gutterEmoji.hint))):(t.errorIconPath=e.asAbsolutePath(`./img/${t.iconSet}/error-dark.svg`),t.errorIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/error-light.svg`),t.warningIconPath=e.asAbsolutePath(`./img/${t.iconSet}/warning-dark.svg`),t.warningIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/warning-light.svg`),t.infoIconPath=e.asAbsolutePath(`./img/${t.iconSet}/info-dark.svg`),t.infoIconPathLight=e.asAbsolutePath(`./img/${t.iconSet}/info-light.svg`)),r.$config.errorGutterIconPath&&(t.errorIconPath=r.$config.errorGutterIconPath),(r.$config.light.errorGutterIconPath||r.$config.errorGutterIconPath)&&(t.errorIconPathLight=r.$config.light.errorGutterIconPath||r.$config.errorGutterIconPath),r.$config.warningGutterIconPath&&(t.warningIconPath=r.$config.warningGutterIconPath),(r.$config.light.warningGutterIconPath||r.$config.warningGutterIconPath)&&(t.warningIconPathLight=r.$config.light.warningGutterIconColor||r.$config.warningGutterIconPath),r.$config.infoGutterIconPath&&(t.infoIconPath=r.$config.infoGutterIconPath),(r.$config.light.infoGutterIconPath||r.$config.infoGutterIconPath)&&(t.infoIconPathLight=r.$config.light.infoGutterIconColor||r.$config.infoGutterIconPath),r.$config.hintGutterIconPath&&(t.hintIconPath=r.$config.hintGutterIconPath),(r.$config.light.hintGutterIconPath||r.$config.hintGutterIconPath)&&(t.hintIconPathLight=r.$config.light.hintGutterIconColor||r.$config.hintGutterIconPath),{errorIconPath:t.errorIconPath,errorIconPathLight:t.errorIconPathLight,warningIconPath:t.warningIconPath,warningIconPathLight:t.warningIconPathLight,infoIconPath:t.infoIconPath,infoIconPathLight:t.infoIconPathLight,hintIconPath:t.hintIconPath,hintIconPathLight:t.hintIconPathLight,iconSet:t.iconSet,transparent1x1Icon:s.Uri.parse("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=")}},t.doUpdateGutterDecorations=function(e,t){const o=[],i=[],s=[],a=[];for(const e in t){const n=t[e][0],c=n.severity,l={range:n.range};switch(c){case 0:o.push(l);break;case 1:i.push(l);break;case 2:s.push(l);break;case 3:"circle"!==r.$config.gutterIconSet&&"square"!==r.$config.gutterIconSet&&"squareRounded"!==r.$config.gutterIconSet&&"letter"!==r.$config.gutterIconSet&&"emoji"!==r.$config.gutterIconSet||a.push(l)}}e.setDecorations(n.decorationTypes.gutterError,o),e.setDecorations(n.decorationTypes.gutterWarning,i),e.setDecorations(n.decorationTypes.gutterInfo,s),e.setDecorations(n.decorationTypes.gutterHint,a)};let g="";function d(e,t){return g=g||(s.workspace.getConfiguration("editor").get("fontFamily")??""),`<svg viewBox="-10 -6 20 10" xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill="${f(e)}"><text font-family="${g}" text-anchor="middle" dominant-baseline="middle">${t}</text></svg>`}function u(e){return g=g||(s.workspace.getConfiguration("editor").get("fontFamily")??""),`<svg viewBox="-10 -6 20 10" xmlns='http://www.w3.org/2000/svg' width='16' height='16'><text font-family="${g}" text-anchor="middle" dominant-baseline="middle">${e}</text></svg>`}function f(e){return`%23${e.slice(1)}`}},563:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHoverForDiagnostic=void 0;const n=o(968),r=o(301),i=o(398);t.createHoverForDiagnostic=function({diagnostic:e,messageEnabled:t,buttonsEnabled:o,sourceCodeEnabled:s,lintFilePaths:a}){if(!t&&!o&&!s)return;const c=new i.MarkdownString(void 0,!0);c.supportHtml=!0,c.isTrusted=!0;const l=n.extUtils.getDiagnosticTarget(e),g=n.extUtils.getDiagnosticCode(e);if(t){const t=r.vscodeUtils.createProblemIconMarkdown(0===e.severity?"error":1===e.severity?"warning":"info");c.appendMarkdown("<table>"),c.appendMarkdown("<tr>"),c.appendMarkdown(`<td>${t}</td>`),c.appendMarkdown("<td>"),c.appendMarkdown("\n\n"),c.appendCodeblock(e.message,"plaintext"),c.appendMarkdown("\n\n"),c.appendMarkdown("</td>"),c.appendMarkdown("</tr>"),c.appendMarkdown("</table>")}if(s){const t=r.vscodeUtils.createButtonLinkMarkdown({text:"$(clippy) Copy",href:r.vscodeUtils.createCommandUri("errorLens.copyProblemCode",{code:g}).toString(),title:"Copy problem code into the clipboard."});c.appendMarkdown("\n\n"),c.appendMarkdown(`${e.source??"<No source>"}(\`${g??"<No code>"}\`) `),g&&c.appendMarkdown(t)}if(o){const t=r.vscodeUtils.createButtonLinkMarkdown({text:"$(exclude) Exclude",href:r.vscodeUtils.createCommandUri("errorLens.excludeProblem",e).toString(),title:"Exclude problem from Error Lens by source/code"}),o=r.vscodeUtils.createButtonLinkMarkdown({text:"$(file) Definition",href:r.vscodeUtils.createCommandUri("errorLens.findLinterRuleDefinition",{source:e.source,code:g}).toString(),title:"Open diagnostic definition (linter file)."}),n=r.vscodeUtils.createButtonLinkMarkdown({text:"$(search) Search",href:r.vscodeUtils.createCommandUri("errorLens.searchForProblem",e).toString(),title:"Open problem in default browser (controlled by `errorLens.searchForProblemQuery` setting)."}),i=r.vscodeUtils.createButtonLinkMarkdown({text:"$(arrow-circle-up) Disable line",href:r.vscodeUtils.createCommandUri("errorLens.disableLine",e).toString(),title:"Add comment to disable linter rule for this line."});c.appendMarkdown("\n\n"),c.appendMarkdown(t);const s="none"!==a[String(e?.source)];if(s&&(c.appendMarkdown("&nbsp;".repeat(2)),c.appendMarkdown(o)),l){c.appendMarkdown("&nbsp;".repeat(2));const e=r.vscodeUtils.createButtonLinkMarkdown({text:"$(book) Docs",href:r.vscodeUtils.createCommandUri("vscode.open",l).toString(),title:"Open diagnostic code or search it in default browser."});c.appendMarkdown(e)}c.appendMarkdown("&nbsp;".repeat(2)),c.appendMarkdown(n),s&&(c.appendMarkdown("&nbsp;".repeat(2)),c.appendMarkdown(i))}return c}},541:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarIcons=void 0;const n=o(968),r=o(135),i=o(398);t.StatusBarIcons=class{constructor({isEnabled:e,atZero:t,useBackground:o,priority:n,alignment:r,targetProblems:s}){this.errorBackgroundThemeColor=new i.ThemeColor("statusBarItem.errorBackground"),this.warningBackgroundThemeColor=new i.ThemeColor("statusBarItem.warningBackground"),this.errorForegroundThemeColor=new i.ThemeColor("errorLens.statusBarIconErrorForeground"),this.warningForegroundThemeColor=new i.ThemeColor("errorLens.statusBarIconWarningForeground"),this.isEnabled=e,this.atZero=t,this.useBackground=o,this.targetProblems=s;const a="right"===r?i.StatusBarAlignment.Right:i.StatusBarAlignment.Left;this.errorStatusBarItem=i.window.createStatusBarItem("errorLensError",a,n),this.errorStatusBarItem.name="Error Lens: Error icon",this.errorStatusBarItem.command="workbench.actions.view.problems",this.warningStatusBarItem=i.window.createStatusBarItem("errorLensWarning",a,n-1),this.warningStatusBarItem.name="Error Lens: Warning icon",this.warningStatusBarItem.command="workbench.actions.view.problems",this.setBackground("error"),this.setForeground("error"),this.setBackground("warning"),this.setForeground("warning"),this.isEnabled?(this.errorStatusBarItem.show(),this.warningStatusBarItem.show()):this.dispose()}updateText(){if(!this.isEnabled)return;const e=[],t=[];let o=0,r=0;const i=n.extUtils.getDiagnostics({target:this.targetProblems});for(const n of i){const i=n[0],s=n[1],a=[],c=[];for(const e of s)0===e.severity?a.push(e):1===e.severity&&c.push(e);o+=a.length,r+=c.length,a.length&&e.push([i,a]),c.length&&t.push([i,c])}0===o?"hide"===this.atZero?this.errorStatusBarItem.text="":(this.clearBackground("error"),this.clearForeground("error"),this.errorStatusBarItem.text=`$(error) ${o}`,this.errorStatusBarItem.tooltip=this.makeTooltip(e,"error")):(this.setBackground("error"),this.setForeground("error"),this.errorStatusBarItem.text=`$(error) ${o}`,this.errorStatusBarItem.tooltip=this.makeTooltip(e,"error")),0===r?"hide"===this.atZero?this.warningStatusBarItem.text="":(this.clearBackground("warning"),this.clearForeground("warning"),this.warningStatusBarItem.text=`$(warning) ${r}`,this.warningStatusBarItem.tooltip=this.makeTooltip(t,"warning")):(this.setBackground("warning"),this.setForeground("warning"),this.warningStatusBarItem.text=`$(warning) ${r}`,this.warningStatusBarItem.tooltip=this.makeTooltip(t,"warning"))}dispose(){this.errorStatusBarItem.dispose(),this.warningStatusBarItem.dispose()}makeTooltip(e,t){const o=new i.MarkdownString(void 0,!0);o.isTrusted=!0;for(const n of e){const e=n[0],s=n[1];s.length&&o.appendMarkdown(`**${r.utils.basename(e.path)}**\n\n`);for(const n of s){const r=i.Uri.parse(`command:errorLens.revealLine?${encodeURIComponent(JSON.stringify([e.fsPath,[n.range.start.line,n.range.start.character]]))}`);o.appendMarkdown(`<span style="color:${"error"===t?"var(--vscode-editorError-foreground)":"var(--vscode-editorWarning-foreground)"};">$(${t})</span> [${n.message} \`${n.source??"<No source>"}\`](${r.toString()})\n\n`)}}return o}setForeground(e){"error"===e?this.errorStatusBarItem.color=this.errorForegroundThemeColor:"warning"===e&&(this.warningStatusBarItem.color=this.warningForegroundThemeColor)}clearForeground(e){"error"===e?this.errorStatusBarItem.color=void 0:"warning"===e&&(this.warningStatusBarItem.color=void 0)}setBackground(e){this.useBackground&&("error"===e?this.errorStatusBarItem.backgroundColor=this.errorBackgroundThemeColor:"warning"===e&&(this.warningStatusBarItem.backgroundColor=this.warningBackgroundThemeColor))}clearBackground(e){"error"===e?this.errorStatusBarItem.backgroundColor=void 0:"warning"===e&&(this.warningStatusBarItem.backgroundColor=void 0)}}},712:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarMessage=void 0;const n=o(265),r=o(563),i=o(968),s=o(135),a=o(398);t.StatusBarMessage=class{constructor({isEnabled:e,colorsEnabled:t,messageType:o,priority:n,alignment:r}){this.statusBarColors=[],this.activeMessagePosition=new a.Position(0,0),this.activeMessageText="",this.activeMessageSource="";const i="right"===r?a.StatusBarAlignment.Right:a.StatusBarAlignment.Left;this.isEnabled=e,this.colorsEnabled=t,this.messageType=o,this.statusBarItem=a.window.createStatusBarItem("errorLensMessage",i,n),this.statusBarItem.name="Error Lens: Message",this.statusBarItem.command="errorLens.statusBarCommand",this.isEnabled?this.statusBarItem.show():this.dispose()}updateText(e,t){if(!this.isEnabled)return;const o=Object.keys(t);if(0===o.length)return void this.clear();const r=e.selection.active.line;let a,c=0;if("activeLine"===this.messageType){if(!t[r])return void this.clear();a=t[r][0],c=t[r].length}else if("activeCursor"===this.messageType)t[r]&&(a=t[r].sort(((e,t)=>{const o=this.distanceInCharachtersToCursor(e),n=this.distanceInCharachtersToCursor(t);return o===n?e.severity-t.severity:o-n}))[0]);else if("closestProblem"===this.messageType){const e=o.map(Number).sort(((e,t)=>Math.abs(r-e)-Math.abs(r-t)));e:for(const o of e){const e=t[o];for(const t of e)if(i.extUtils.isSeverityEnabled(t.severity)){a=t,c=e.length;break e}}}else if("closestSeverity"===this.messageType){const e=o.map((e=>t[e])).flat().sort(((e,t)=>1e4*e.severity-1e4*t.severity+(Math.abs(r-e.range.start.line)-Math.abs(r-t.range.start.line))));for(const o of e)if(i.extUtils.isSeverityEnabled(o.severity)){a=o,c=t[o.range.start.line].length;break}}if(!a)return void this.clear();this.activeMessagePosition=a.range.start;let l=i.extUtils.diagnosticToInlineMessage(n.$config.statusBarMessageTemplate||n.$config.messageTemplate,a,c);n.$config.removeLinebreaks&&(l=s.utils.replaceLinebreaks(l,n.$config.replaceLinebreaksSymbol)),this.activeMessageText=l,this.activeMessageSource=a.source,this.colorsEnabled&&(this.statusBarItem.color=this.statusBarColors[a.severity]),this.statusBarItem.text=l,this.statusBarItem.tooltip=this.makeTooltip(a,n.$config.lintFilePaths)}clear(){this.isEnabled&&(this.statusBarItem.text="",this.statusBarItem.tooltip="")}distanceInCharachtersToCursor(e){const t=a.window.activeTextEditor?.selection.active;return t?e.range.contains(t)?0:Math.min(Math.abs(e.range.start.character-t.character),Math.abs(e.range.end.character-t.character)):0}dispose(){this.statusBarItem.dispose()}makeTooltip(e,t){return(0,r.createHoverForDiagnostic)({diagnostic:e,buttonsEnabled:!0,messageEnabled:!0,sourceCodeEnabled:!0,lintFilePaths:t})}}},968:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extUtils=void 0;const n=o(265),r=o(135),i=o(398);function s(e){const t={};for(const o of e){if(a(o))continue;const e=o.range.start.line;t[e]?t[e].push(o):t[e]=[o]}for(const e in t)t[e]=t[e].sort(((e,t)=>e.severity-t.severity));return t}function a(e){if(!c(e.severity))return!0;if(e.source)for(const t of n.$state.excludeSources)if(t.source===e.source){let o="";if("number"==typeof e.code?o=String(e.code):"string"==typeof e.code?o=e.code:e.code?.value&&(o=String(e.code.value)),!t.code)return!0;if(t.code&&o&&t.code===o)return!0}for(const t of n.$state.excludeRegexp)if(t.test(e.message))return!0;return!1}function c(e){return 0===e&&n.$state.configErrorEnabled||1===e&&n.$state.configWarningEnabled||2===e&&n.$state.configInfoEnabled||3===e&&n.$state.configHintEnabled}function l(e,t,o){let r=t.message;if(n.$state.replaceRegexp)for(const e of n.$state.replaceRegexp){const t=e.matcher.exec(r);if(t){r=e.message;for(let e=0;e<t.length;e++)r=r.replace(new RegExp(`\\$${e}`,"gu"),t[Number(e)]);break}}if("$message"===e)return r;{let i=e.replace("$message",r).replace("$severity",n.$config.severityText[t.severity]||"");if(e.includes("$count")&&(i=o>1?i.replace("$count",String(o)):i.replace(/(\s*?)?(\S*?)?(\$count)(\S*?)?(\s*?)?/u,((e,t,o,n,r,i)=>(t??"")+(i??"")))),e.includes("$source")&&(i=t.source?i.replace("$source",String(t.source)):i.replace(/(\s*?)?(\S*?)?(\$source)(\S*?)?(\s*?)?/u,((e,t,o,n,r,i)=>(t??"")+(i??"")))),e.includes("$code")){const e="object"==typeof t.code?String(t.code.value):String(t.code);i=t.code?i.replace("$code",e):i.replace(/(\s*?)?(\S*?)?(\$code)(\S*?)?(\s*?)?/u,((e,t,o,n,r,i)=>(t??"")+(i??"")))}return i}}function g(e,t){for(const o of e.visibleRanges)if(o.intersection(t.range))return!0;return!1}t.extUtils={prepareMessage:function({template:e,diagnostic:t,lineProblemCount:o,removeLinebreaks:i,replaceLinebreaksSymbol:s}){const a=l(e,t,o);return r.utils.truncateString(i?r.utils.replaceLinebreaks(a,s):a,n.$config.messageMaxChars)},getDiagnostics:function(e){const t=i.languages.getDiagnostics();if(void 0===e||"all"===e.target)return t;if("activeEditor"===e.target)return t.filter((e=>e[0].toString(!0)===i.window.activeTextEditor?.document.uri.toString(!0)));if("visibleEditors"===e.target){const e=[];for(const o of t)for(const t of i.window.visibleTextEditors)t.document.uri.toString(!0)===o[0].toString(!0)&&e.push(o);return e}return[]},getDiagnosticTarget:function(e){return"number"!=typeof e.code&&"string"!=typeof e.code&&e.code?.target},getDiagnosticCode:function(e){const t="string"==typeof e.code||"number"==typeof e.code?e.code:e.code?.value;if(void 0!==t)return String(t)},parseSourceCodeFromString:function(e){const t=/(?<source>[^()]+)(?:\((?<code>.+)\))?/u.exec(e),o=t?.groups?.source,n=t?.groups?.code;return{source:o,code:n}},diagnosticToSourceCodeString:function(e,t){return`${e}${t?`(${t})`:""}`},groupDiagnosticsByLine:s,shouldExcludeDiagnostic:a,isSeverityEnabled:c,diagnosticToInlineMessage:l,getDiagnosticAtLine:function(e,o){const n=i.languages.getDiagnostics(e),r=t.extUtils.groupDiagnosticsByLine(n)[o];if(r)return r[0]},getClosestDiagnostic:function(e){const t=s(i.languages.getDiagnostics(e.document.uri)),o=Object.keys(t),n=e.selection.active.line,r=o.map(Number).sort(((e,t)=>Math.abs(n-e)-Math.abs(n-t)));for(const e of r){const o=t[e];for(const e of o)if(c(e.severity))return e}},getClosestBySeverityDiagnostic:function(e){const t=s(i.languages.getDiagnostics(e.document.uri)),o=Object.keys(t),n=e.selection.active.line,r=o.map((e=>t[e])).flat().sort(((e,t)=>1e4*e.severity-1e4*t.severity+(Math.abs(n-e.range.start.line)-Math.abs(n-t.range.start.line))));for(const e of r)if(c(e.severity))return e},getClosestDiagnosticInViewport:function(e){const t=s(i.languages.getDiagnostics(e.document.uri)),o=e.selection.active.line;for(const o in t)g(e,t[o][0])||delete t[o];const n=t,r=Object.keys(n).sort(((e,t)=>Math.abs(o-Number(e))-Math.abs(o-Number(t))));for(const e of r){const o=t[e];for(const e of o)if(c(e.severity))return e}},isDiagnosticInViewport:g,getVisualLineLength:function(e,t,o){if("spaces"===o)return e.range.end.character;{const o=e.text.slice(0,e.firstNonWhitespaceCharacterIndex).replace(/[^\t]/gu,""),n=o.length,r=e.text.slice(n);return o.length*t+r.length}},shouldAlign:function(){return Boolean(n.$config.alignMessage.start||n.$config.alignMessage.end)},shouldShowInlineMessage:function(){const e=n.$config.messageEnabled,t=n.$config.respectUpstreamEnabled;return t.enabled&&t.inlineMessage?e&&n.$state.vscodeGlobalProblemsEnabled:e},shouldShowGutterIcons:function(){const e=n.$config.gutterIconsEnabled,t=n.$config.respectUpstreamEnabled;return t.enabled&&t.gutter?e&&n.$state.vscodeGlobalProblemsEnabled:e},shouldShowStatusBarIcons:function(){const e=n.$config.statusBarIconsEnabled,t=n.$config.respectUpstreamEnabled;return t.enabled&&t.statusBar?e&&n.$state.vscodeGlobalProblemsEnabled:e},shouldShowStatusBarMessage:function(){const e=n.$config.statusBarMessageEnabled,t=n.$config.respectUpstreamEnabled;return t.enabled&&t.statusBar?e&&n.$state.vscodeGlobalProblemsEnabled:e}}},628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0,t.Logger=class{constructor({isDev:e}){this.isEnabled=e}log(e,...t){this.innerLog("log",e,...t)}warn(e,...t){this.innerLog("warn",e,...t)}innerLog(e,t,...o){this.isEnabled&&(o.length?console[e](t,o):console[e](t))}}},175:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMultilineDecoration=t.createMultilineDecorations=void 0;const n=o(687),r=o(217),i=o(265),s=o(968),a=o(398);function c(e){e.setDecorations(n.decorationTypes.multilineError,[]),e.setDecorations(n.decorationTypes.multilineWarning,[]),e.setDecorations(n.decorationTypes.multilineInfo,[]),e.setDecorations(n.decorationTypes.multilineHint,[]),e.setDecorations(n.decorationTypes.errorRange,[]),e.setDecorations(n.decorationTypes.warningRange,[]),e.setDecorations(n.decorationTypes.infoRange,[]),e.setDecorations(n.decorationTypes.hintRange,[]),e.setDecorations(n.decorationTypes.multilineErrorLineBackground,[]),e.setDecorations(n.decorationTypes.multilineWarningLineBackground,[]),e.setDecorations(n.decorationTypes.multilineInfoLineBackground,[]),e.setDecorations(n.decorationTypes.multilineHintLineBackground,[])}function l({isFirstLineOfDecoration:e,isLastLineOfDecoration:t}){let o="";const n=i.$config.multilineMessage.borderRadius||i.$config.borderRadius;return e?o=`${n} ${n} 0 0`:t&&(o=`0 0 ${n} ${n}`),e&&t&&(o=`${n}`),`border-radius:${o}`}function g(e,t,o){return Math.min(Math.abs(e-o.range.start.line),Math.abs(t-o.range.start.line))}function d({textLines:e,messageLines:t,howManyLinesFromDiagnostic:o,minVisualLineLength:n,visibleLineCount:r,preferFittingMessageMultiplier:s,diagnostic:a}){const c=t.join("").length,l=o>=r?0:Math.floor(100-o/r*100),g=i.$config.multilineMessage.maxColumnForCalculation-n,d=t.reduce(((e,t)=>e+(t.length<=g?0:t.length-g)),0);let u=l+(0===d?100:100-100/(c/100*d))*s;return Math.round(u)}t.createMultilineDecorations=function(){n.decorationTypes.multilineError=a.window.createTextEditorDecorationType({after:{backgroundColor:new a.ThemeColor("errorLens.errorMessageBackground"),color:new a.ThemeColor("errorLens.errorForeground")}}),n.decorationTypes.multilineWarning=a.window.createTextEditorDecorationType({after:{backgroundColor:new a.ThemeColor("errorLens.warningMessageBackground"),color:new a.ThemeColor("errorLens.warningForeground")}}),n.decorationTypes.multilineInfo=a.window.createTextEditorDecorationType({after:{backgroundColor:new a.ThemeColor("errorLens.infoMessageBackground"),color:new a.ThemeColor("errorLens.infoForeground")}}),n.decorationTypes.multilineHint=a.window.createTextEditorDecorationType({after:{backgroundColor:new a.ThemeColor("errorLens.hintMessageBackground"),color:new a.ThemeColor("errorLens.hintForeground")}}),n.decorationTypes.multilineErrorLineBackground=a.window.createTextEditorDecorationType({backgroundColor:new a.ThemeColor("errorLens.errorBackground"),isWholeLine:!0}),n.decorationTypes.multilineWarningLineBackground=a.window.createTextEditorDecorationType({backgroundColor:new a.ThemeColor("errorLens.warningBackground"),isWholeLine:!0}),n.decorationTypes.multilineInfoLineBackground=a.window.createTextEditorDecorationType({backgroundColor:new a.ThemeColor("errorLens.infoBackground"),isWholeLine:!0}),n.decorationTypes.multilineHintLineBackground=a.window.createTextEditorDecorationType({backgroundColor:new a.ThemeColor("errorLens.hintBackground"),isWholeLine:!0})},t.showMultilineDecoration=function(e){if(0===a.languages.getDiagnostics(e.document.uri).length||!s.extUtils.shouldShowInlineMessage())return void c(e);let t;if("closestProblemMultiline"===i.$config.followCursor?t=s.extUtils.getClosestDiagnostic(e):"closestProblemMultilineInViewport"===i.$config.followCursor?t=s.extUtils.getClosestDiagnosticInViewport(e):"closestProblemMultilineBySeverity"===i.$config.followCursor&&(t=s.extUtils.getClosestBySeverityDiagnostic(e)),void 0===t)return void c(e);const o=e.options.insertSpaces?"spaces":"tab",u=e.options.tabSize;let f=t.message.split(/[\n\r]/u);const h=f.slice(0).sort(((e,t)=>t.length-e.length))[0].length;f=f.map((e=>e.padEnd(h," "))),s.extUtils.isDiagnosticInViewport(e,t);const m=function(e){let t=0;for(const o of e.visibleRanges)t+=o.end.line-o.start.line;return t}(e),p=Math.min(f.length,i.$config.multilineMessage.decorationMaxNumberOfLines,e.document.lineCount);let v=[];const w=[];for(const t of e.visibleRanges)for(let o=t.start.line;o<t.end.line;o++){const t=[];for(let n=o;n<o+p&&!(n>e.document.lineCount-1);n++){const o=e.document.lineAt(n);o&&t.push(o)}w.push(t)}for(const e of w){const n=g(e[0].range.start.line,e.at(-1).range.end.line,t),r=e.slice(0).sort(((e,t)=>s.extUtils.getVisualLineLength(t,u,o)-s.extUtils.getVisualLineLength(e,u,o)))[0],a=Math.max(s.extUtils.getVisualLineLength(r,u,o),i.$config.multilineMessage.alignStart);v.push({startLineIndex:e[0].range.start.line,endLineIndex:e.at(-1).range.end.line,howManyLinesFromDiagnostic:n,minVisualLineLength:a,score:d({textLines:e,diagnostic:t,messageLines:f,howManyLinesFromDiagnostic:n,minVisualLineLength:a,visibleLineCount:m,preferFittingMessageMultiplier:i.$config.multilineMessage.preferFittingMessageMultiplier}),textLines:e,startLineStartsWith:e[0].text.slice(0,10)})}v=v.slice(0).sort(((e,t)=>t.score-e.score));const b=v[0],$=[];let C=0;for(const e of b.textLines){const n=l({isFirstLineOfDecoration:0===C,isLastLineOfDecoration:C===b.textLines.length-1}),s="line"===i.$config.multilineMessage.highlightProblemLine&&e.range.start.line===t.range.start.line;let a,c,g="";if(i.$config.multilineMessage.useFixedPosition){const t=(0,r.getStyleForAlignment)({isMultilineDecoration:!0,alignmentKind:"fixed",indentSize:u,indentStyle:o,minVisualLineLength:b.minVisualLineLength,minimumMargin:i.$config.multilineMessage.margin,textLine:e,start:i.$config.multilineMessage.alignStart,end:i.$config.multilineMessage.alignEnd,problemMessage:f[C]});a=t.range,g=t.styleStr}else{const t=(0,r.getStyleForAlignment)({isMultilineDecoration:!0,alignmentKind:"normal",indentSize:u,indentStyle:o,minVisualLineLength:b.minVisualLineLength,minimumMargin:i.$config.multilineMessage.margin,textLine:e,start:i.$config.multilineMessage.alignStart,end:i.$config.multilineMessage.alignEnd,problemMessage:f[C]});a=t.range,g=t.styleStr,c="100%"}$.push({range:a,renderOptions:{after:{height:c,backgroundColor:s?"#fff0":void 0,contentText:f[C],textDecoration:`;white-space:pre;padding:0 ${i.$config.multilineMessage.padding}ch;${n};${g};`}}}),C++}let I=[],L=[],y=[],x=[],T=[],S=[],D=[],P=[];0===t.severity?(I=$,T=[new a.Range(t.range.start,t.range.start)]):1===t.severity?(L=$,S=[new a.Range(t.range.start,t.range.start)]):2===t.severity?(y=$,D=[new a.Range(t.range.start,t.range.start)]):3===t.severity&&(x=$,P=[new a.Range(t.range.start,t.range.start)]),e.setDecorations(n.decorationTypes.multilineError,I),e.setDecorations(n.decorationTypes.multilineWarning,L),e.setDecorations(n.decorationTypes.multilineInfo,y),e.setDecorations(n.decorationTypes.multilineHint,x),"line"===i.$config.multilineMessage.highlightProblemLine?(e.setDecorations(n.decorationTypes.multilineErrorLineBackground,T),e.setDecorations(n.decorationTypes.multilineWarningLineBackground,S),e.setDecorations(n.decorationTypes.multilineInfoLineBackground,D),e.setDecorations(n.decorationTypes.multilineHintLineBackground,P)):"range"===i.$config.multilineMessage.highlightProblemLine&&(0===t.severity?e.setDecorations(n.decorationTypes.errorRange,[t.range]):1===t.severity?e.setDecorations(n.decorationTypes.warningRange,[t.range]):2===t.severity?e.setDecorations(n.decorationTypes.infoRange,[t.range]):3===t.severity&&e.setDecorations(n.decorationTypes.hintRange,[t.range]))}},135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=void 0,t.utils={truncateString:function(e,t){const o=[...e];return o.length>t?`${o.slice(0,t).join("")}â€¦`:e},replaceLinebreaks:function(e,t){return e.replace(/[\n\r\t]+/gu,t)},basename:function(e){return e.split(/[\\/]/u).pop()??""},surround:function(e,t){return`${t}${e}${t}`}}},301:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vscodeUtils=void 0;const n=o(135),r=o(398);async function i(e,t){const o=r.workspace.getConfiguration();await o.update(e,t,r.ConfigurationTarget.Global)}t.vscodeUtils={updateGlobalSetting:i,toggleGlobalBooleanSetting:async function(e){const t=r.workspace.getConfiguration().get(e);void 0!==t&&await i(e,!t)},svgToUri:function(e){return r.Uri.parse(`data:image/svg+xml;utf8,${e}`)},createCommandUri:function(e,t){const o=t?`?${encodeURIComponent(JSON.stringify(t))}`:"";return r.Uri.parse(`command:${e}${o}`)},openSettingGuiAt:async function(e){await r.commands.executeCommand("workbench.action.openSettings",e)},createStyledMarkdown:function({strMd:e="",backgroundColor:t="var(--vscode-editorHoverWidget-background)",color:o="var(--vscode-editorHoverWidget-foreground)"}){return`<span style="${o?`color:${o};`:""}${t?`background-color:${t};`:""}">${e}</span>`},createButtonLinkMarkdown:function({text:e,href:o,title:r=""}){return`<a title="${r}" href="${o}">${t.vscodeUtils.createStyledMarkdown({strMd:n.utils.surround(e,"&nbsp;"),backgroundColor:"var(--vscode-button-background)",color:"var(--vscode-button-foreground)"})}</a>`},createProblemIconMarkdown:function(e){const o="error"===e?"var(--vscode-editorError-foreground)":"warning"===e?"var(--vscode-editorWarning-foreground)":"var(--vscode-editorInfo-foreground)";return t.vscodeUtils.createStyledMarkdown({strMd:`$(${e})`,color:o})},readFileVscode:async function(e){try{const t="string"==typeof e?r.Uri.file(e):e,o=await r.workspace.fs.readFile(t);return(new TextDecoder).decode(o)}catch(e){return r.window.showErrorMessage(e.message),""}},openFileInVscode:async function(e){let t;return t=await r.workspace.openTextDocument(e),r.window.showTextDocument(t)},revealLine:function(e,t){const o=new r.Range(t,0,t,0);e.selection=new r.Selection(o.start,o.end),e.revealRange(o,r.TextEditorRevealType.AtTop);const n=r.window.createTextEditorDecorationType({backgroundColor:"#ffa30468",isWholeLine:!0});e.setDecorations(n,[o]),setTimeout((()=>{e.setDecorations(n,[]),n?.dispose()}),700)},getIndentationAtLine:function(e,t){const o=e.lineAt(t);return o.text.slice(0,o.firstNonWhitespaceCharacterIndex)},setCaretInEditor:function({editor:e,range:t}){e||(e=r.window.activeTextEditor),e&&(e.selection=new r.Selection(t.start,t.end),e.revealRange(t))}}},398:e=>{"use strict";e.exports=require("vscode")}},t={},o=function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}(265);module.exports=o})();