/*!
 * NevWare21 - ts-async, 0.2.6
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 and contributors. All rights reserved.
 * Licensed under the MIT license.
 */
function n(n){"use strict";var f=void 0,s=null,D="",q="function",F="object",v="prototype",H="__proto__",t="undefined",J="constructor",L="Symbol",U="length",W="name",$="slice",e=Object,B=e[v],G=String,K=(r=Array)[v];function M(t){return function(n){return typeof n===t}}function Q(n){return B.toString.call(n)}function S(n){return typeof n===t||n===t}var j=M(q);function V(n){return(n||n!==s&&!S(n))&&n&&typeof n===F}var X=r.isArray,Y=M("number"),Z=function(n){return!(!n||"[object Error]"!==Q(n))};function R(n){return n&&j(n.then)}var nn=e.getOwnPropertyDescriptor,tn=e.hasOwn||function(n,t){return n&&B.hasOwnProperty.call(n,t)||!!nn(n,t)};function u(n,t,e){if(n&&V(n))for(var r in n)if(tn(n,r)&&-1===t.call(e||n,r,n[r]))break}function en(n){throw new TypeError(n)}var rn=e.freeze,r=rn||function(n){return n},on=e.getPrototypeOf||function(n){return n[H]||s},un={};u({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12},function(n,t){un[n]=n,un[t]=n}),at=un,rn&&u(at,function(n,t){(X(t)||V(t))&&rn(t)});var cn,an=r(at),fn=G,ln="__tsUtils$gblCfg";function sn(){var n;return(n=(n=(n=typeof globalThis!==t?globalThis:n)||typeof self===t?n:self)||typeof window===t?n:window)||typeof global===t?n:global}function T(n,t){var e=D;if(Z(n))e="{ stack: '"+n.stack+"', message: '"+n.message+"', name: '"+n.name+"'";else try{e=JSON.stringify(n,s,t?Y(t)?t:4:f)}catch(n){e=" - "+T(n,t)}return Q(n)+": "+e}function vn(r,o,u){return function(n){var t,e=n&&n[r]||o&&o[r];if(e||u)return t=arguments,(e||u).apply(n,e?K[$].call(t,1):t);en("'"+fn(r)+"' not defined for "+T(n))}}var A,dn={},c={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"},I=e.defineProperty;function yn(n,t,e){var r,o;I(n,t,(r=e,(o={})[c.c]=!0,o[c.e]=!0,r.l&&(o.get=function(){return r.l.v},n=nn(r.l,"v"))&&n.set&&(o.set=function(n){r.l.v=n}),u(r,function(n,t){o[c[n]]=S(t)?o[c[n]]:t}),o))}var pn=function(){var n;cn||(n=sn()||{},cn=n[ln]=n[ln]||{}),A=cn,pn=s};function o(t){var e={};return pn&&pn(),e.b=A.lzy,I(e,"v",{configurable:!0,get:function(){var n=t();return A.lzy||(I(e,"v",{value:n}),e.b&&delete e.b),A.lzy&&e.b!==A.lzy&&(e.b=A.lzy),n}}),e}function E(e,r){return o(function(){var n=e,t=r;try{t=n()}catch(n){}return t})}var i,k,z,mn,C,hn,gn,bn="window";function O(n){return E(function(){return wn(n)||f},f)}function Pn(n){return(i=!i||!1===n||A.lzy&&!i.b?E(sn,s):i).v}function wn(n,t){t=Pn(t);return t&&t[n]?t[n]:n===bn&&k?k.v:s}function Sn(n){return E(function(){return C.v?C[n]:f},f)}function jn(){var n=!C||A&&A.lzy&&!C.b;return n&&(C=O(L)),hn&&!n||(hn=Sn("for")),gn&&!n||(gn=Sn("keyFor")),C.v}function Rn(n,t,e){if(n)for(var r=n[U]>>>0,o=0;o<r&&!(o in n&&-1===t.call(e||n,n[o],o,n));o++);}var Tn,An=vn("indexOf",K),_=vn($,K),In=e.create||function(n){if(!n)return{};var t=typeof n;if(t!==F&&t!=q)throw new TypeError("Prototype must be an Object or function: "+T(n));function e(){}return e[v]=n,new e};function En(n,t){return(e.setPrototypeOf||function(e,n){(Tn=Tn||o(function(){var n={};return n[H]=[],n instanceof Array})).v?e[H]=n:u(n,function(n,t){return e[n]=t})})(n,t)}function kn(n,t){try{t&&(n[W]=t)}catch(n){}}function zn(n,t){try{yn(n,W,{v:t,c:!0,e:!1})}catch(n){}}function m(){return(Date.now||Cn)()}function Cn(){return(new Date).getTime()}function h(n){return n[_n]}var On,_n=U;function xn(){var n=(On=!On||A.lzy&&!On.b?O("performance"):On).v;return n&&n.now?n.now():m()}var Nn,Dn="unref",qn="hasRef",Fn="enabled";function Hn(n,t,e){function r(){return i=!1,a&&a[Dn]&&a[Dn](),c}function o(){return a=t(a),i||r(),c}function u(){a&&e(a),a=s}var c,i=!0,a=n?t(s):s,n={cancel:u,refresh:o,hasRef:function(){return a&&a[qn]?a[qn]():i},ref:function(){return i=!0,a&&a.ref&&a.ref(),c}};return n[Dn]=r,n[Fn]=!1,I(c=n,Fn,{get:function(){return!!a},set:function(n){!n&&a&&u(),n&&!a&&o()}}),{h:c,dn:function(){a=s}}}function x(){return t=this,n=f,e=_(arguments),o=(r=X(n))?n.length:0,u=(0<o?n[0]:r?f:n)||setTimeout,c=(1<o?n[1]:f)||clearTimeout,i=e[0],e[0]=function(){a.dn(),i.apply(t,arguments)},(a=Hn(!0,function(n){if(n){if(n.refresh)return n.refresh(),n;c.call(t,n)}return u.apply(t,e)},function(n){c.call(t,n)})).h;var t,n,e,r,o,u,c,i,a}var Jn,Ln,Un,Wn=100,$n=50;function Bn(n,t){return Gn(n,function(n){t&&t({value:n,rejected:!1})},function(n){t&&t({rejected:!0,reason:n})})}function Gn(n,t,e,r){var o=n;return R(n)?(t||e)&&(o=n.then(t,e)):t&&t(n),r?Kn(o,r):o}function Kn(n,t){var e=n;return t&&(R(n)?e=n.finally?n.finally(t):n.then(function(n){return t(),n},function(n){throw t(),n}):t()),e}var Mn,Qn,Vn=!1,Xn=["pending","resolving","resolved","rejected"],Yn="dispatchEvent",Zn="Promise",nt="unhandledRejection",tt=nt.toLowerCase(),N=[],et=0,rt=10;function ot(n){return j(n)?n.toString():T(n)}function ut(n,t,e){function r(o,u){try{return N.push(m),g=!0,b&&b.cancel(),b=null,n(function(e,r){p.push(function(){try{var n=2===d?o:u,t=S(n)?a:j(n)?n(a):n;R(t)?t.then(e,r):(n||3!==d?e:r)(t)}catch(n){r(n)}}),y&&c()},v)}finally{N.pop()}}function o(){return Xn[d]}function c(){var n;0<p.length&&(n=p.slice(),p=[],g=!0,t(n),b&&b.cancel(),b=null)}function u(t,e){return function(n){d===e&&(2===t&&R(n)?(d=1,n.then(u(2,1),u(3,1))):(d=t,y=!0,a=n,c(),g||3!==t||(b=b||x(i,rt))))}}function i(){var n,t,e,r,o;g||((mn=mn||E(function(){return!(!process||!(process.versions||{}).node)},!1)).v?process.emit(nt,a,P):(e=(k=!k||A.lzy&&!k.b?O(bn):k).v||Pn(),n=tt,o=function(n){return yn(n,"promise",{g:function(){return P}}),n.reason=a,n},t=!!Qn.v,r=(z=!z||A.lzy&&!z.b?O("document"):z).v,o(o=(Mn=Mn||E(function(){var n;return!!(n=r&&r.createEvent?r.createEvent("Event"):n)&&n.initEvent},null)).v?r.createEvent("Event"):t?new Event(n):{}),Mn.v&&o.initEvent(n,!1,!0),o&&e[Yn]?e[Yn](o):(t=e["on"+n])?t(o):(e=wn("console"))&&(e.error||e.log)(n,T(o))))}var a,f,l,s,v=_(arguments,3),d=0,y=!1,p=[],m=et++,h=0<N.length?N[N.length-1]:void 0,g=!1,b=null,P=(Qn=Qn||O(Zn+"RejectionEvent"),{then:r,catch:function(n){return r(void 0,n)},finally:function(t){var n=t,e=t;return j(t)&&(n=function(n){return t&&t(),n},e=function(n){throw t&&t(),n}),r(n,e)}}),w=(I(P,"state",{get:o}),Vn&&(f=function(){return Q(a)},w=function(){return g},Ln=Ln||{toString:function(){return"[[PromiseResult]]"}},Un=Un||{toString:function(){return"[[PromiseIsHandled]]"}},I(s=P,Jn=Jn||{toString:function(){return"[[PromiseState]]"}},{get:o}),I(s,Ln,{get:f}),I(s,Un,{get:w})),jn()&&(P[f=an[11],C&&(!A.lzy||C.b)||jn(),C.v?C.v[f||11]:(s=an[11])?dn[s]=dn[s]||{description:fn(l=L+"."+s),toString:function(){return L+"("+l+")"},_polyfill:!0}:void 0]="IPromise"),P.toString=function(){return"IPromise"+(Vn?"["+m+(S(h)?"":":"+h)+"]":"")+" "+o()+(y?" - "+ot(a):"")},j(e)||en(Zn+": executor is not a function - "+ot(e)),u(3,0));try{e.call(P,u(2,0),w)}catch(n){w(n)}return P}function a(e){return function(n){var t=_(arguments,1);return e(function(e,r){try{var o=[],u=1;Rn(n,function(n,t){n&&(u++,Gn(n,function(n){o[t]=n,0==--u&&e(o)},r))}),0==--u&&e(o)}catch(n){r(n)}},t)}}function l(e){return function(t){var n=_(arguments,1);return R(t)?t:e(function(n){n(t)},n)}}function d(t){return function(e){var n=_(arguments,1);return t(function(n,t){t(e)},n)}}function ct(n){Rn(n,function(n){try{n()}catch(n){}})}function y(n,t){return ut(y,(r=Y(e=t)?e:0,function(n){x(function(){ct(n)},r)}),n,t);var e,r}var it,r=a(y),at=l(y),G=d(y);function p(n,t){var e=(it=it||O(Zn)).v;if(!e)return y(n);j(n)||en(Zn+": executor is not a function - "+T(n));var r=0,e=new e(function(t,e){n(function(n){r=2,t(n)},function(n){r=3,e(n)})});return I(e,"state",{get:function(){return Xn[r]}}),e}var ft=a(p),lt=l(p),st=d(p);function g(n){return ut(g,ct,n)}var vt,dt=a(g),yt=l(g),pt=d(g);function b(n,t){var c,t=S(t)?vt:t;return ut(b,(0<=t&&(c={timeout:+t}),function(t){var e,n,r=function(n){ct(t)},o=c;function u(n){var t=xn();return{didTimeout:n,timeRemaining:function(){return $n-(n=t,xn()-n);var n}}}(Nn=Nn||E(function(){return!!(n=requestIdleCallback)||n!==f;var n},!1)).v&&requestIdleCallback?(e=Hn(!0,function(n){return n&&cancelIdleCallback(n),requestIdleCallback(function(n){e.dn(),r(n||u(!1))},o)},function(n){cancelIdleCallback(n)})).h:x(function(){r(u(!0))},S(n=(o||{}).timeout)?Wn:n)}),n,t)}var mt,ht=a(b),gt=l(b),bt=d(b);function P(n,t){return(mt=mt||o(function(){return p})).v.call(this,n,t)}function Pt(){}function wt(n,t,e){function r(){this.constructor=u,zn(this,o)}var o,u;kt[n]||(kt[n]=(a=(i=Error)[v][W],f=Error.captureStackTrace,l=i,zn(u=function(){var n=this;try{kn(i,c);var t,e=i.apply(n,arguments)||n;return e!==n&&(t=on(n))!==on(e)&&En(e,t),f&&f(e,n[J]),e}finally{kn(i,a)}},o=c=n),(u=En(u,l))[v]=l===s?In(l):(r[v]=l[v],new r),u));var c,i,a,f,l=m();return new kt[n]("Task [".concat(t.id,"] ").concat(e||"","- ").concat(t.st?"Running":"Waiting",": ").concat((l-(t.st||t.cr)||"0")+" ms"))}var St,jt,Rt=a(P),Tt=l(P),At=d(P),w="reject",It="Rejected",Et=0,kt={};function zt(n,t){var e=m()-t;Rn(n,function(n){(n&&!n.rj&&n.st&&n.st<e||!n.st&&n.cr&&n.cr<e)&&n&&n[w](n.rj||wt("Aborted",n,"Stale "))})}function Ct(n,t){t=An(n,t);-1!==t&&n.splice(t,1)}n.createAllPromise=Rt,n.createAsyncAllPromise=r,n.createAsyncPromise=y,n.createAsyncRejectedPromise=G,n.createAsyncResolvedPromise=at,n.createIdleAllPromise=ht,n.createIdlePromise=b,n.createIdleRejectedPromise=bt,n.createIdleResolvedPromise=gt,n.createNativeAllPromise=ft,n.createNativePromise=p,n.createNativeRejectedPromise=st,n.createNativeResolvedPromise=lt,n.createPromise=P,n.createRejectedPromise=At,n.createResolvedPromise=Tt,n.createSyncAllPromise=dt,n.createSyncPromise=g,n.createSyncRejectedPromise=pt,n.createSyncResolvedPromise=yt,n.createTaskScheduler=function(a,n){function f(u,c){return u.st=m(),i.push(u),y(),function(t,e){function r(n){u.rj=u.rj||n||wt(It,u),u[w]=Pt,p(u),t=null,e&&e(n),e=null}var n=u.id;if(u.rj)r(u.rj);else{u[w]=r;try{var o=c(n);u.to&&R(o)&&(u.t=x(function(){r(wt("Timeout",u))},u.to)),Gn(o,function(n){p(u),e=null,t&&t(n),t=null},r)}catch(n){r(n)}}}}var l,e,r,o,t,u,i=[],s=[],v=0,d=(n?n+".":"")+Et++,y=(a=a||P,function(){var n=0<h(i)+h(s);0<e&&(o||(o=x(function(){zt(i,e),zt(s,e),o&&(o.enabled=0<h(i)+h(s))},r)).unref(),o)&&(o.enabled=n)}),p=function(n){Ct(i,n),n.t&&n.t.cancel(),n.t=null,l&&l===n&&(l=null,h(i)+h(s)===0)&&(o&&o.cancel(),o=null)},n={idle:!0,queue:function(n,t,e){var r,o,u,c=d+"."+v++,i=(t&&(c+="-("+t+")"),(t={id:c,cr:m(),to:e})[w]=function(n){i.rj=n||wt(It,i),i[w]=Pt},t);return i.p=l?(o=l,u=n,s.push(r=i),y(),a(function(n,t){r.id,o.id,Bn(o.p,function(){Ct(s,r),f(r,u)(n,t)})})):a(f(i,n)),(l=i).p},setStaleTimeout:function(n,t){o&&o.cancel(),o=null,e=n,r=t||n/10,y()}};return yn(n,"idle",{g:function(){return h(i)+h(s)===0}}),u=function(){return{l:l,r:i,w:s}},jt=jt||{toString:function(){return"[[SchedulerState]]"}},I(t=n,St=St||{toString:function(){return"[[SchedulerName]]"}},{get:function(){return d}}),I(t,jt,{get:u}),n},n.doAwait=Gn,n.doAwaitResponse=Bn,n.doFinally=Kn,n.setCreatePromiseImpl=function(n){mt=n?o(function(){return n}):null},n.setDetaultIdleTimeout=function(n){vt=n},n.setPromiseDebugState=function(n,t){Vn=n}}var t=this;"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(((t="undefined"!=typeof globalThis?globalThis:t||self).nevware21=t.nevware21||{},t.nevware21["ts-async"]={}));
//# sourceMappingURL=ts-async.min.js.map
